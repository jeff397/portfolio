var hR=Object.defineProperty;var KS=c=>{throw TypeError(c)};var dR=(c,t,e)=>t in c?hR(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var Tt=(c,t,e)=>dR(c,typeof t!="symbol"?t+"":t,e),tv=(c,t,e)=>t.has(c)||KS("Cannot "+e);var h=(c,t,e)=>(tv(c,t,"read from private field"),e?e.call(c):t.get(c)),C=(c,t,e)=>t.has(c)?KS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),_=(c,t,e,s)=>(tv(c,t,"write to private field"),s?s.call(c,e):t.set(c,e),e),T=(c,t,e)=>(tv(c,t,"access private method"),e);var wn=(c,t,e,s)=>({set _(r){_(c,t,r,e)},get _(){return h(c,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function Dg(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ev={exports:{}},uh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function fR(){if(WS)return uh;WS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:c,type:s,key:u,ref:r!==void 0?r:null,props:l}}return uh.Fragment=t,uh.jsx=e,uh.jsxs=e,uh}var QS;function pR(){return QS||(QS=1,ev.exports=fR()),ev.exports}var X=pR(),nv={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function gR(){if(ZS)return Lt;ZS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function M(L,U,tt){this.props=L,this.context=U,this.refs=w,this.updater=tt||A}M.prototype.isReactComponent={},M.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function x(){}x.prototype=M.prototype;function O(L,U,tt){this.props=L,this.context=U,this.refs=w,this.updater=tt||A}var k=O.prototype=new x;k.constructor=O,S(k,M.prototype),k.isPureReactComponent=!0;var N=Array.isArray,H={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function Y(L,U,tt,et,it,pt){return tt=pt.ref,{$$typeof:c,type:L,key:U,ref:tt!==void 0?tt:null,props:pt}}function W(L,U){return Y(L.type,U,void 0,void 0,void 0,L.props)}function G(L){return typeof L=="object"&&L!==null&&L.$$typeof===c}function nt(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(tt){return U[tt]})}var at=/\/+/g;function St(L,U){return typeof L=="object"&&L!==null&&L.key!=null?nt(""+L.key):U.toString(36)}function ht(){}function ft(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ht,ht):(L.status="pending",L.then(function(U){L.status==="pending"&&(L.status="fulfilled",L.value=U)},function(U){L.status==="pending"&&(L.status="rejected",L.reason=U)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function gt(L,U,tt,et,it){var pt=typeof L;(pt==="undefined"||pt==="boolean")&&(L=null);var ct=!1;if(L===null)ct=!0;else switch(pt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(L.$$typeof){case c:case t:ct=!0;break;case m:return ct=L._init,gt(ct(L._payload),U,tt,et,it)}}if(ct)return it=it(L),ct=et===""?"."+St(L,0):et,N(it)?(tt="",ct!=null&&(tt=ct.replace(at,"$&/")+"/"),gt(it,U,tt,"",function(kt){return kt})):it!=null&&(G(it)&&(it=W(it,tt+(it.key==null||L&&L.key===it.key?"":(""+it.key).replace(at,"$&/")+"/")+ct)),U.push(it)),1;ct=0;var ot=et===""?".":et+":";if(N(L))for(var vt=0;vt<L.length;vt++)et=L[vt],pt=ot+St(et,vt),ct+=gt(et,U,tt,pt,it);else if(vt=b(L),typeof vt=="function")for(L=vt.call(L),vt=0;!(et=L.next()).done;)et=et.value,pt=ot+St(et,vt++),ct+=gt(et,U,tt,pt,it);else if(pt==="object"){if(typeof L.then=="function")return gt(ft(L),U,tt,et,it);throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ct}function V(L,U,tt){if(L==null)return L;var et=[],it=0;return gt(L,et,"","",function(pt){return U.call(tt,pt,it++)}),et}function Z(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(tt){(L._status===0||L._status===-1)&&(L._status=1,L._result=tt)},function(tt){(L._status===0||L._status===-1)&&(L._status=2,L._result=tt)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var J=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function _t(){}return Lt.Children={map:V,forEach:function(L,U,tt){V(L,function(){U.apply(this,arguments)},tt)},count:function(L){var U=0;return V(L,function(){U++}),U},toArray:function(L){return V(L,function(U){return U})||[]},only:function(L){if(!G(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Lt.Component=M,Lt.Fragment=e,Lt.Profiler=r,Lt.PureComponent=O,Lt.StrictMode=s,Lt.Suspense=f,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Lt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Lt.cache=function(L){return function(){return L.apply(null,arguments)}},Lt.cloneElement=function(L,U,tt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var et=S({},L.props),it=L.key,pt=void 0;if(U!=null)for(ct in U.ref!==void 0&&(pt=void 0),U.key!==void 0&&(it=""+U.key),U)!B.call(U,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&U.ref===void 0||(et[ct]=U[ct]);var ct=arguments.length-2;if(ct===1)et.children=tt;else if(1<ct){for(var ot=Array(ct),vt=0;vt<ct;vt++)ot[vt]=arguments[vt+2];et.children=ot}return Y(L.type,it,void 0,void 0,pt,et)},Lt.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Lt.createElement=function(L,U,tt){var et,it={},pt=null;if(U!=null)for(et in U.key!==void 0&&(pt=""+U.key),U)B.call(U,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(it[et]=U[et]);var ct=arguments.length-2;if(ct===1)it.children=tt;else if(1<ct){for(var ot=Array(ct),vt=0;vt<ct;vt++)ot[vt]=arguments[vt+2];it.children=ot}if(L&&L.defaultProps)for(et in ct=L.defaultProps,ct)it[et]===void 0&&(it[et]=ct[et]);return Y(L,pt,void 0,void 0,null,it)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(L){return{$$typeof:d,render:L}},Lt.isValidElement=G,Lt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:Z}},Lt.memo=function(L,U){return{$$typeof:g,type:L,compare:U===void 0?null:U}},Lt.startTransition=function(L){var U=H.T,tt={};H.T=tt;try{var et=L(),it=H.S;it!==null&&it(tt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(_t,J)}catch(pt){J(pt)}finally{H.T=U}},Lt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Lt.use=function(L){return H.H.use(L)},Lt.useActionState=function(L,U,tt){return H.H.useActionState(L,U,tt)},Lt.useCallback=function(L,U){return H.H.useCallback(L,U)},Lt.useContext=function(L){return H.H.useContext(L)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(L,U){return H.H.useDeferredValue(L,U)},Lt.useEffect=function(L,U){return H.H.useEffect(L,U)},Lt.useId=function(){return H.H.useId()},Lt.useImperativeHandle=function(L,U,tt){return H.H.useImperativeHandle(L,U,tt)},Lt.useInsertionEffect=function(L,U){return H.H.useInsertionEffect(L,U)},Lt.useLayoutEffect=function(L,U){return H.H.useLayoutEffect(L,U)},Lt.useMemo=function(L,U){return H.H.useMemo(L,U)},Lt.useOptimistic=function(L,U){return H.H.useOptimistic(L,U)},Lt.useReducer=function(L,U,tt){return H.H.useReducer(L,U,tt)},Lt.useRef=function(L){return H.H.useRef(L)},Lt.useState=function(L){return H.H.useState(L)},Lt.useSyncExternalStore=function(L,U,tt){return H.H.useSyncExternalStore(L,U,tt)},Lt.useTransition=function(){return H.H.useTransition()},Lt.version="19.0.0",Lt}var JS;function Yb(){return JS||(JS=1,nv.exports=gR()),nv.exports}var z=Yb();const le=Dg(z);var iv={exports:{}},hh={},sv={exports:{}},av={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function mR(){return t_||(t_=1,function(c){function t(V,Z){var J=V.length;V.push(Z);t:for(;0<J;){var _t=J-1>>>1,L=V[_t];if(0<r(L,Z))V[_t]=Z,V[J]=L,J=_t;else break t}}function e(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var Z=V[0],J=V.pop();if(J!==Z){V[0]=J;t:for(var _t=0,L=V.length,U=L>>>1;_t<U;){var tt=2*(_t+1)-1,et=V[tt],it=tt+1,pt=V[it];if(0>r(et,J))it<L&&0>r(pt,et)?(V[_t]=pt,V[it]=J,_t=it):(V[_t]=et,V[tt]=J,_t=tt);else if(it<L&&0>r(pt,J))V[_t]=pt,V[it]=J,_t=it;else break t}}return Z}function r(V,Z){var J=V.sortIndex-Z.sortIndex;return J!==0?J:V.id-Z.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;c.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();c.unstable_now=function(){return u.now()-d}}var f=[],g=[],m=1,v=null,b=3,A=!1,S=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(V){for(var Z=e(g);Z!==null;){if(Z.callback===null)s(g);else if(Z.startTime<=V)s(g),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=e(g)}}function N(V){if(w=!1,k(V),!S)if(e(f)!==null)S=!0,ft();else{var Z=e(g);Z!==null&&gt(N,Z.startTime-V)}}var H=!1,B=-1,Y=5,W=-1;function G(){return!(c.unstable_now()-W<Y)}function nt(){if(H){var V=c.unstable_now();W=V;var Z=!0;try{t:{S=!1,w&&(w=!1,x(B),B=-1),A=!0;var J=b;try{e:{for(k(V),v=e(f);v!==null&&!(v.expirationTime>V&&G());){var _t=v.callback;if(typeof _t=="function"){v.callback=null,b=v.priorityLevel;var L=_t(v.expirationTime<=V);if(V=c.unstable_now(),typeof L=="function"){v.callback=L,k(V),Z=!0;break e}v===e(f)&&s(f),k(V)}else s(f);v=e(f)}if(v!==null)Z=!0;else{var U=e(g);U!==null&&gt(N,U.startTime-V),Z=!1}}break t}finally{v=null,b=J,A=!1}Z=void 0}}finally{Z?at():H=!1}}}var at;if(typeof O=="function")at=function(){O(nt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,ht=St.port2;St.port1.onmessage=nt,at=function(){ht.postMessage(null)}}else at=function(){M(nt,0)};function ft(){H||(H=!0,at())}function gt(V,Z){B=M(function(){V(c.unstable_now())},Z)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(V){V.callback=null},c.unstable_continueExecution=function(){S||A||(S=!0,ft())},c.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<V?Math.floor(1e3/V):5},c.unstable_getCurrentPriorityLevel=function(){return b},c.unstable_getFirstCallbackNode=function(){return e(f)},c.unstable_next=function(V){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var J=b;b=Z;try{return V()}finally{b=J}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=b;b=V;try{return Z()}finally{b=J}},c.unstable_scheduleCallback=function(V,Z,J){var _t=c.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?_t+J:_t):J=_t,V){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=J+L,V={id:m++,callback:Z,priorityLevel:V,startTime:J,expirationTime:L,sortIndex:-1},J>_t?(V.sortIndex=J,t(g,V),e(f)===null&&V===e(g)&&(w?(x(B),B=-1):w=!0,gt(N,J-_t))):(V.sortIndex=L,t(f,V),S||A||(S=!0,ft())),V},c.unstable_shouldYield=G,c.unstable_wrapCallback=function(V){var Z=b;return function(){var J=b;b=Z;try{return V.apply(this,arguments)}finally{b=J}}}}(av)),av}var e_;function yR(){return e_||(e_=1,sv.exports=mR()),sv.exports}var rv={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function vR(){if(n_)return fn;n_=1;var c=Yb();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,g,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:m}}var u=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,m)},fn.flushSync=function(f){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=g,s.p=m,s.d.f()}},fn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},fn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},fn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,v=d(m,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):m==="script"&&s.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},fn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,v=d(m,g.crossOrigin);s.d.L(f,m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},fn.requestFormReset=function(f){s.d.r(f)},fn.unstable_batchedUpdates=function(f,g){return f(g)},fn.useFormState=function(f,g,m){return u.H.useFormState(f,g,m)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.0.0",fn}var i_;function bR(){if(i_)return rv.exports;i_=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),rv.exports=vR(),rv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function AR(){if(s_)return hh;s_=1;var c=yR(),t=Yb(),e=bR();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),N=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Symbol.for("react.client.reference");function W(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Y?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case f:return"Fragment";case d:return"Portal";case m:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case M:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case A:return(n.displayName||"Context")+".Provider";case b:return(n._context.displayName||"Context")+".Consumer";case S:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:W(n.type)||"Memo";case O:i=n._payload,n=n._init;try{return W(n(i))}catch{}}return null}var G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=Object.assign,at,St;function ht(n){if(at===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);at=i&&i[1]||"",St=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+n+St}var ft=!1;function gt(n,i){if(!n||ft)return"";ft=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch($){var q=$}Reflect.construct(n,[],st)}else{try{st.call()}catch($){q=$}n.call(st.prototype)}}else{try{throw Error()}catch($){q=$}(st=n())&&typeof st.catch=="function"&&st.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=o.DetermineComponentFrameRoot(),E=y[0],R=y[1];if(E&&R){var D=E.split(`
`),F=R.split(`
`);for(p=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;p<F.length&&!F[p].includes("DetermineComponentFrameRoot");)p++;if(o===D.length||p===F.length)for(o=D.length-1,p=F.length-1;1<=o&&0<=p&&D[o]!==F[p];)p--;for(;1<=o&&0<=p;o--,p--)if(D[o]!==F[p]){if(o!==1||p!==1)do if(o--,p--,0>p||D[o]!==F[p]){var K=`
`+D[o].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=o&&0<=p);break}}}finally{ft=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ht(a):""}function V(n){switch(n.tag){case 26:case 27:case 5:return ht(n.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return n=gt(n.type,!1),n;case 11:return n=gt(n.type.render,!1),n;case 1:return n=gt(n.type,!0),n;default:return""}}function Z(n){try{var i="";do i+=V(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function J(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function _t(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function L(n){if(J(n)!==n)throw Error(s(188))}function U(n){var i=n.alternate;if(!i){if(i=J(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,o=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(o=p.return,o!==null){a=o;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return L(p),n;if(y===o)return L(p),i;y=y.sibling}throw Error(s(188))}if(a.return!==o.return)a=p,o=y;else{for(var E=!1,R=p.child;R;){if(R===a){E=!0,a=p,o=y;break}if(R===o){E=!0,o=p,a=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===a){E=!0,a=y,o=p;break}if(R===o){E=!0,o=y,a=p;break}R=R.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function tt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=tt(n),i!==null)return i;n=n.sibling}return null}var et=Array.isArray,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},ct=[],ot=-1;function vt(n){return{current:n}}function kt(n){0>ot||(n.current=ct[ot],ct[ot]=null,ot--)}function bt(n,i){ot++,ct[ot]=n.current,n.current=i}var Ft=vt(null),un=vt(null),zt=vt(null),oe=vt(null);function we(n,i){switch(bt(zt,i),bt(un,n),bt(Ft,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?wS(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=wS(n),i=TS(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}kt(Ft),bt(Ft,i)}function ce(){kt(Ft),kt(un),kt(zt)}function Wi(n){n.memoizedState!==null&&bt(oe,n);var i=Ft.current,a=TS(i,n.type);i!==a&&(bt(un,n),bt(Ft,a))}function Qi(n){un.current===n&&(kt(Ft),kt(un)),oe.current===n&&(kt(oe),ah._currentValue=pt)}var du=Object.prototype.hasOwnProperty,fu=c.unstable_scheduleCallback,Ca=c.unstable_cancelCallback,Yg=c.unstable_shouldYield,Xg=c.unstable_requestPaint,li=c.unstable_now,$g=c.unstable_getCurrentPriorityLevel,lf=c.unstable_ImmediatePriority,ws=c.unstable_UserBlockingPriority,Ts=c.unstable_NormalPriority,po=c.unstable_LowPriority,go=c.unstable_IdlePriority,XT=c.log,$T=c.unstable_setDisableYieldValue,pu=null,Bn=null;function KT(n){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(pu,n,void 0,(n.current.flags&128)===128)}catch{}}function Ra(n){if(typeof XT=="function"&&$T(n),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(pu,n)}catch{}}var qn=Math.clz32?Math.clz32:ZT,WT=Math.log,QT=Math.LN2;function ZT(n){return n>>>=0,n===0?32:31-(WT(n)/QT|0)|0}var of=128,cf=4194304;function Or(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function uf(n,i){var a=n.pendingLanes;if(a===0)return 0;var o=0,p=n.suspendedLanes,y=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~p,a!==0?o=Or(a):(y&=R,y!==0?o=Or(y):n||(E=R&~E,E!==0&&(o=Or(E))))):(R=a&~p,R!==0?o=Or(R):y!==0?o=Or(y):n||(E=a&~E,E!==0&&(o=Or(E)))),o===0?0:i!==0&&i!==o&&(i&p)===0&&(p=o&-o,E=i&-i,p>=E||p===32&&(E&4194176)!==0)?i:o}function gu(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function JT(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(){var n=of;return of<<=1,(of&4194176)===0&&(of=128),n}function y0(){var n=cf;return cf<<=1,(cf&62914560)===0&&(cf=4194304),n}function Kg(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function mu(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function tx(n,i,a,o,p,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var R=n.entanglements,D=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var K=31-qn(a),st=1<<K;R[K]=0,D[K]=-1;var q=F[K];if(q!==null)for(F[K]=null,K=0;K<q.length;K++){var $=q[K];$!==null&&($.lane&=-536870913)}a&=~st}o!==0&&v0(n,o,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function v0(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var o=31-qn(i);n.entangledLanes|=i,n.entanglements[o]=n.entanglements[o]|1073741824|a&4194218}function b0(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var o=31-qn(a),p=1<<o;p&i|n[o]&i&&(n[o]|=i),a&=~p}}function A0(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function E0(){var n=it.p;return n!==0?n:(n=window.event,n===void 0?32:qS(n.type))}function ex(n,i){var a=it.p;try{return it.p=n,i()}finally{it.p=a}}var Ma=Math.random().toString(36).slice(2),hn="__reactFiber$"+Ma,On="__reactProps$"+Ma,mo="__reactContainer$"+Ma,Wg="__reactEvents$"+Ma,nx="__reactListeners$"+Ma,ix="__reactHandles$"+Ma,S0="__reactResources$"+Ma,yu="__reactMarker$"+Ma;function Qg(n){delete n[hn],delete n[On],delete n[Wg],delete n[nx],delete n[ix]}function kr(n){var i=n[hn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[mo]||a[hn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=RS(n);n!==null;){if(a=n[hn])return a;n=RS(n)}return i}n=a,a=n.parentNode}return null}function yo(n){if(n=n[hn]||n[mo]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function vu(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function vo(n){var i=n[S0];return i||(i=n[S0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(n){n[yu]=!0}var _0=new Set,w0={};function Nr(n,i){bo(n,i),bo(n+"Capture",i)}function bo(n,i){for(w0[n]=i,n=0;n<i.length;n++)_0.add(i[n])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T0={},x0={};function ax(n){return du.call(x0,n)?!0:du.call(T0,n)?!1:sx.test(n)?x0[n]=!0:(T0[n]=!0,!1)}function hf(n,i,a){if(ax(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function df(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cs(n,i,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+o)}}function oi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function C0(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rx(n){var i=C0(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),o=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ff(n){n._valueTracker||(n._valueTracker=rx(n))}function R0(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return n&&(o=C0(n)?n.checked?"true":"false":n.value),n=o,n!==a?(i.setValue(n),!0):!1}function pf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var lx=/[\n"\\]/g;function ci(n){return n.replace(lx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zg(n,i,a,o,p,y,E,R){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+oi(i)):n.value!==""+oi(i)&&(n.value=""+oi(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Jg(n,E,oi(i)):a!=null?Jg(n,E,oi(a)):o!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+oi(R):n.removeAttribute("name")}function M0(n,i,a,o,p,y,E,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;a=a!=null?""+oi(a):"",i=i!=null?""+oi(i):a,R||i===n.value||(n.value=i),n.defaultValue=i}o=o??p,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=R?n.checked:!!o,n.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Jg(n,i,a){i==="number"&&pf(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ao(n,i,a,o){if(n=n.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=i.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&o&&(n[a].defaultSelected=!0)}else{for(a=""+oi(a),i=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,o&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function L0(n,i,a){if(i!=null&&(i=""+oi(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+oi(a):""}function D0(n,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(et(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=oi(i),n.defaultValue=a,o=n.textContent,o===a&&o!==""&&o!==null&&(n.value=o)}function Eo(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ox=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O0(n,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":o?n.setProperty(i,a):typeof a!="number"||a===0||ox.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function k0(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var p in i)o=i[p],i.hasOwnProperty(p)&&a[p]!==o&&O0(n,p,o)}else for(var y in i)i.hasOwnProperty(y)&&O0(n,y,i[y])}function tm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ux=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gf(n){return ux.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var em=null;function nm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var So=null,_o=null;function N0(n){var i=yo(n);if(i&&(n=i.stateNode)){var a=n[On]||null;t:switch(n=i.stateNode,i.type){case"input":if(Zg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ci(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==n&&o.form===n.form){var p=o[On]||null;if(!p)throw Error(s(90));Zg(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===n.form&&R0(o)}break t;case"textarea":L0(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ao(n,!!a.multiple,i,!1)}}}var im=!1;function P0(n,i,a){if(im)return n(i,a);im=!0;try{var o=n(i);return o}finally{if(im=!1,(So!==null||_o!==null)&&(Zf(),So&&(i=So,n=_o,_o=So=null,N0(i),n)))for(i=0;i<n.length;i++)N0(n[i])}}function bu(n,i){var a=n.stateNode;if(a===null)return null;var o=a[On]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var sm=!1;if(xs)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){sm=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{sm=!1}var La=null,am=null,mf=null;function F0(){if(mf)return mf;var n,i=am,a=i.length,o,p="value"in La?La.value:La.textContent,y=p.length;for(n=0;n<a&&i[n]===p[n];n++);var E=a-n;for(o=1;o<=E&&i[a-o]===p[y-o];o++);return mf=p.slice(n,1<o?1-o:void 0)}function yf(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function vf(){return!0}function z0(){return!1}function kn(n){function i(a,o,p,y,E){this._reactName=a,this._targetInst=p,this.type=o,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vf:z0,this.isPropagationStopped=z0,this}return nt(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vf)},persist:function(){},isPersistent:vf}),i}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=kn(Pr),Eu=nt({},Pr,{view:0,detail:0}),hx=kn(Eu),rm,lm,Su,Af=nt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Su&&(Su&&n.type==="mousemove"?(rm=n.screenX-Su.screenX,lm=n.screenY-Su.screenY):lm=rm=0,Su=n),rm)},movementY:function(n){return"movementY"in n?n.movementY:lm}}),H0=kn(Af),dx=nt({},Af,{dataTransfer:0}),fx=kn(dx),px=nt({},Eu,{relatedTarget:0}),om=kn(px),gx=nt({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=kn(gx),yx=nt({},Pr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vx=kn(yx),bx=nt({},Pr,{data:0}),j0=kn(bx),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _x(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Sx[n])?!!i[n]:!1}function cm(){return _x}var wx=nt({},Eu,{key:function(n){if(n.key){var i=Ax[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=yf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ex[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(n){return n.type==="keypress"?yf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Tx=kn(wx),xx=nt({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U0=kn(xx),Cx=nt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),Rx=kn(Cx),Mx=nt({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=kn(Mx),Dx=nt({},Af,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ox=kn(Dx),kx=nt({},Pr,{newState:0,oldState:0}),Nx=kn(kx),Px=[9,13,27,32],um=xs&&"CompositionEvent"in window,_u=null;xs&&"documentMode"in document&&(_u=document.documentMode);var Fx=xs&&"TextEvent"in window&&!_u,I0=xs&&(!um||_u&&8<_u&&11>=_u),B0=" ",q0=!1;function G0(n,i){switch(n){case"keyup":return Px.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function zx(n,i){switch(n){case"compositionend":return V0(i);case"keypress":return i.which!==32?null:(q0=!0,B0);case"textInput":return n=i.data,n===B0&&q0?null:n;default:return null}}function Hx(n,i){if(wo)return n==="compositionend"||!um&&G0(n,i)?(n=F0(),mf=am=La=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return I0&&i.locale!=="ko"?null:i.data;default:return null}}var jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!jx[n.type]:i==="textarea"}function X0(n,i,a,o){So?_o?_o.push(o):_o=[o]:So=o,i=ip(i,"onChange"),0<i.length&&(a=new bf("onChange","change",null,a,o),n.push({event:a,listeners:i}))}var wu=null,Tu=null;function Ux(n){bS(n,0)}function Ef(n){var i=vu(n);if(R0(i))return n}function $0(n,i){if(n==="change")return i}var K0=!1;if(xs){var hm;if(xs){var dm="oninput"in document;if(!dm){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),dm=typeof W0.oninput=="function"}hm=dm}else hm=!1;K0=hm&&(!document.documentMode||9<document.documentMode)}function Q0(){wu&&(wu.detachEvent("onpropertychange",Z0),Tu=wu=null)}function Z0(n){if(n.propertyName==="value"&&Ef(Tu)){var i=[];X0(i,Tu,n,nm(n)),P0(Ux,i)}}function Ix(n,i,a){n==="focusin"?(Q0(),wu=i,Tu=a,wu.attachEvent("onpropertychange",Z0)):n==="focusout"&&Q0()}function Bx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ef(Tu)}function qx(n,i){if(n==="click")return Ef(i)}function Gx(n,i){if(n==="input"||n==="change")return Ef(i)}function Vx(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Gn=typeof Object.is=="function"?Object.is:Vx;function xu(n,i){if(Gn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var p=a[o];if(!du.call(i,p)||!Gn(n[p],i[p]))return!1}return!0}function J0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tA(n,i){var a=J0(n);n=0;for(var o;a;){if(a.nodeType===3){if(o=n+a.textContent.length,n<=i&&o>=i)return{node:a,offset:i-n};n=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=J0(a)}}function eA(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?eA(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function nA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=pf(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=pf(n.document)}return i}function fm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Yx(n,i){var a=nA(i);i=n.focusedElem;var o=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&eA(i.ownerDocument.documentElement,i)){if(o!==null&&fm(i)){if(n=o.start,a=o.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var p=i.textContent.length,y=Math.min(o.start,p);o=o.end===void 0?y:Math.min(o.end,p),!a.extend&&y>o&&(p=o,o=y,y=p),p=tA(i,y);var E=tA(i,o);p&&E&&(a.rangeCount!==1||a.anchorNode!==p.node||a.anchorOffset!==p.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),a.removeAllRanges(),y>o?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Xx=xs&&"documentMode"in document&&11>=document.documentMode,To=null,pm=null,Cu=null,gm=!1;function iA(n,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gm||To==null||To!==pf(o)||(o=To,"selectionStart"in o&&fm(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cu&&xu(Cu,o)||(Cu=o,o=ip(pm,"onSelect"),0<o.length&&(i=new bf("onSelect","select",null,i,a),n.push({event:i,listeners:o}),i.target=To)))}function Fr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var xo={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},mm={},sA={};xs&&(sA=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function zr(n){if(mm[n])return mm[n];if(!xo[n])return n;var i=xo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in sA)return mm[n]=i[a];return n}var aA=zr("animationend"),rA=zr("animationiteration"),lA=zr("animationstart"),$x=zr("transitionrun"),Kx=zr("transitionstart"),Wx=zr("transitioncancel"),oA=zr("transitionend"),cA=new Map,uA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Li(n,i){cA.set(n,i),Nr(i,[n])}var ui=[],Co=0,ym=0;function Sf(){for(var n=Co,i=ym=Co=0;i<n;){var a=ui[i];ui[i++]=null;var o=ui[i];ui[i++]=null;var p=ui[i];ui[i++]=null;var y=ui[i];if(ui[i++]=null,o!==null&&p!==null){var E=o.pending;E===null?p.next=p:(p.next=E.next,E.next=p),o.pending=p}y!==0&&hA(a,p,y)}}function _f(n,i,a,o){ui[Co++]=n,ui[Co++]=i,ui[Co++]=a,ui[Co++]=o,ym|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function vm(n,i,a,o){return _f(n,i,a,o),wf(n)}function Da(n,i){return _f(n,null,null,i),wf(n)}function hA(n,i,a){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a);for(var p=!1,y=n.return;y!==null;)y.childLanes|=a,o=y.alternate,o!==null&&(o.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;p&&i!==null&&n.tag===3&&(y=n.stateNode,p=31-qn(a),y=y.hiddenUpdates,n=y[p],n===null?y[p]=[i]:n.push(i),i.lane=a|536870912)}function wf(n){if(50<Zu)throw Zu=0,wy=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ro={},dA=new WeakMap;function hi(n,i){if(typeof n=="object"&&n!==null){var a=dA.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Z(i)},dA.set(n,i),i)}return{value:n,source:i,stack:Z(i)}}var Mo=[],Lo=0,Tf=null,xf=0,di=[],fi=0,Hr=null,Rs=1,Ms="";function jr(n,i){Mo[Lo++]=xf,Mo[Lo++]=Tf,Tf=n,xf=i}function fA(n,i,a){di[fi++]=Rs,di[fi++]=Ms,di[fi++]=Hr,Hr=n;var o=Rs;n=Ms;var p=32-qn(o)-1;o&=~(1<<p),a+=1;var y=32-qn(i)+p;if(30<y){var E=p-p%5;y=(o&(1<<E)-1).toString(32),o>>=E,p-=E,Rs=1<<32-qn(i)+p|a<<p|o,Ms=y+n}else Rs=1<<y|a<<p|o,Ms=n}function bm(n){n.return!==null&&(jr(n,1),fA(n,1,0))}function Am(n){for(;n===Tf;)Tf=Mo[--Lo],Mo[Lo]=null,xf=Mo[--Lo],Mo[Lo]=null;for(;n===Hr;)Hr=di[--fi],di[fi]=null,Ms=di[--fi],di[fi]=null,Rs=di[--fi],di[fi]=null}var Sn=null,en=null,Vt=!1,Di=null,Zi=!1,Em=Error(s(519));function Ur(n){var i=Error(s(418,""));throw Lu(hi(i,n)),Em}function pA(n){var i=n.stateNode,a=n.type,o=n.memoizedProps;switch(i[hn]=n,i[On]=o,a){case"dialog":Bt("cancel",i),Bt("close",i);break;case"iframe":case"object":case"embed":Bt("load",i);break;case"video":case"audio":for(a=0;a<th.length;a++)Bt(th[a],i);break;case"source":Bt("error",i);break;case"img":case"image":case"link":Bt("error",i),Bt("load",i);break;case"details":Bt("toggle",i);break;case"input":Bt("invalid",i),M0(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ff(i);break;case"select":Bt("invalid",i);break;case"textarea":Bt("invalid",i),D0(i,o.value,o.defaultValue,o.children),ff(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||_S(i.textContent,a)?(o.popover!=null&&(Bt("beforetoggle",i),Bt("toggle",i)),o.onScroll!=null&&Bt("scroll",i),o.onScrollEnd!=null&&Bt("scrollend",i),o.onClick!=null&&(i.onclick=sp),i=!0):i=!1,i||Ur(n)}function gA(n){for(Sn=n.return;Sn;)switch(Sn.tag){case 3:case 27:Zi=!0;return;case 5:case 13:Zi=!1;return;default:Sn=Sn.return}}function Ru(n){if(n!==Sn)return!1;if(!Vt)return gA(n),Vt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Iy(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&en&&Ur(n),gA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){en=ki(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}en=null}}else en=Sn?ki(n.stateNode.nextSibling):null;return!0}function Mu(){en=Sn=null,Vt=!1}function Lu(n){Di===null?Di=[n]:Di.push(n)}var Du=Error(s(460)),mA=Error(s(474)),Sm={then:function(){}};function yA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cf(){}function vA(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Cf,Cf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Du?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Cf,Cf);else{if(n=se,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(o){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=o}},function(o){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Du?Error(s(483)):n}throw Ou=i,Du}}var Ou=null;function bA(){if(Ou===null)throw Error(s(459));var n=Ou;return Ou=null,n}var Do=null,ku=0;function Rf(n){var i=ku;return ku+=1,Do===null&&(Do=[]),vA(Do,n,i)}function Nu(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mf(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function AA(n){var i=n._init;return i(n._payload)}function EA(n){function i(j,P){if(n){var I=j.deletions;I===null?(j.deletions=[P],j.flags|=16):I.push(P)}}function a(j,P){if(!n)return null;for(;P!==null;)i(j,P),P=P.sibling;return null}function o(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function p(j,P){return j=qa(j,P),j.index=0,j.sibling=null,j}function y(j,P,I){return j.index=I,n?(I=j.alternate,I!==null?(I=I.index,I<P?(j.flags|=33554434,P):I):(j.flags|=33554434,P)):(j.flags|=1048576,P)}function E(j){return n&&j.alternate===null&&(j.flags|=33554434),j}function R(j,P,I,Q){return P===null||P.tag!==6?(P=my(I,j.mode,Q),P.return=j,P):(P=p(P,I),P.return=j,P)}function D(j,P,I,Q){var dt=I.type;return dt===f?K(j,P,I.props.children,Q,I.key):P!==null&&(P.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===O&&AA(dt)===P.type)?(P=p(P,I.props),Nu(P,I),P.return=j,P):(P=Xf(I.type,I.key,I.props,null,j.mode,Q),Nu(P,I),P.return=j,P)}function F(j,P,I,Q){return P===null||P.tag!==4||P.stateNode.containerInfo!==I.containerInfo||P.stateNode.implementation!==I.implementation?(P=yy(I,j.mode,Q),P.return=j,P):(P=p(P,I.children||[]),P.return=j,P)}function K(j,P,I,Q,dt){return P===null||P.tag!==7?(P=Wr(I,j.mode,Q,dt),P.return=j,P):(P=p(P,I),P.return=j,P)}function st(j,P,I){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=my(""+P,j.mode,I),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case u:return I=Xf(P.type,P.key,P.props,null,j.mode,I),Nu(I,P),I.return=j,I;case d:return P=yy(P,j.mode,I),P.return=j,P;case O:var Q=P._init;return P=Q(P._payload),st(j,P,I)}if(et(P)||B(P))return P=Wr(P,j.mode,I,null),P.return=j,P;if(typeof P.then=="function")return st(j,Rf(P),I);if(P.$$typeof===A)return st(j,Gf(j,P),I);Mf(j,P)}return null}function q(j,P,I,Q){var dt=P!==null?P.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return dt!==null?null:R(j,P,""+I,Q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case u:return I.key===dt?D(j,P,I,Q):null;case d:return I.key===dt?F(j,P,I,Q):null;case O:return dt=I._init,I=dt(I._payload),q(j,P,I,Q)}if(et(I)||B(I))return dt!==null?null:K(j,P,I,Q,null);if(typeof I.then=="function")return q(j,P,Rf(I),Q);if(I.$$typeof===A)return q(j,P,Gf(j,I),Q);Mf(j,I)}return null}function $(j,P,I,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(I)||null,R(P,j,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return j=j.get(Q.key===null?I:Q.key)||null,D(P,j,Q,dt);case d:return j=j.get(Q.key===null?I:Q.key)||null,F(P,j,Q,dt);case O:var Ht=Q._init;return Q=Ht(Q._payload),$(j,P,I,Q,dt)}if(et(Q)||B(Q))return j=j.get(I)||null,K(P,j,Q,dt,null);if(typeof Q.then=="function")return $(j,P,I,Rf(Q),dt);if(Q.$$typeof===A)return $(j,P,I,Gf(P,Q),dt);Mf(P,Q)}return null}function mt(j,P,I,Q){for(var dt=null,Ht=null,At=P,wt=P=0,$e=null;At!==null&&wt<I.length;wt++){At.index>wt?($e=At,At=null):$e=At.sibling;var Yt=q(j,At,I[wt],Q);if(Yt===null){At===null&&(At=$e);break}n&&At&&Yt.alternate===null&&i(j,At),P=y(Yt,P,wt),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt,At=$e}if(wt===I.length)return a(j,At),Vt&&jr(j,wt),dt;if(At===null){for(;wt<I.length;wt++)At=st(j,I[wt],Q),At!==null&&(P=y(At,P,wt),Ht===null?dt=At:Ht.sibling=At,Ht=At);return Vt&&jr(j,wt),dt}for(At=o(At);wt<I.length;wt++)$e=$(At,j,wt,I[wt],Q),$e!==null&&(n&&$e.alternate!==null&&At.delete($e.key===null?wt:$e.key),P=y($e,P,wt),Ht===null?dt=$e:Ht.sibling=$e,Ht=$e);return n&&At.forEach(function(Wa){return i(j,Wa)}),Vt&&jr(j,wt),dt}function Ct(j,P,I,Q){if(I==null)throw Error(s(151));for(var dt=null,Ht=null,At=P,wt=P=0,$e=null,Yt=I.next();At!==null&&!Yt.done;wt++,Yt=I.next()){At.index>wt?($e=At,At=null):$e=At.sibling;var Wa=q(j,At,Yt.value,Q);if(Wa===null){At===null&&(At=$e);break}n&&At&&Wa.alternate===null&&i(j,At),P=y(Wa,P,wt),Ht===null?dt=Wa:Ht.sibling=Wa,Ht=Wa,At=$e}if(Yt.done)return a(j,At),Vt&&jr(j,wt),dt;if(At===null){for(;!Yt.done;wt++,Yt=I.next())Yt=st(j,Yt.value,Q),Yt!==null&&(P=y(Yt,P,wt),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt);return Vt&&jr(j,wt),dt}for(At=o(At);!Yt.done;wt++,Yt=I.next())Yt=$(At,j,wt,Yt.value,Q),Yt!==null&&(n&&Yt.alternate!==null&&At.delete(Yt.key===null?wt:Yt.key),P=y(Yt,P,wt),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt);return n&&At.forEach(function(uR){return i(j,uR)}),Vt&&jr(j,wt),dt}function Ee(j,P,I,Q){if(typeof I=="object"&&I!==null&&I.type===f&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case u:t:{for(var dt=I.key;P!==null;){if(P.key===dt){if(dt=I.type,dt===f){if(P.tag===7){a(j,P.sibling),Q=p(P,I.props.children),Q.return=j,j=Q;break t}}else if(P.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===O&&AA(dt)===P.type){a(j,P.sibling),Q=p(P,I.props),Nu(Q,I),Q.return=j,j=Q;break t}a(j,P);break}else i(j,P);P=P.sibling}I.type===f?(Q=Wr(I.props.children,j.mode,Q,I.key),Q.return=j,j=Q):(Q=Xf(I.type,I.key,I.props,null,j.mode,Q),Nu(Q,I),Q.return=j,j=Q)}return E(j);case d:t:{for(dt=I.key;P!==null;){if(P.key===dt)if(P.tag===4&&P.stateNode.containerInfo===I.containerInfo&&P.stateNode.implementation===I.implementation){a(j,P.sibling),Q=p(P,I.children||[]),Q.return=j,j=Q;break t}else{a(j,P);break}else i(j,P);P=P.sibling}Q=yy(I,j.mode,Q),Q.return=j,j=Q}return E(j);case O:return dt=I._init,I=dt(I._payload),Ee(j,P,I,Q)}if(et(I))return mt(j,P,I,Q);if(B(I)){if(dt=B(I),typeof dt!="function")throw Error(s(150));return I=dt.call(I),Ct(j,P,I,Q)}if(typeof I.then=="function")return Ee(j,P,Rf(I),Q);if(I.$$typeof===A)return Ee(j,P,Gf(j,I),Q);Mf(j,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,P!==null&&P.tag===6?(a(j,P.sibling),Q=p(P,I),Q.return=j,j=Q):(a(j,P),Q=my(I,j.mode,Q),Q.return=j,j=Q),E(j)):a(j,P)}return function(j,P,I,Q){try{ku=0;var dt=Ee(j,P,I,Q);return Do=null,dt}catch(At){if(At===Du)throw At;var Ht=yi(29,At,null,j.mode);return Ht.lanes=Q,Ht.return=j,Ht}finally{}}}var Ir=EA(!0),SA=EA(!1),Oo=vt(null),Lf=vt(0);function _A(n,i){n=Us,bt(Lf,n),bt(Oo,i),Us=n|i.baseLanes}function _m(){bt(Lf,Us),bt(Oo,Oo.current)}function wm(){Us=Lf.current,kt(Oo),kt(Lf)}var pi=vt(null),Ji=null;function Oa(n){var i=n.alternate;bt(ze,ze.current&1),bt(pi,n),Ji===null&&(i===null||Oo.current!==null||i.memoizedState!==null)&&(Ji=n)}function wA(n){if(n.tag===22){if(bt(ze,ze.current),bt(pi,n),Ji===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ji=n)}}else ka()}function ka(){bt(ze,ze.current),bt(pi,pi.current)}function Ls(n){kt(pi),Ji===n&&(Ji=null),kt(ze)}var ze=vt(0);function Df(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qx=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,o){n.push(o)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Zx=c.unstable_scheduleCallback,Jx=c.unstable_NormalPriority,He={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new Qx,data:new Map,refCount:0}}function Pu(n){n.refCount--,n.refCount===0&&Zx(Jx,function(){n.controller.abort()})}var Fu=null,xm=0,ko=0,No=null;function tC(n,i){if(Fu===null){var a=Fu=[];xm=0,ko=Oy(),No={status:"pending",value:void 0,then:function(o){a.push(o)}}}return xm++,i.then(TA,TA),i}function TA(){if(--xm===0&&Fu!==null){No!==null&&(No.status="fulfilled");var n=Fu;Fu=null,ko=0,No=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function eC(n,i){var a=[],o={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return n.then(function(){o.status="fulfilled",o.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(o.status="rejected",o.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),o}var xA=G.S;G.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tC(n,i),xA!==null&&xA(n,i)};var Br=vt(null);function Cm(){var n=Br.current;return n!==null?n:se.pooledCache}function Of(n,i){i===null?bt(Br,Br.current):bt(Br,i.pool)}function CA(){var n=Cm();return n===null?null:{parent:He._currentValue,pool:n}}var Na=0,Nt=null,Zt=null,Me=null,kf=!1,Po=!1,qr=!1,Nf=0,zu=0,Fo=null,nC=0;function Te(){throw Error(s(321))}function Rm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Gn(n[a],i[a]))return!1;return!0}function Mm(n,i,a,o,p,y){return Na=y,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=n===null||n.memoizedState===null?Gr:Pa,qr=!1,y=a(o,p),qr=!1,Po&&(y=MA(i,a,o,p)),RA(n),y}function RA(n){G.H=ts;var i=Zt!==null&&Zt.next!==null;if(Na=0,Me=Zt=Nt=null,kf=!1,zu=0,Fo=null,i)throw Error(s(300));n===null||Ye||(n=n.dependencies,n!==null&&qf(n)&&(Ye=!0))}function MA(n,i,a,o){Nt=n;var p=0;do{if(Po&&(Fo=null),zu=0,Po=!1,25<=p)throw Error(s(301));if(p+=1,Me=Zt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=Vr,y=i(a,o)}while(Po);return y}function iC(){var n=G.H,i=n.useState()[0];return i=typeof i.then=="function"?Hu(i):i,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(Nt.flags|=1024),i}function Lm(){var n=Nf!==0;return Nf=0,n}function Dm(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Om(n){if(kf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kf=!1}Na=0,Me=Zt=Nt=null,Po=!1,zu=Nf=0,Fo=null}function Nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Nt.memoizedState=Me=n:Me=Me.next=n,Me}function Le(){if(Zt===null){var n=Nt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var i=Me===null?Nt.memoizedState:Me.next;if(i!==null)Me=i,Zt=n;else{if(n===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Me===null?Nt.memoizedState=Me=n:Me=Me.next=n}return Me}var Pf;Pf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Hu(n){var i=zu;return zu+=1,Fo===null&&(Fo=[]),n=vA(Fo,n,i),i=Nt,(Me===null?i.memoizedState:Me.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Gr:Pa),n}function Ff(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hu(n);if(n.$$typeof===A)return dn(n)}throw Error(s(438,String(n)))}function km(n){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Pf(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),o=0;o<n;o++)a[o]=N;return i.index++,a}function Ds(n,i){return typeof i=="function"?i(n):i}function zf(n){var i=Le();return Nm(i,Zt,n)}function Nm(n,i,a){var o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var p=n.baseQueue,y=o.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}i.baseQueue=p=y,o.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{i=p.next;var R=E=null,D=null,F=i,K=!1;do{var st=F.lane&-536870913;if(st!==F.lane?(Gt&st)===st:(Na&st)===st){var q=F.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),st===ko&&(K=!0);else if((Na&q)===q){F=F.next,q===ko&&(K=!0);continue}else st={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(R=D=st,E=y):D=D.next=st,Nt.lanes|=q,Ga|=q;st=F.action,qr&&a(y,st),y=F.hasEagerState?F.eagerState:a(y,st)}else q={lane:st,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(R=D=q,E=y):D=D.next=q,Nt.lanes|=st,Ga|=st;F=F.next}while(F!==null&&F!==i);if(D===null?E=y:D.next=R,!Gn(y,n.memoizedState)&&(Ye=!0,K&&(a=No,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=D,o.lastRenderedState=y}return p===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function Pm(n){var i=Le(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var E=p=p.next;do y=n(y,E.action),E=E.next;while(E!==p);Gn(y,i.memoizedState)||(Ye=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,o]}function LA(n,i,a){var o=Nt,p=Le(),y=Vt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Gn((Zt||p).memoizedState,a);if(E&&(p.memoizedState=a,Ye=!0),p=p.queue,Hm(kA.bind(null,o,p,n),[n]),p.getSnapshot!==i||E||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,zo(9,OA.bind(null,o,p,a,i),{destroy:void 0},null),se===null)throw Error(s(349));y||(Na&60)!==0||DA(o,i,a)}return a}function DA(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=Pf(),Nt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function OA(n,i,a,o){i.value=a,i.getSnapshot=o,NA(i)&&PA(n)}function kA(n,i,a){return a(function(){NA(i)&&PA(n)})}function NA(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Gn(n,a)}catch{return!0}}function PA(n){var i=Da(n,2);i!==null&&_n(i,n,2)}function Fm(n){var i=Nn();if(typeof n=="function"){var a=n;if(n=a(),qr){Ra(!0);try{a()}finally{Ra(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:n},i}function FA(n,i,a,o){return n.baseState=a,Nm(n,Zt,typeof o=="function"?o:Ds)}function sC(n,i,a,o,p){if(Uf(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};G.T!==null?a(!0):y.isTransition=!1,o(y),a=i.pending,a===null?(y.next=i.pending=y,zA(i,y)):(y.next=a.next,i.pending=a.next=y)}}function zA(n,i){var a=i.action,o=i.payload,p=n.state;if(i.isTransition){var y=G.T,E={};G.T=E;try{var R=a(p,o),D=G.S;D!==null&&D(E,R),HA(n,i,R)}catch(F){zm(n,i,F)}finally{G.T=y}}else try{y=a(p,o),HA(n,i,y)}catch(F){zm(n,i,F)}}function HA(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jA(n,i,o)},function(o){return zm(n,i,o)}):jA(n,i,a)}function jA(n,i,a){i.status="fulfilled",i.value=a,UA(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,zA(n,a)))}function zm(n,i,a){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,UA(i),i=i.next;while(i!==o)}n.action=null}function UA(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function IA(n,i){return i}function BA(n,i){if(Vt){var a=se.formState;if(a!==null){t:{var o=Nt;if(Vt){if(en){e:{for(var p=en,y=Zi;p.nodeType!==8;){if(!y){p=null;break e}if(p=ki(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){en=ki(p.nextSibling),o=p.data==="F!";break t}}Ur(o)}o=!1}o&&(i=a[0])}}return a=Nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IA,lastRenderedState:i},a.queue=o,a=rE.bind(null,Nt,o),o.dispatch=a,o=Fm(!1),y=qm.bind(null,Nt,!1,o.queue),o=Nn(),p={state:i,dispatch:null,action:n,pending:null},o.queue=p,a=sC.bind(null,Nt,p,y,a),p.dispatch=a,o.memoizedState=n,[i,a,!1]}function qA(n){var i=Le();return GA(i,Zt,n)}function GA(n,i,a){i=Nm(n,i,IA)[0],n=zf(Ds)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Hu(i):i;var o=Le(),p=o.queue,y=p.dispatch;return a!==o.memoizedState&&(Nt.flags|=2048,zo(9,aC.bind(null,p,a),{destroy:void 0},null)),[i,y,n]}function aC(n,i){n.action=i}function VA(n){var i=Le(),a=Zt;if(a!==null)return GA(i,a,n);Le(),i=i.memoizedState,a=Le();var o=a.queue.dispatch;return a.memoizedState=n,[i,o,!1]}function zo(n,i,a,o){return n={tag:n,create:i,inst:a,deps:o,next:null},i=Nt.updateQueue,i===null&&(i=Pf(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(o=a.next,a.next=n,n.next=o,i.lastEffect=n),n}function YA(){return Le().memoizedState}function Hf(n,i,a,o){var p=Nn();Nt.flags|=n,p.memoizedState=zo(1|i,a,{destroy:void 0},o===void 0?null:o)}function jf(n,i,a,o){var p=Le();o=o===void 0?null:o;var y=p.memoizedState.inst;Zt!==null&&o!==null&&Rm(o,Zt.memoizedState.deps)?p.memoizedState=zo(i,a,y,o):(Nt.flags|=n,p.memoizedState=zo(1|i,a,y,o))}function XA(n,i){Hf(8390656,8,n,i)}function Hm(n,i){jf(2048,8,n,i)}function $A(n,i){return jf(4,2,n,i)}function KA(n,i){return jf(4,4,n,i)}function WA(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function QA(n,i,a){a=a!=null?a.concat([n]):null,jf(4,4,WA.bind(null,i,n),a)}function jm(){}function ZA(n,i){var a=Le();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Rm(i,o[1])?o[0]:(a.memoizedState=[n,i],n)}function JA(n,i){var a=Le();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Rm(i,o[1]))return o[0];if(o=n(),qr){Ra(!0);try{n()}finally{Ra(!1)}}return a.memoizedState=[o,i],o}function Um(n,i,a){return a===void 0||(Na&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=eS(),Nt.lanes|=n,Ga|=n,a)}function tE(n,i,a,o){return Gn(a,i)?a:Oo.current!==null?(n=Um(n,a,o),Gn(n,i)||(Ye=!0),n):(Na&42)===0?(Ye=!0,n.memoizedState=a):(n=eS(),Nt.lanes|=n,Ga|=n,i)}function eE(n,i,a,o,p){var y=it.p;it.p=y!==0&&8>y?y:8;var E=G.T,R={};G.T=R,qm(n,!1,i,a);try{var D=p(),F=G.S;if(F!==null&&F(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=eC(D,o);ju(n,i,K,$n(n))}else ju(n,i,o,$n(n))}catch(st){ju(n,i,{then:function(){},status:"rejected",reason:st},$n())}finally{it.p=y,G.T=E}}function rC(){}function Im(n,i,a,o){if(n.tag!==5)throw Error(s(476));var p=nE(n).queue;eE(n,p,i,pt,a===null?rC:function(){return iE(n),a(o)})}function nE(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function iE(n){var i=nE(n).next.queue;ju(n,i,{},$n())}function Bm(){return dn(ah)}function sE(){return Le().memoizedState}function aE(){return Le().memoizedState}function lC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=$n();n=Ha(a);var o=ja(i,n,a);o!==null&&(_n(o,i,a),Bu(o,i,a)),i={cache:Tm()},n.payload=i;return}i=i.return}}function oC(n,i,a){var o=$n();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Uf(n)?lE(i,a):(a=vm(n,i,a,o),a!==null&&(_n(a,n,o),oE(a,i,o)))}function rE(n,i,a){var o=$n();ju(n,i,a,o)}function ju(n,i,a,o){var p={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uf(n))lE(i,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,R=y(E,a);if(p.hasEagerState=!0,p.eagerState=R,Gn(R,E))return _f(n,i,p,0),se===null&&Sf(),!1}catch{}finally{}if(a=vm(n,i,p,o),a!==null)return _n(a,n,o),oE(a,i,o),!0}return!1}function qm(n,i,a,o){if(o={lane:2,revertLane:Oy(),action:o,hasEagerState:!1,eagerState:null,next:null},Uf(n)){if(i)throw Error(s(479))}else i=vm(n,a,o,2),i!==null&&_n(i,n,2)}function Uf(n){var i=n.alternate;return n===Nt||i!==null&&i===Nt}function lE(n,i){Po=kf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function oE(n,i,a){if((a&4194176)!==0){var o=i.lanes;o&=n.pendingLanes,a|=o,i.lanes=a,b0(n,a)}}var ts={readContext:dn,use:Ff,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te};ts.useCacheRefresh=Te,ts.useMemoCache=Te,ts.useHostTransitionStatus=Te,ts.useFormState=Te,ts.useActionState=Te,ts.useOptimistic=Te;var Gr={readContext:dn,use:Ff,useCallback:function(n,i){return Nn().memoizedState=[n,i===void 0?null:i],n},useContext:dn,useEffect:XA,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Hf(4194308,4,WA.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Hf(4194308,4,n,i)},useInsertionEffect:function(n,i){Hf(4,2,n,i)},useMemo:function(n,i){var a=Nn();i=i===void 0?null:i;var o=n();if(qr){Ra(!0);try{n()}finally{Ra(!1)}}return a.memoizedState=[o,i],o},useReducer:function(n,i,a){var o=Nn();if(a!==void 0){var p=a(i);if(qr){Ra(!0);try{a(i)}finally{Ra(!1)}}}else p=i;return o.memoizedState=o.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},o.queue=n,n=n.dispatch=oC.bind(null,Nt,n),[o.memoizedState,n]},useRef:function(n){var i=Nn();return n={current:n},i.memoizedState=n},useState:function(n){n=Fm(n);var i=n.queue,a=rE.bind(null,Nt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:jm,useDeferredValue:function(n,i){var a=Nn();return Um(a,n,i)},useTransition:function(){var n=Fm(!1);return n=eE.bind(null,Nt,n.queue,!0,!1),Nn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var o=Nt,p=Nn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));(Gt&60)!==0||DA(o,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,XA(kA.bind(null,o,y,n),[n]),o.flags|=2048,zo(9,OA.bind(null,o,y,a,i),{destroy:void 0},null),a},useId:function(){var n=Nn(),i=se.identifierPrefix;if(Vt){var a=Ms,o=Rs;a=(o&~(1<<32-qn(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Nf++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=nC++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return Nn().memoizedState=lC.bind(null,Nt)}};Gr.useMemoCache=km,Gr.useHostTransitionStatus=Bm,Gr.useFormState=BA,Gr.useActionState=BA,Gr.useOptimistic=function(n){var i=Nn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qm.bind(null,Nt,!0,a),a.dispatch=i,[n,i]};var Pa={readContext:dn,use:Ff,useCallback:ZA,useContext:dn,useEffect:Hm,useImperativeHandle:QA,useInsertionEffect:$A,useLayoutEffect:KA,useMemo:JA,useReducer:zf,useRef:YA,useState:function(){return zf(Ds)},useDebugValue:jm,useDeferredValue:function(n,i){var a=Le();return tE(a,Zt.memoizedState,n,i)},useTransition:function(){var n=zf(Ds)[0],i=Le().memoizedState;return[typeof n=="boolean"?n:Hu(n),i]},useSyncExternalStore:LA,useId:sE};Pa.useCacheRefresh=aE,Pa.useMemoCache=km,Pa.useHostTransitionStatus=Bm,Pa.useFormState=qA,Pa.useActionState=qA,Pa.useOptimistic=function(n,i){var a=Le();return FA(a,Zt,n,i)};var Vr={readContext:dn,use:Ff,useCallback:ZA,useContext:dn,useEffect:Hm,useImperativeHandle:QA,useInsertionEffect:$A,useLayoutEffect:KA,useMemo:JA,useReducer:Pm,useRef:YA,useState:function(){return Pm(Ds)},useDebugValue:jm,useDeferredValue:function(n,i){var a=Le();return Zt===null?Um(a,n,i):tE(a,Zt.memoizedState,n,i)},useTransition:function(){var n=Pm(Ds)[0],i=Le().memoizedState;return[typeof n=="boolean"?n:Hu(n),i]},useSyncExternalStore:LA,useId:sE};Vr.useCacheRefresh=aE,Vr.useMemoCache=km,Vr.useHostTransitionStatus=Bm,Vr.useFormState=VA,Vr.useActionState=VA,Vr.useOptimistic=function(n,i){var a=Le();return Zt!==null?FA(a,Zt,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Gm(n,i,a,o){i=n.memoizedState,a=a(o,i),a=a==null?i:nt({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Vm={isMounted:function(n){return(n=n._reactInternals)?J(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var o=$n(),p=Ha(o);p.payload=i,a!=null&&(p.callback=a),i=ja(n,p,o),i!==null&&(_n(i,n,o),Bu(i,n,o))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var o=$n(),p=Ha(o);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=ja(n,p,o),i!==null&&(_n(i,n,o),Bu(i,n,o))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=$n(),o=Ha(a);o.tag=2,i!=null&&(o.callback=i),i=ja(n,o,a),i!==null&&(_n(i,n,a),Bu(i,n,a))}};function cE(n,i,a,o,p,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,y,E):i.prototype&&i.prototype.isPureReactComponent?!xu(a,o)||!xu(p,y):!0}function uE(n,i,a,o){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==n&&Vm.enqueueReplaceState(i,i.state,null)}function Yr(n,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(n=n.defaultProps){a===i&&(a=nt({},a));for(var p in n)a[p]===void 0&&(a[p]=n[p])}return a}var If=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function hE(n){If(n)}function dE(n){console.error(n)}function fE(n){If(n)}function Bf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function pE(n,i,a){try{var o=n.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ym(n,i,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){Bf(n,i)},a}function gE(n){return n=Ha(n),n.tag=3,n}function mE(n,i,a,o){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;n.payload=function(){return p(y)},n.callback=function(){pE(i,a,o)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){pE(i,a,o),typeof p!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function cC(n,i,a,o,p){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Iu(i,a,p,!0),a=pi.current,a!==null){switch(a.tag){case 13:return Ji===null?Cy():a.alternate===null&&Ae===0&&(Ae=3),a.flags&=-257,a.flags|=65536,a.lanes=p,o===Sm?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),My(n,o,p)),!1;case 22:return a.flags|=65536,o===Sm?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),My(n,o,p)),!1}throw Error(s(435,a.tag))}return My(n,o,p),Cy(),!1}if(Vt)return i=pi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,o!==Em&&(n=Error(s(422),{cause:o}),Lu(hi(n,a)))):(o!==Em&&(i=Error(s(423),{cause:o}),Lu(hi(i,a))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,o=hi(o,a),p=Ym(n.stateNode,o,p),ly(n,p),Ae!==4&&(Ae=2)),!1;var y=Error(s(520),{cause:o});if(y=hi(y,a),Wu===null?Wu=[y]:Wu.push(y),Ae!==4&&(Ae=2),i===null)return!0;o=hi(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=p&-p,a.lanes|=n,n=Ym(a.stateNode,o,n),ly(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Va===null||!Va.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=gE(p),mE(p,n,a,o),ly(a,p),!1}a=a.return}while(a!==null);return!1}var yE=Error(s(461)),Ye=!1;function nn(n,i,a,o){i.child=n===null?SA(i,null,a,o):Ir(i,n.child,a,o)}function vE(n,i,a,o,p){a=a.render;var y=i.ref;if("ref"in o){var E={};for(var R in o)R!=="ref"&&(E[R]=o[R])}else E=o;return $r(i),o=Mm(n,i,a,E,y,p),R=Lm(),n!==null&&!Ye?(Dm(n,i,p),Os(n,i,p)):(Vt&&R&&bm(i),i.flags|=1,nn(n,i,o,p),i.child)}function bE(n,i,a,o,p){if(n===null){var y=a.type;return typeof y=="function"&&!gy(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,AE(n,i,y,o,p)):(n=Xf(a.type,null,o,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!ey(n,p)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:xu,a(E,o)&&n.ref===i.ref)return Os(n,i,p)}return i.flags|=1,n=qa(y,o),n.ref=i.ref,n.return=i,i.child=n}function AE(n,i,a,o,p){if(n!==null){var y=n.memoizedProps;if(xu(y,o)&&n.ref===i.ref)if(Ye=!1,i.pendingProps=o=y,ey(n,p))(n.flags&131072)!==0&&(Ye=!0);else return i.lanes=n.lanes,Os(n,i,p)}return Xm(n,i,a,o,p)}function EE(n,i,a){var o=i.pendingProps,p=o.children,y=(i.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(Uu(n,i),o.mode==="hidden"||y){if((i.flags&128)!==0){if(o=E!==null?E.baseLanes|a:a,n!==null){for(p=i.child=n.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;i.childLanes=y&~o}else i.childLanes=0,i.child=null;return SE(n,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Of(i,E!==null?E.cachePool:null),E!==null?_A(i,E):_m(),wA(i);else return i.lanes=i.childLanes=536870912,SE(n,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(Of(i,E.cachePool),_A(i,E),ka(),i.memoizedState=null):(n!==null&&Of(i,null),_m(),ka());return nn(n,i,p,a),i.child}function SE(n,i,a,o){var p=Cm();return p=p===null?null:{parent:He._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},n!==null&&Of(i,null),_m(),wA(i),n!==null&&Iu(n,i,o,!0),null}function Uu(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Xm(n,i,a,o,p){return $r(i),a=Mm(n,i,a,o,void 0,p),o=Lm(),n!==null&&!Ye?(Dm(n,i,p),Os(n,i,p)):(Vt&&o&&bm(i),i.flags|=1,nn(n,i,a,p),i.child)}function _E(n,i,a,o,p,y){return $r(i),i.updateQueue=null,a=MA(i,o,a,p),RA(n),o=Lm(),n!==null&&!Ye?(Dm(n,i,y),Os(n,i,y)):(Vt&&o&&bm(i),i.flags|=1,nn(n,i,a,y),i.child)}function wE(n,i,a,o,p){if($r(i),i.stateNode===null){var y=Ro,E=a.contextType;typeof E=="object"&&E!==null&&(y=dn(E)),y=new a(o,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vm,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=o,y.state=i.memoizedState,y.refs={},ay(i),E=a.contextType,y.context=typeof E=="object"&&E!==null?dn(E):Ro,y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Gm(i,a,E,o),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Vm.enqueueReplaceState(y,y.state,null),Gu(i,o,y,p),qu(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(n===null){y=i.stateNode;var R=i.memoizedProps,D=Yr(a,R);y.props=D;var F=y.context,K=a.contextType;E=Ro,typeof K=="object"&&K!==null&&(E=dn(K));var st=a.getDerivedStateFromProps;K=typeof st=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||F!==E)&&uE(i,y,o,E),za=!1;var q=i.memoizedState;y.state=q,Gu(i,o,y,p),qu(),F=i.memoizedState,R||q!==F||za?(typeof st=="function"&&(Gm(i,a,st,o),F=i.memoizedState),(D=za||cE(i,a,D,o,q,F,E))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=F),y.props=o,y.state=F,y.context=E,o=D):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{y=i.stateNode,ry(n,i),E=i.memoizedProps,K=Yr(a,E),y.props=K,st=i.pendingProps,q=y.context,F=a.contextType,D=Ro,typeof F=="object"&&F!==null&&(D=dn(F)),R=a.getDerivedStateFromProps,(F=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==st||q!==D)&&uE(i,y,o,D),za=!1,q=i.memoizedState,y.state=q,Gu(i,o,y,p),qu();var $=i.memoizedState;E!==st||q!==$||za||n!==null&&n.dependencies!==null&&qf(n.dependencies)?(typeof R=="function"&&(Gm(i,a,R,o),$=i.memoizedState),(K=za||cE(i,a,K,o,q,$,D)||n!==null&&n.dependencies!==null&&qf(n.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,$,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,$,D)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=$),y.props=o,y.state=$,y.context=D,o=K):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),o=!1)}return y=o,Uu(n,i),o=(i.flags&128)!==0,y||o?(y=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&o?(i.child=Ir(i,n.child,null,p),i.child=Ir(i,null,a,p)):nn(n,i,a,p),i.memoizedState=y.state,n=i.child):n=Os(n,i,p),n}function TE(n,i,a,o){return Mu(),i.flags|=256,nn(n,i,a,o),i.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Km(n){return{baseLanes:n,cachePool:CA()}}function Wm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=vi),n}function xE(n,i,a){var o=i.pendingProps,p=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(ze.current&2)!==0),E&&(p=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Vt){if(p?Oa(i):ka(),Vt){var R=en,D;if(D=R){t:{for(D=R,R=Zi;D.nodeType!==8;){if(!R){R=null;break t}if(D=ki(D.nextSibling),D===null){R=null;break t}}R=D}R!==null?(i.memoizedState={dehydrated:R,treeContext:Hr!==null?{id:Rs,overflow:Ms}:null,retryLane:536870912},D=yi(18,null,null,0),D.stateNode=R,D.return=i,i.child=D,Sn=i,en=null,D=!0):D=!1}D||Ur(i)}if(R=i.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ls(i)}return R=o.children,o=o.fallback,p?(ka(),p=i.mode,R=Zm({mode:"hidden",children:R},p),o=Wr(o,p,a,null),R.return=i,o.return=i,R.sibling=o,i.child=R,p=i.child,p.memoizedState=Km(a),p.childLanes=Wm(n,E,a),i.memoizedState=$m,o):(Oa(i),Qm(i,R))}if(D=n.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(y)i.flags&256?(Oa(i),i.flags&=-257,i=Jm(n,i,a)):i.memoizedState!==null?(ka(),i.child=n.child,i.flags|=128,i=null):(ka(),p=o.fallback,R=i.mode,o=Zm({mode:"visible",children:o.children},R),p=Wr(p,R,a,null),p.flags|=2,o.return=i,p.return=i,o.sibling=p,i.child=o,Ir(i,n.child,null,a),o=i.child,o.memoizedState=Km(a),o.childLanes=Wm(n,E,a),i.memoizedState=$m,i=p);else if(Oa(i),R.data==="$!"){if(E=R.nextSibling&&R.nextSibling.dataset,E)var F=E.dgst;E=F,o=Error(s(419)),o.stack="",o.digest=E,Lu({value:o,source:null,stack:null}),i=Jm(n,i,a)}else if(Ye||Iu(n,i,a,!1),E=(a&n.childLanes)!==0,Ye||E){if(E=se,E!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(E.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane)throw D.retryLane=o,Da(n,o),_n(E,n,o),yE}R.data==="$?"||Cy(),i=Jm(n,i,a)}else R.data==="$?"?(i.flags|=128,i.child=n.child,i=wC.bind(null,n),R._reactRetry=i,i=null):(n=D.treeContext,en=ki(R.nextSibling),Sn=i,Vt=!0,Di=null,Zi=!1,n!==null&&(di[fi++]=Rs,di[fi++]=Ms,di[fi++]=Hr,Rs=n.id,Ms=n.overflow,Hr=i),i=Qm(i,o.children),i.flags|=4096);return i}return p?(ka(),p=o.fallback,R=i.mode,D=n.child,F=D.sibling,o=qa(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&31457280,F!==null?p=qa(F,p):(p=Wr(p,R,a,null),p.flags|=2),p.return=i,o.return=i,o.sibling=p,i.child=o,o=p,p=i.child,R=n.child.memoizedState,R===null?R=Km(a):(D=R.cachePool,D!==null?(F=He._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=CA(),R={baseLanes:R.baseLanes|a,cachePool:D}),p.memoizedState=R,p.childLanes=Wm(n,E,a),i.memoizedState=$m,o):(Oa(i),a=n.child,n=a.sibling,a=qa(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Qm(n,i){return i=Zm({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Zm(n,i){return ZE(n,i,0,null)}function Jm(n,i,a){return Ir(i,n.child,null,a),n=Qm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function CE(n,i,a){n.lanes|=i;var o=n.alternate;o!==null&&(o.lanes|=i),iy(n.return,i,a)}function ty(n,i,a,o,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=p)}function RE(n,i,a){var o=i.pendingProps,p=o.revealOrder,y=o.tail;if(nn(n,i,o.children,a),o=ze.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&CE(n,a,i);else if(n.tag===19)CE(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(bt(ze,o),p){case"forwards":for(a=i.child,p=null;a!==null;)n=a.alternate,n!==null&&Df(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),ty(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Df(n)===null){i.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}ty(i,!0,a,null,y);break;case"together":ty(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Os(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ga|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Iu(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=qa(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=qa(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ey(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&qf(n)))}function uC(n,i,a){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),Fa(i,He,n.memoizedState.cache),Mu();break;case 27:case 5:Wi(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:Fa(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Oa(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xE(n,i,a):(Oa(i),n=Os(n,i,a),n!==null?n.sibling:null);Oa(i);break;case 19:var p=(n.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Iu(n,i,a,!1),o=(a&i.childLanes)!==0),p){if(o)return RE(n,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),bt(ze,ze.current),o)break;return null;case 22:case 23:return i.lanes=0,EE(n,i,a);case 24:Fa(i,He,n.memoizedState.cache)}return Os(n,i,a)}function ME(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ye=!0;else{if(!ey(n,a)&&(i.flags&128)===0)return Ye=!1,uC(n,i,a);Ye=(n.flags&131072)!==0}else Ye=!1,Vt&&(i.flags&1048576)!==0&&fA(i,xf,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var o=i.elementType,p=o._init;if(o=p(o._payload),i.type=o,typeof o=="function")gy(o)?(n=Yr(o,n),i.tag=1,i=wE(null,i,o,n,a)):(i.tag=0,i=Xm(null,i,o,n,a));else{if(o!=null){if(p=o.$$typeof,p===S){i.tag=11,i=vE(null,i,o,n,a);break t}else if(p===x){i.tag=14,i=bE(null,i,o,n,a);break t}}throw i=W(o)||o,Error(s(306,i,""))}}return i;case 0:return Xm(n,i,i.type,i.pendingProps,a);case 1:return o=i.type,p=Yr(o,i.pendingProps),wE(n,i,o,p,a);case 3:t:{if(we(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var y=i.pendingProps;p=i.memoizedState,o=p.element,ry(n,i),Gu(i,y,null,a);var E=i.memoizedState;if(y=E.cache,Fa(i,He,y),y!==p.cache&&sy(i,[He],a,!0),qu(),y=E.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=TE(n,i,y,a);break t}else if(y!==o){o=hi(Error(s(424)),i),Lu(o),i=TE(n,i,y,a);break t}else for(en=ki(i.stateNode.containerInfo.firstChild),Sn=i,Vt=!0,Di=null,Zi=!0,a=SA(i,null,y,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mu(),y===o){i=Os(n,i,a);break t}nn(n,i,y,a)}i=i.child}return i;case 26:return Uu(n,i),n===null?(a=OS(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,n=i.pendingProps,o=ap(zt.current).createElement(a),o[hn]=i,o[On]=n,sn(o,a,n),Ve(o),i.stateNode=o):i.memoizedState=OS(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Wi(i),n===null&&Vt&&(o=i.stateNode=MS(i.type,i.pendingProps,zt.current),Sn=i,Zi=!0,en=ki(o.firstChild)),o=i.pendingProps.children,n!==null||Vt?nn(n,i,o,a):i.child=Ir(i,null,o,a),Uu(n,i),i.child;case 5:return n===null&&Vt&&((p=o=en)&&(o=UC(o,i.type,i.pendingProps,Zi),o!==null?(i.stateNode=o,Sn=i,en=ki(o.firstChild),Zi=!1,p=!0):p=!1),p||Ur(i)),Wi(i),p=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,o=y.children,Iy(p,y)?o=null:E!==null&&Iy(p,E)&&(i.flags|=32),i.memoizedState!==null&&(p=Mm(n,i,iC,null,null,a),ah._currentValue=p),Uu(n,i),nn(n,i,o,a),i.child;case 6:return n===null&&Vt&&((n=a=en)&&(a=IC(a,i.pendingProps,Zi),a!==null?(i.stateNode=a,Sn=i,en=null,n=!0):n=!1),n||Ur(i)),null;case 13:return xE(n,i,a);case 4:return we(i,i.stateNode.containerInfo),o=i.pendingProps,n===null?i.child=Ir(i,null,o,a):nn(n,i,o,a),i.child;case 11:return vE(n,i,i.type,i.pendingProps,a);case 7:return nn(n,i,i.pendingProps,a),i.child;case 8:return nn(n,i,i.pendingProps.children,a),i.child;case 12:return nn(n,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Fa(i,i.type,o.value),nn(n,i,o.children,a),i.child;case 9:return p=i.type._context,o=i.pendingProps.children,$r(i),p=dn(p),o=o(p),i.flags|=1,nn(n,i,o,a),i.child;case 14:return bE(n,i,i.type,i.pendingProps,a);case 15:return AE(n,i,i.type,i.pendingProps,a);case 19:return RE(n,i,a);case 22:return EE(n,i,a);case 24:return $r(i),o=dn(He),n===null?(p=Cm(),p===null&&(p=se,y=Tm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),i.memoizedState={parent:o,cache:p},ay(i),Fa(i,He,p)):((n.lanes&a)!==0&&(ry(n,i),Gu(i,null,null,a),qu()),p=n.memoizedState,y=i.memoizedState,p.parent!==o?(p={parent:o,cache:o},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Fa(i,He,o)):(o=y.cache,Fa(i,He,o),o!==p.cache&&sy(i,[He],a,!0))),nn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var ny=vt(null),Xr=null,ks=null;function Fa(n,i,a){bt(ny,i._currentValue),i._currentValue=a}function Ns(n){n._currentValue=ny.current,kt(ny)}function iy(n,i,a){for(;n!==null;){var o=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),n===a)break;n=n.return}}function sy(n,i,a,o){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=p;for(var D=0;D<i.length;D++)if(R.context===i[D]){y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),iy(y.return,a,n),o||(E=null);break t}y=R.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),iy(E,a,n),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===n){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Iu(n,i,a,o){n=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var R=p.type;Gn(p.pendingProps.value,E.value)||(n!==null?n.push(R):n=[R])}}else if(p===oe.current){if(E=p.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(ah):n=[ah])}p=p.return}n!==null&&sy(i,n,a,o),i.flags|=262144}function qf(n){for(n=n.firstContext;n!==null;){if(!Gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $r(n){Xr=n,ks=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function dn(n){return LE(Xr,n)}function Gf(n,i){return Xr===null&&$r(n),LE(n,i)}function LE(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ks===null){if(n===null)throw Error(s(308));ks=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ks=ks.next=i;return a}var za=!1;function ay(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ry(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ha(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ja(n,i,a){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(fe&2)!==0){var p=o.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),o.pending=i,i=wf(n),hA(n,null,a),i}return _f(n,o,i,a),wf(n)}function Bu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=n.pendingLanes,a|=o,i.lanes=a,b0(n,a)}}function ly(n,i){var a=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:o.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:o.shared,callbacks:o.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var oy=!1;function qu(){if(oy){var n=No;if(n!==null)throw n}}function Gu(n,i,a,o){oy=!1;var p=n.updateQueue;za=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var D=R,F=D.next;D.next=null,E===null?y=F:E.next=F,E=D;var K=n.alternate;K!==null&&(K=K.updateQueue,R=K.lastBaseUpdate,R!==E&&(R===null?K.firstBaseUpdate=F:R.next=F,K.lastBaseUpdate=D))}if(y!==null){var st=p.baseState;E=0,K=F=D=null,R=y;do{var q=R.lane&-536870913,$=q!==R.lane;if($?(Gt&q)===q:(o&q)===q){q!==0&&q===ko&&(oy=!0),K!==null&&(K=K.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var mt=n,Ct=R;q=i;var Ee=a;switch(Ct.tag){case 1:if(mt=Ct.payload,typeof mt=="function"){st=mt.call(Ee,st,q);break t}st=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Ct.payload,q=typeof mt=="function"?mt.call(Ee,st,q):mt,q==null)break t;st=nt({},st,q);break t;case 2:za=!0}}q=R.callback,q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=p.callbacks,$===null?p.callbacks=[q]:$.push(q))}else $={lane:q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},K===null?(F=K=$,D=st):K=K.next=$,E|=q;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;$=R,R=$.next,$.next=null,p.lastBaseUpdate=$,p.shared.pending=null}}while(!0);K===null&&(D=st),p.baseState=D,p.firstBaseUpdate=F,p.lastBaseUpdate=K,y===null&&(p.shared.lanes=0),Ga|=E,n.lanes=E,n.memoizedState=st}}function DE(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function OE(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)DE(a[n],i)}function Vu(n,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var p=o.next;a=p;do{if((a.tag&n)===n){o=void 0;var y=a.create,E=a.inst;o=y(),E.destroy=o}a=a.next}while(a!==p)}}catch(R){ne(i,i.return,R)}}function Ua(n,i,a){try{var o=i.updateQueue,p=o!==null?o.lastEffect:null;if(p!==null){var y=p.next;o=y;do{if((o.tag&n)===n){var E=o.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,p=i;var D=a;try{R()}catch(F){ne(p,D,F)}}}o=o.next}while(o!==y)}}catch(F){ne(i,i.return,F)}}function kE(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{OE(i,a)}catch(o){ne(n,n.return,o)}}}function NE(n,i,a){a.props=Yr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(o){ne(n,i,o)}}function Kr(n,i){try{var a=n.ref;if(a!==null){var o=n.stateNode;switch(n.tag){case 26:case 27:case 5:var p=o;break;default:p=o}typeof a=="function"?n.refCleanup=a(p):a.current=p}}catch(y){ne(n,i,y)}}function Vn(n,i){var a=n.ref,o=n.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(p){ne(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){ne(n,i,p)}else a.current=null}function PE(n){var i=n.type,a=n.memoizedProps,o=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(p){ne(n,n.return,p)}}function FE(n,i,a){try{var o=n.stateNode;PC(o,n.type,a,i),o[On]=i}catch(p){ne(n,n.return,p)}}function zE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function cy(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||zE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function uy(n,i,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sp));else if(o!==4&&o!==27&&(n=n.child,n!==null))for(uy(n,i,a),n=n.sibling;n!==null;)uy(n,i,a),n=n.sibling}function Vf(n,i,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Vf(n,i,a),n=n.sibling;n!==null;)Vf(n,i,a),n=n.sibling}var Ps=!1,be=!1,hy=!1,HE=typeof WeakSet=="function"?WeakSet:Set,Xe=null,jE=!1;function hC(n,i){if(n=n.containerInfo,jy=hp,n=nA(n),fm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var p=o.anchorOffset,y=o.focusNode;o=o.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var E=0,R=-1,D=-1,F=0,K=0,st=n,q=null;e:for(;;){for(var $;st!==a||p!==0&&st.nodeType!==3||(R=E+p),st!==y||o!==0&&st.nodeType!==3||(D=E+o),st.nodeType===3&&(E+=st.nodeValue.length),($=st.firstChild)!==null;)q=st,st=$;for(;;){if(st===n)break e;if(q===a&&++F===p&&(R=E),q===y&&++K===o&&(D=E),($=st.nextSibling)!==null)break;st=q,q=st.parentNode}st=$}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uy={focusedElem:n,selectionRange:a},hp=!1,Xe=i;Xe!==null;)if(i=Xe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Xe=n;else for(;Xe!==null;){switch(i=Xe,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,p=y.memoizedProps,y=y.memoizedState,o=a.stateNode;try{var mt=Yr(a.type,p,a.elementType===a.type);n=o.getSnapshotBeforeUpdate(mt,y),o.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){ne(a,a.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Gy(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gy(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Xe=n;break}Xe=i.return}return mt=jE,jE=!1,mt}function UE(n,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:zs(n,a),o&4&&Vu(5,a);break;case 1:if(zs(n,a),o&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(R){ne(a,a.return,R)}else{var p=Yr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(R){ne(a,a.return,R)}}o&64&&kE(a),o&512&&Kr(a,a.return);break;case 3:if(zs(n,a),o&64&&(o=a.updateQueue,o!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{OE(o,n)}catch(R){ne(a,a.return,R)}}break;case 26:zs(n,a),o&512&&Kr(a,a.return);break;case 27:case 5:zs(n,a),i===null&&o&4&&PE(a),o&512&&Kr(a,a.return);break;case 12:zs(n,a);break;case 13:zs(n,a),o&4&&qE(n,a);break;case 22:if(p=a.memoizedState!==null||Ps,!p){i=i!==null&&i.memoizedState!==null||be;var y=Ps,E=be;Ps=p,(be=i)&&!E?Ia(n,a,(a.subtreeFlags&8772)!==0):zs(n,a),Ps=y,be=E}o&512&&(a.memoizedProps.mode==="manual"?Kr(a,a.return):Vn(a,a.return));break;default:zs(n,a)}}function IE(n){var i=n.alternate;i!==null&&(n.alternate=null,IE(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Qg(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var De=null,Yn=!1;function Fs(n,i,a){for(a=a.child;a!==null;)BE(n,i,a),a=a.sibling}function BE(n,i,a){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(pu,a)}catch{}switch(a.tag){case 26:be||Vn(a,i),Fs(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||Vn(a,i);var o=De,p=Yn;for(De=a.stateNode,Fs(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Qg(a),De=o,Yn=p;break;case 5:be||Vn(a,i);case 6:p=De;var y=Yn;if(De=null,Fs(n,i,a),De=p,Yn=y,De!==null)if(Yn)try{n=De,o=a.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)}catch(E){ne(a,i,E)}else try{De.removeChild(a.stateNode)}catch(E){ne(a,i,E)}break;case 18:De!==null&&(Yn?(i=De,a=a.stateNode,i.nodeType===8?qy(i.parentNode,a):i.nodeType===1&&qy(i,a),ch(i)):qy(De,a.stateNode));break;case 4:o=De,p=Yn,De=a.stateNode.containerInfo,Yn=!0,Fs(n,i,a),De=o,Yn=p;break;case 0:case 11:case 14:case 15:be||Ua(2,a,i),be||Ua(4,a,i),Fs(n,i,a);break;case 1:be||(Vn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&NE(a,i,o)),Fs(n,i,a);break;case 21:Fs(n,i,a);break;case 22:be||Vn(a,i),be=(o=be)||a.memoizedState!==null,Fs(n,i,a),be=o;break;default:Fs(n,i,a)}}function qE(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ch(n)}catch(a){ne(i,i.return,a)}}function dC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new HE),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new HE),i;default:throw Error(s(435,n.tag))}}function dy(n,i){var a=dC(n);i.forEach(function(o){var p=TC.bind(null,n,o);a.has(o)||(a.add(o),o.then(p,p))})}function gi(n,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var p=a[o],y=n,E=i,R=E;t:for(;R!==null;){switch(R.tag){case 27:case 5:De=R.stateNode,Yn=!1;break t;case 3:De=R.stateNode.containerInfo,Yn=!0;break t;case 4:De=R.stateNode.containerInfo,Yn=!0;break t}R=R.return}if(De===null)throw Error(s(160));BE(y,E,p),De=null,Yn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)GE(i,n),i=i.sibling}var Oi=null;function GE(n,i){var a=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gi(i,n),mi(n),o&4&&(Ua(3,n,n.return),Vu(3,n),Ua(5,n,n.return));break;case 1:gi(i,n),mi(n),o&512&&(be||a===null||Vn(a,a.return)),o&64&&Ps&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var p=Oi;if(gi(i,n),mi(n),o&512&&(be||a===null||Vn(a,a.return)),o&4){var y=a!==null?a.memoizedState:null;if(o=n.memoizedState,a===null)if(o===null)if(n.stateNode===null){t:{o=n.type,a=n.memoizedProps,p=p.ownerDocument||p;e:switch(o){case"title":y=p.getElementsByTagName("title")[0],(!y||y[yu]||y[hn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(o),p.head.insertBefore(y,p.querySelector("head > title"))),sn(y,o,a),y[hn]=n,Ve(y),o=y;break t;case"link":var E=PS("link","href",p).get(o+(a.href||""));if(E){for(var R=0;R<E.length;R++)if(y=E[R],y.getAttribute("href")===(a.href==null?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(R,1);break e}}y=p.createElement(o),sn(y,o,a),p.head.appendChild(y);break;case"meta":if(E=PS("meta","content",p).get(o+(a.content||""))){for(R=0;R<E.length;R++)if(y=E[R],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(R,1);break e}}y=p.createElement(o),sn(y,o,a),p.head.appendChild(y);break;default:throw Error(s(468,o))}y[hn]=n,Ve(y),o=y}n.stateNode=o}else FS(p,n.type,n.stateNode);else n.stateNode=NS(p,o,n.memoizedProps);else y!==o?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,o===null?FS(p,n.type,n.stateNode):NS(p,o,n.memoizedProps)):o===null&&n.stateNode!==null&&FE(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&n.alternate===null){p=n.stateNode,y=n.memoizedProps;try{for(var D=p.firstChild;D;){var F=D.nextSibling,K=D.nodeName;D[yu]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||p.removeChild(D),D=F}for(var st=n.type,q=p.attributes;q.length;)p.removeAttributeNode(q[0]);sn(p,st,y),p[hn]=n,p[On]=y}catch(mt){ne(n,n.return,mt)}}case 5:if(gi(i,n),mi(n),o&512&&(be||a===null||Vn(a,a.return)),n.flags&32){p=n.stateNode;try{Eo(p,"")}catch(mt){ne(n,n.return,mt)}}o&4&&n.stateNode!=null&&(p=n.memoizedProps,FE(n,p,a!==null?a.memoizedProps:p)),o&1024&&(hy=!0);break;case 6:if(gi(i,n),mi(n),o&4){if(n.stateNode===null)throw Error(s(162));o=n.memoizedProps,a=n.stateNode;try{a.nodeValue=o}catch(mt){ne(n,n.return,mt)}}break;case 3:if(op=null,p=Oi,Oi=rp(i.containerInfo),gi(i,n),Oi=p,mi(n),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ch(i.containerInfo)}catch(mt){ne(n,n.return,mt)}hy&&(hy=!1,VE(n));break;case 4:o=Oi,Oi=rp(n.stateNode.containerInfo),gi(i,n),mi(n),Oi=o;break;case 12:gi(i,n),mi(n);break;case 13:gi(i,n),mi(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ey=li()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,dy(n,o)));break;case 22:if(o&512&&(be||a===null||Vn(a,a.return)),D=n.memoizedState!==null,F=a!==null&&a.memoizedState!==null,K=Ps,st=be,Ps=K||D,be=st||F,gi(i,n),be=st,Ps=K,mi(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Ps||be,a===null||F||i||Ho(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){F=a=i;try{if(p=F.stateNode,D)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=F.stateNode,R=F.memoizedProps.style;var $=R!=null&&R.hasOwnProperty("display")?R.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(mt){ne(F,F.return,mt)}}}else if(i.tag===6){if(a===null){F=i;try{F.stateNode.nodeValue=D?"":F.memoizedProps}catch(mt){ne(F,F.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=n.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dy(n,a))));break;case 19:gi(i,n),mi(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,dy(n,o)));break;case 21:break;default:gi(i,n),mi(n)}}function mi(n){var i=n.flags;if(i&2){try{if(n.tag!==27){t:{for(var a=n.return;a!==null;){if(zE(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var p=o.stateNode,y=cy(n);Vf(n,y,p);break;case 5:var E=o.stateNode;o.flags&32&&(Eo(E,""),o.flags&=-33);var R=cy(n);Vf(n,R,E);break;case 3:case 4:var D=o.stateNode.containerInfo,F=cy(n);uy(n,F,D);break;default:throw Error(s(161))}}}catch(K){ne(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function VE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;VE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)UE(n,i.alternate,i),i=i.sibling}function Ho(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ua(4,i,i.return),Ho(i);break;case 1:Vn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&NE(i,i.return,a),Ho(i);break;case 26:case 27:case 5:Vn(i,i.return),Ho(i);break;case 22:Vn(i,i.return),i.memoizedState===null&&Ho(i);break;default:Ho(i)}n=n.sibling}}function Ia(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,p=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ia(p,y,a),Vu(4,y);break;case 1:if(Ia(p,y,a),o=y,p=o.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(F){ne(o,o.return,F)}if(o=y,p=o.updateQueue,p!==null){var R=o.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)DE(D[p],R)}catch(F){ne(o,o.return,F)}}a&&E&64&&kE(y),Kr(y,y.return);break;case 26:case 27:case 5:Ia(p,y,a),a&&o===null&&E&4&&PE(y),Kr(y,y.return);break;case 12:Ia(p,y,a);break;case 13:Ia(p,y,a),a&&E&4&&qE(p,y);break;case 22:y.memoizedState===null&&Ia(p,y,a),Kr(y,y.return);break;default:Ia(p,y,a)}i=i.sibling}}function fy(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Pu(a))}function py(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Pu(n))}function Ba(n,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YE(n,i,a,o),i=i.sibling}function YE(n,i,a,o){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Ba(n,i,a,o),p&2048&&Vu(9,i);break;case 3:Ba(n,i,a,o),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Pu(n)));break;case 12:if(p&2048){Ba(n,i,a,o),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,R=y.onPostCommit;typeof R=="function"&&R(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ne(i,i.return,D)}}else Ba(n,i,a,o);break;case 23:break;case 22:y=i.stateNode,i.memoizedState!==null?y._visibility&4?Ba(n,i,a,o):Yu(n,i):y._visibility&4?Ba(n,i,a,o):(y._visibility|=4,jo(n,i,a,o,(i.subtreeFlags&10256)!==0)),p&2048&&fy(i.alternate,i);break;case 24:Ba(n,i,a,o),p&2048&&py(i.alternate,i);break;default:Ba(n,i,a,o)}}function jo(n,i,a,o,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,E=i,R=a,D=o,F=E.flags;switch(E.tag){case 0:case 11:case 15:jo(y,E,R,D,p),Vu(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&4?jo(y,E,R,D,p):Yu(y,E):(K._visibility|=4,jo(y,E,R,D,p)),p&&F&2048&&fy(E.alternate,E);break;case 24:jo(y,E,R,D,p),p&&F&2048&&py(E.alternate,E);break;default:jo(y,E,R,D,p)}i=i.sibling}}function Yu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,o=i,p=o.flags;switch(o.tag){case 22:Yu(a,o),p&2048&&fy(o.alternate,o);break;case 24:Yu(a,o),p&2048&&py(o.alternate,o);break;default:Yu(a,o)}i=i.sibling}}var Xu=8192;function Uo(n){if(n.subtreeFlags&Xu)for(n=n.child;n!==null;)XE(n),n=n.sibling}function XE(n){switch(n.tag){case 26:Uo(n),n.flags&Xu&&n.memoizedState!==null&&tR(Oi,n.memoizedState,n.memoizedProps);break;case 5:Uo(n);break;case 3:case 4:var i=Oi;Oi=rp(n.stateNode.containerInfo),Uo(n),Oi=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Xu,Xu=16777216,Uo(n),Xu=i):Uo(n));break;default:Uo(n)}}function $E(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function $u(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Xe=o,WE(o,n)}$E(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)KE(n),n=n.sibling}function KE(n){switch(n.tag){case 0:case 11:case 15:$u(n),n.flags&2048&&Ua(9,n,n.return);break;case 3:$u(n);break;case 12:$u(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Yf(n)):$u(n);break;default:$u(n)}}function Yf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Xe=o,WE(o,n)}$E(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ua(8,i,i.return),Yf(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Yf(i));break;default:Yf(i)}n=n.sibling}}function WE(n,i){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Ua(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Pu(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Xe=o;else t:for(a=n;Xe!==null;){o=Xe;var p=o.sibling,y=o.return;if(IE(o),o===a){Xe=null;break t}if(p!==null){p.return=y,Xe=p;break t}Xe=y}}}function fC(n,i,a,o){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(n,i,a,o){return new fC(n,i,a,o)}function gy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qa(n,i){var a=n.alternate;return a===null?(a=yi(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function QE(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Xf(n,i,a,o,p,y){var E=0;if(o=n,typeof n=="function")gy(n)&&(E=1);else if(typeof n=="string")E=ZC(n,a,Ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case f:return Wr(a.children,p,y,i);case g:E=8,p|=24;break;case m:return n=yi(12,a,i,p|2),n.elementType=m,n.lanes=y,n;case w:return n=yi(13,a,i,p),n.elementType=w,n.lanes=y,n;case M:return n=yi(19,a,i,p),n.elementType=M,n.lanes=y,n;case k:return ZE(a,p,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v:case A:E=10;break t;case b:E=9;break t;case S:E=11;break t;case x:E=14;break t;case O:E=16,o=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),o=null}return i=yi(E,a,i,p),i.elementType=n,i.type=o,i.lanes=y,i}function Wr(n,i,a,o){return n=yi(7,n,o,i),n.lanes=a,n}function ZE(n,i,a,o){n=yi(22,n,o,i),n.elementType=k,n.lanes=a;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(s(456));if((p._pendingVisibility&2)===0){var E=Da(y,2);E!==null&&(p._pendingVisibility|=2,_n(E,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(s(456));if((p._pendingVisibility&2)!==0){var E=Da(y,2);E!==null&&(p._pendingVisibility&=-3,_n(E,y,2))}}};return n.stateNode=p,n}function my(n,i,a){return n=yi(6,n,null,i),n.lanes=a,n}function yy(n,i,a){return i=yi(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Hs(n){n.flags|=4}function JE(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zS(i)){if(i=pi.current,i!==null&&((Gt&4194176)===Gt?Ji!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||i!==Ji))throw Ou=Sm,mA;n.flags|=8192}}function $f(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?y0():536870912,n.lanes|=i,Bo|=i)}function Ku(n,i){if(!Vt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function de(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,o=0;if(i)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,o|=p.subtreeFlags&31457280,o|=p.flags&31457280,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,o|=p.subtreeFlags,o|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=o,n.childLanes=a,i}function pC(n,i,a){var o=i.pendingProps;switch(Am(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ns(He),ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ru(i)?Hs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Di!==null&&(Ty(Di),Di=null))),de(i),null;case 26:return a=i.memoizedState,n===null?(Hs(i),a!==null?(de(i),JE(i,a)):(de(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Hs(i),de(i),JE(i,a)):(de(i),i.flags&=-16777217):(n.memoizedProps!==o&&Hs(i),de(i),i.flags&=-16777217),null;case 27:Qi(i),a=zt.current;var p=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==o&&Hs(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return de(i),null}n=Ft.current,Ru(i)?pA(i):(n=MS(p,o,a),i.stateNode=n,Hs(i))}return de(i),null;case 5:if(Qi(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==o&&Hs(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return de(i),null}if(n=Ft.current,Ru(i))pA(i);else{switch(p=ap(zt.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?p.createElement(a,{is:o.is}):p.createElement(a)}}n[hn]=i,n[On]=o;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=n;t:switch(sn(n,a,o),a){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Hs(i)}}return de(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==o&&Hs(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(n=zt.current,Ru(i)){if(n=i.stateNode,a=i.memoizedProps,o=null,p=Sn,p!==null)switch(p.tag){case 27:case 5:o=p.memoizedProps}n[hn]=i,n=!!(n.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||_S(n.nodeValue,a)),n||Ur(i)}else n=ap(n).createTextNode(o),n[hn]=i,i.stateNode=n}return de(i),null;case 13:if(o=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Ru(i),o!==null&&o.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[hn]=i}else Mu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),p=!1}else Di!==null&&(Ty(Di),Di=null),p=!0;if(!p)return i.flags&256?(Ls(i),i):(Ls(i),null)}if(Ls(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,n=n!==null&&n.memoizedState!==null,a){o=i.child,p=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(p=o.alternate.memoizedState.cachePool.pool);var y=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==p&&(o.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),$f(i,i.updateQueue),de(i),null;case 4:return ce(),n===null&&Fy(i.stateNode.containerInfo),de(i),null;case 10:return Ns(i.type),de(i),null;case 19:if(kt(ze),p=i.memoizedState,p===null)return de(i),null;if(o=(i.flags&128)!==0,y=p.rendering,y===null)if(o)Ku(p,!1);else{if(Ae!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=Df(n),y!==null){for(i.flags|=128,Ku(p,!1),n=y.updateQueue,i.updateQueue=n,$f(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)QE(a,n),a=a.sibling;return bt(ze,ze.current&1|2),i.child}n=n.sibling}p.tail!==null&&li()>Kf&&(i.flags|=128,o=!0,Ku(p,!1),i.lanes=4194304)}else{if(!o)if(n=Df(y),n!==null){if(i.flags|=128,o=!0,n=n.updateQueue,i.updateQueue=n,$f(i,n),Ku(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Vt)return de(i),null}else 2*li()-p.renderingStartTime>Kf&&a!==536870912&&(i.flags|=128,o=!0,Ku(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(n=p.last,n!==null?n.sibling=y:i.child=y,p.last=y)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=li(),i.sibling=null,n=ze.current,bt(ze,o?n&1|2:n&1),i):(de(i),null);case 22:case 23:return Ls(i),wm(),o=i.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&$f(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),n!==null&&kt(Br),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ns(He),de(i),null;case 25:return null}throw Error(s(156,i.tag))}function gC(n,i){switch(Am(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ns(He),ce(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Qi(i),null;case 13:if(Ls(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return kt(ze),null;case 4:return ce(),null;case 10:return Ns(i.type),null;case 22:case 23:return Ls(i),wm(),n!==null&&kt(Br),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ns(He),null;case 25:return null;default:return null}}function tS(n,i){switch(Am(i),i.tag){case 3:Ns(He),ce();break;case 26:case 27:case 5:Qi(i);break;case 4:ce();break;case 13:Ls(i);break;case 19:kt(ze);break;case 10:Ns(i.type);break;case 22:case 23:Ls(i),wm(),n!==null&&kt(Br);break;case 24:Ns(He)}}var mC={getCacheForType:function(n){var i=dn(He),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},yC=typeof WeakMap=="function"?WeakMap:Map,fe=0,se=null,Ut=null,Gt=0,ae=0,Xn=null,js=!1,Io=!1,vy=!1,Us=0,Ae=0,Ga=0,Qr=0,by=0,vi=0,Bo=0,Wu=null,es=null,Ay=!1,Ey=0,Kf=1/0,Wf=null,Va=null,Qf=!1,Zr=null,Qu=0,Sy=0,_y=null,Zu=0,wy=null;function $n(){if((fe&2)!==0&&Gt!==0)return Gt&-Gt;if(G.T!==null){var n=ko;return n!==0?n:Oy()}return E0()}function eS(){vi===0&&(vi=(Gt&536870912)===0||Vt?m0():536870912);var n=pi.current;return n!==null&&(n.flags|=32),vi}function _n(n,i,a){(n===se&&ae===2||n.cancelPendingCommit!==null)&&(qo(n,0),Is(n,Gt,vi,!1)),mu(n,a),((fe&2)===0||n!==se)&&(n===se&&((fe&2)===0&&(Qr|=a),Ae===4&&Is(n,Gt,vi,!1)),ns(n))}function nS(n,i,a){if((fe&6)!==0)throw Error(s(327));var o=!a&&(i&60)===0&&(i&n.expiredLanes)===0||gu(n,i),p=o?AC(n,i):Ry(n,i,!0),y=o;do{if(p===0){Io&&!o&&Is(n,i,0,!1);break}else if(p===6)Is(n,i,0,!js);else{if(a=n.current.alternate,y&&!vC(a)){p=Ry(n,i,!1),y=!1;continue}if(p===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var R=n;p=Wu;var D=R.current.memoizedState.isDehydrated;if(D&&(qo(R,E).flags|=256),E=Ry(R,E,!1),E!==2){if(vy&&!D){R.errorRecoveryDisabledLanes|=y,Qr|=y,p=4;break t}y=es,es=p,y!==null&&Ty(y)}p=E}if(y=!1,p!==2)continue}}if(p===1){qo(n,0),Is(n,i,0,!0);break}t:{switch(o=n,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Is(o,i,vi,!js);break t}break;case 2:es=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(y=Ey+300-li(),10<y)){if(Is(o,i,vi,!js),uf(o,0)!==0)break t;o.timeoutHandle=xS(iS.bind(null,o,a,es,Wf,Ay,i,vi,Qr,Bo,js,2,-0,0),y);break t}iS(o,a,es,Wf,Ay,i,vi,Qr,Bo,js,0,-0,0)}}break}while(!0);ns(n)}function Ty(n){es===null?es=n:es.push.apply(es,n)}function iS(n,i,a,o,p,y,E,R,D,F,K,st,q){var $=i.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(sh={stylesheets:null,count:0,unsuspend:JC},XE(i),i=eR(),i!==null)){n.cancelPendingCommit=i(uS.bind(null,n,a,o,p,E,R,D,1,st,q)),Is(n,y,E,!F);return}uS(n,a,o,p,E,R,D,K,st,q)}function vC(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var p=a[o],y=p.getSnapshot;p=p.value;try{if(!Gn(y(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(n,i,a,o){i&=~by,i&=~Qr,n.suspendedLanes|=i,n.pingedLanes&=~i,o&&(n.warmLanes|=i),o=n.expirationTimes;for(var p=i;0<p;){var y=31-qn(p),E=1<<y;o[y]=-1,p&=~E}a!==0&&v0(n,a,i)}function Zf(){return(fe&6)===0?(Ju(0),!1):!0}function xy(){if(Ut!==null){if(ae===0)var n=Ut.return;else n=Ut,ks=Xr=null,Om(n),Do=null,ku=0,n=Ut;for(;n!==null;)tS(n.alternate,n),n=n.return;Ut=null}}function qo(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,zC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),xy(),se=n,Ut=a=qa(n.current,null),Gt=i,ae=0,Xn=null,js=!1,Io=gu(n,i),vy=!1,Bo=vi=by=Qr=Ga=Ae=0,es=Wu=null,Ay=!1,(i&8)!==0&&(i|=i&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=i;0<o;){var p=31-qn(o),y=1<<p;i|=n[p],o&=~y}return Us=i,Sf(),a}function sS(n,i){Nt=null,G.H=ts,i===Du?(i=bA(),ae=3):i===mA?(i=bA(),ae=4):ae=i===yE?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,Ut===null&&(Ae=1,Bf(n,hi(i,n.current)))}function aS(){var n=G.H;return G.H=ts,n===null?ts:n}function rS(){var n=G.A;return G.A=mC,n}function Cy(){Ae=4,js||(Gt&4194176)!==Gt&&pi.current!==null||(Io=!0),(Ga&134217727)===0&&(Qr&134217727)===0||se===null||Is(se,Gt,vi,!1)}function Ry(n,i,a){var o=fe;fe|=2;var p=aS(),y=rS();(se!==n||Gt!==i)&&(Wf=null,qo(n,i)),i=!1;var E=Ae;t:do try{if(ae!==0&&Ut!==null){var R=Ut,D=Xn;switch(ae){case 8:xy(),E=6;break t;case 3:case 2:case 6:pi.current===null&&(i=!0);var F=ae;if(ae=0,Xn=null,Go(n,R,D,F),a&&Io){E=0;break t}break;default:F=ae,ae=0,Xn=null,Go(n,R,D,F)}}bC(),E=Ae;break}catch(K){sS(n,K)}while(!0);return i&&n.shellSuspendCounter++,ks=Xr=null,fe=o,G.H=p,G.A=y,Ut===null&&(se=null,Gt=0,Sf()),E}function bC(){for(;Ut!==null;)lS(Ut)}function AC(n,i){var a=fe;fe|=2;var o=aS(),p=rS();se!==n||Gt!==i?(Wf=null,Kf=li()+500,qo(n,i)):Io=gu(n,i);t:do try{if(ae!==0&&Ut!==null){i=Ut;var y=Xn;e:switch(ae){case 1:ae=0,Xn=null,Go(n,i,y,1);break;case 2:if(yA(y)){ae=0,Xn=null,oS(i);break}i=function(){ae===2&&se===n&&(ae=7),ns(n)},y.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:yA(y)?(ae=0,Xn=null,oS(i)):(ae=0,Xn=null,Go(n,i,y,7));break;case 5:var E=null;switch(Ut.tag){case 26:E=Ut.memoizedState;case 5:case 27:var R=Ut;if(!E||zS(E)){ae=0,Xn=null;var D=R.sibling;if(D!==null)Ut=D;else{var F=R.return;F!==null?(Ut=F,Jf(F)):Ut=null}break e}}ae=0,Xn=null,Go(n,i,y,5);break;case 6:ae=0,Xn=null,Go(n,i,y,6);break;case 8:xy(),Ae=6;break t;default:throw Error(s(462))}}EC();break}catch(K){sS(n,K)}while(!0);return ks=Xr=null,G.H=o,G.A=p,fe=a,Ut!==null?0:(se=null,Gt=0,Sf(),Ae)}function EC(){for(;Ut!==null&&!Yg();)lS(Ut)}function lS(n){var i=ME(n.alternate,n,Us);n.memoizedProps=n.pendingProps,i===null?Jf(n):Ut=i}function oS(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=_E(a,i,i.pendingProps,i.type,void 0,Gt);break;case 11:i=_E(a,i,i.pendingProps,i.type.render,i.ref,Gt);break;case 5:Om(i);default:tS(a,i),i=Ut=QE(i,Us),i=ME(a,i,Us)}n.memoizedProps=n.pendingProps,i===null?Jf(n):Ut=i}function Go(n,i,a,o){ks=Xr=null,Om(i),Do=null,ku=0;var p=i.return;try{if(cC(n,p,i,a,Gt)){Ae=1,Bf(n,hi(a,n.current)),Ut=null;return}}catch(y){if(p!==null)throw Ut=p,y;Ae=1,Bf(n,hi(a,n.current)),Ut=null;return}i.flags&32768?(Vt||o===1?n=!0:Io||(Gt&536870912)!==0?n=!1:(js=n=!0,(o===2||o===3||o===6)&&(o=pi.current,o!==null&&o.tag===13&&(o.flags|=16384))),cS(i,n)):Jf(i)}function Jf(n){var i=n;do{if((i.flags&32768)!==0){cS(i,js);return}n=i.return;var a=pC(i.alternate,i,Us);if(a!==null){Ut=a;return}if(i=i.sibling,i!==null){Ut=i;return}Ut=i=n}while(i!==null);Ae===0&&(Ae=5)}function cS(n,i){do{var a=gC(n.alternate,n);if(a!==null){a.flags&=32767,Ut=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ut=n;return}Ut=n=a}while(n!==null);Ae=6,Ut=null}function uS(n,i,a,o,p,y,E,R,D,F){var K=G.T,st=it.p;try{it.p=2,G.T=null,SC(n,i,a,o,st,p,y,E,R,D,F)}finally{G.T=K,it.p=st}}function SC(n,i,a,o,p,y,E,R){do Vo();while(Zr!==null);if((fe&6)!==0)throw Error(s(327));var D=n.finishedWork;if(o=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var F=D.lanes|D.childLanes;if(F|=ym,tx(n,o,F,y,E,R),n===se&&(Ut=se=null,Gt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Qf||(Qf=!0,Sy=F,_y=a,xC(Ts,function(){return Vo(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,y=it.p,it.p=2,E=fe,fe|=4,hC(n,D),GE(D,n),Yx(Uy,n.containerInfo),hp=!!jy,Uy=jy=null,n.current=D,UE(n,D.alternate,D),Xg(),fe=E,it.p=y,G.T=a):n.current=D,Qf?(Qf=!1,Zr=n,Qu=o):hS(n,F),F=n.pendingLanes,F===0&&(Va=null),KT(D.stateNode),ns(n),i!==null)for(p=n.onRecoverableError,D=0;D<i.length;D++)F=i[D],p(F.value,{componentStack:F.stack});return(Qu&3)!==0&&Vo(),F=n.pendingLanes,(o&4194218)!==0&&(F&42)!==0?n===wy?Zu++:(Zu=0,wy=n):Zu=0,Ju(0),null}function hS(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Pu(i)))}function Vo(){if(Zr!==null){var n=Zr,i=Sy;Sy=0;var a=A0(Qu),o=G.T,p=it.p;try{if(it.p=32>a?32:a,G.T=null,Zr===null)var y=!1;else{a=_y,_y=null;var E=Zr,R=Qu;if(Zr=null,Qu=0,(fe&6)!==0)throw Error(s(331));var D=fe;if(fe|=4,KE(E.current),YE(E,E.current,R,a),fe=D,Ju(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(pu,E)}catch{}y=!0}return y}finally{it.p=p,G.T=o,hS(n,i)}}return!1}function dS(n,i,a){i=hi(a,i),i=Ym(n.stateNode,i,2),n=ja(n,i,2),n!==null&&(mu(n,2),ns(n))}function ne(n,i,a){if(n.tag===3)dS(n,n,a);else for(;i!==null;){if(i.tag===3){dS(i,n,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))){n=hi(a,n),a=gE(2),o=ja(i,a,2),o!==null&&(mE(a,o,i,n),mu(o,2),ns(o));break}}i=i.return}}function My(n,i,a){var o=n.pingCache;if(o===null){o=n.pingCache=new yC;var p=new Set;o.set(i,p)}else p=o.get(i),p===void 0&&(p=new Set,o.set(i,p));p.has(a)||(vy=!0,p.add(a),n=_C.bind(null,n,i,a),i.then(n,n))}function _C(n,i,a){var o=n.pingCache;o!==null&&o.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,se===n&&(Gt&a)===a&&(Ae===4||Ae===3&&(Gt&62914560)===Gt&&300>li()-Ey?(fe&2)===0&&qo(n,0):by|=a,Bo===Gt&&(Bo=0)),ns(n)}function fS(n,i){i===0&&(i=y0()),n=Da(n,i),n!==null&&(mu(n,i),ns(n))}function wC(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),fS(n,a)}function TC(n,i){var a=0;switch(n.tag){case 13:var o=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),fS(n,a)}function xC(n,i){return fu(n,i)}var tp=null,Yo=null,Ly=!1,ep=!1,Dy=!1,Jr=0;function ns(n){n!==Yo&&n.next===null&&(Yo===null?tp=Yo=n:Yo=Yo.next=n),ep=!0,Ly||(Ly=!0,RC(CC))}function Ju(n,i){if(!Dy&&ep){Dy=!0;do for(var a=!1,o=tp;o!==null;){if(n!==0){var p=o.pendingLanes;if(p===0)var y=0;else{var E=o.suspendedLanes,R=o.pingedLanes;y=(1<<31-qn(42|n)+1)-1,y&=p&~(E&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(a=!0,mS(o,y))}else y=Gt,y=uf(o,o===se?y:0),(y&3)===0||gu(o,y)||(a=!0,mS(o,y));o=o.next}while(a);Dy=!1}}function CC(){ep=Ly=!1;var n=0;Jr!==0&&(FC()&&(n=Jr),Jr=0);for(var i=li(),a=null,o=tp;o!==null;){var p=o.next,y=pS(o,i);y===0?(o.next=null,a===null?tp=p:a.next=p,p===null&&(Yo=a)):(a=o,(n!==0||(y&3)!==0)&&(ep=!0)),o=p}Ju(n)}function pS(n,i){for(var a=n.suspendedLanes,o=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-qn(y),R=1<<E,D=p[E];D===-1?((R&a)===0||(R&o)!==0)&&(p[E]=JT(R,i)):D<=i&&(n.expiredLanes|=R),y&=~R}if(i=se,a=Gt,a=uf(n,n===i?a:0),o=n.callbackNode,a===0||n===i&&ae===2||n.cancelPendingCommit!==null)return o!==null&&o!==null&&Ca(o),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gu(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(o!==null&&Ca(o),A0(a)){case 2:case 8:a=ws;break;case 32:a=Ts;break;case 268435456:a=go;break;default:a=Ts}return o=gS.bind(null,n),a=fu(a,o),n.callbackPriority=i,n.callbackNode=a,i}return o!==null&&o!==null&&Ca(o),n.callbackPriority=2,n.callbackNode=null,2}function gS(n,i){var a=n.callbackNode;if(Vo()&&n.callbackNode!==a)return null;var o=Gt;return o=uf(n,n===se?o:0),o===0?null:(nS(n,o,i),pS(n,li()),n.callbackNode!=null&&n.callbackNode===a?gS.bind(null,n):null)}function mS(n,i){if(Vo())return null;nS(n,i,!0)}function RC(n){HC(function(){(fe&6)!==0?fu(lf,n):n()})}function Oy(){return Jr===0&&(Jr=m0()),Jr}function yS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:gf(""+n)}function vS(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function MC(n,i,a,o,p){if(i==="submit"&&a&&a.stateNode===p){var y=yS((p[On]||null).action),E=o.submitter;E&&(i=(i=E[On]||null)?yS(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var R=new bf("action","action",null,o,p);n.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Jr!==0){var D=E?vS(p,E):new FormData(p);Im(a,{pending:!0,data:D,method:p.method,action:y},null,D)}}else typeof y=="function"&&(R.preventDefault(),D=E?vS(p,E):new FormData(p),Im(a,{pending:!0,data:D,method:p.method,action:y},y,D))},currentTarget:p}]})}}for(var ky=0;ky<uA.length;ky++){var Ny=uA[ky],LC=Ny.toLowerCase(),DC=Ny[0].toUpperCase()+Ny.slice(1);Li(LC,"on"+DC)}Li(aA,"onAnimationEnd"),Li(rA,"onAnimationIteration"),Li(lA,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li($x,"onTransitionRun"),Li(Kx,"onTransitionStart"),Li(Wx,"onTransitionCancel"),Li(oA,"onTransitionEnd"),bo("onMouseEnter",["mouseout","mouseover"]),bo("onMouseLeave",["mouseout","mouseover"]),bo("onPointerEnter",["pointerout","pointerover"]),bo("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(th));function bS(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var o=n[a],p=o.event;o=o.listeners;t:{var y=void 0;if(i)for(var E=o.length-1;0<=E;E--){var R=o[E],D=R.instance,F=R.currentTarget;if(R=R.listener,D!==y&&p.isPropagationStopped())break t;y=R,p.currentTarget=F;try{y(p)}catch(K){If(K)}p.currentTarget=null,y=D}else for(E=0;E<o.length;E++){if(R=o[E],D=R.instance,F=R.currentTarget,R=R.listener,D!==y&&p.isPropagationStopped())break t;y=R,p.currentTarget=F;try{y(p)}catch(K){If(K)}p.currentTarget=null,y=D}}}}function Bt(n,i){var a=i[Wg];a===void 0&&(a=i[Wg]=new Set);var o=n+"__bubble";a.has(o)||(AS(i,n,2,!1),a.add(o))}function Py(n,i,a){var o=0;i&&(o|=4),AS(a,n,o,i)}var np="_reactListening"+Math.random().toString(36).slice(2);function Fy(n){if(!n[np]){n[np]=!0,_0.forEach(function(a){a!=="selectionchange"&&(OC.has(a)||Py(a,!1,n),Py(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[np]||(i[np]=!0,Py("selectionchange",!1,i))}}function AS(n,i,a,o){switch(qS(i)){case 2:var p=sR;break;case 8:p=aR;break;default:p=Ky}a=p.bind(null,i,a,n),p=void 0,!sm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),o?p!==void 0?n.addEventListener(i,a,{capture:!0,passive:p}):n.addEventListener(i,a,!0):p!==void 0?n.addEventListener(i,a,{passive:p}):n.addEventListener(i,a,!1)}function zy(n,i,a,o,p){var y=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var R=o.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(E===4)for(E=o.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;E=E.return}for(;R!==null;){if(E=kr(R),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){o=y=E;continue t}R=R.parentNode}}o=o.return}P0(function(){var F=y,K=nm(a),st=[];t:{var q=cA.get(n);if(q!==void 0){var $=bf,mt=n;switch(n){case"keypress":if(yf(a)===0)break t;case"keydown":case"keyup":$=Tx;break;case"focusin":mt="focus",$=om;break;case"focusout":mt="blur",$=om;break;case"beforeblur":case"afterblur":$=om;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Rx;break;case aA:case rA:case lA:$=mx;break;case oA:$=Lx;break;case"scroll":case"scrollend":$=hx;break;case"wheel":$=Ox;break;case"copy":case"cut":case"paste":$=vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=U0;break;case"toggle":case"beforetoggle":$=Nx}var Ct=(i&4)!==0,Ee=!Ct&&(n==="scroll"||n==="scrollend"),j=Ct?q!==null?q+"Capture":null:q;Ct=[];for(var P=F,I;P!==null;){var Q=P;if(I=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||I===null||j===null||(Q=bu(P,j),Q!=null&&Ct.push(eh(P,Q,I))),Ee)break;P=P.return}0<Ct.length&&(q=new $(q,mt,null,a,K),st.push({event:q,listeners:Ct}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",q&&a!==em&&(mt=a.relatedTarget||a.fromElement)&&(kr(mt)||mt[mo]))break t;if(($||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,$?(mt=a.relatedTarget||a.toElement,$=F,mt=mt?kr(mt):null,mt!==null&&(Ee=J(mt),Ct=mt.tag,mt!==Ee||Ct!==5&&Ct!==27&&Ct!==6)&&(mt=null)):($=null,mt=F),$!==mt)){if(Ct=H0,Q="onMouseLeave",j="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=U0,Q="onPointerLeave",j="onPointerEnter",P="pointer"),Ee=$==null?q:vu($),I=mt==null?q:vu(mt),q=new Ct(Q,P+"leave",$,a,K),q.target=Ee,q.relatedTarget=I,Q=null,kr(K)===F&&(Ct=new Ct(j,P+"enter",mt,a,K),Ct.target=I,Ct.relatedTarget=Ee,Q=Ct),Ee=Q,$&&mt)e:{for(Ct=$,j=mt,P=0,I=Ct;I;I=Xo(I))P++;for(I=0,Q=j;Q;Q=Xo(Q))I++;for(;0<P-I;)Ct=Xo(Ct),P--;for(;0<I-P;)j=Xo(j),I--;for(;P--;){if(Ct===j||j!==null&&Ct===j.alternate)break e;Ct=Xo(Ct),j=Xo(j)}Ct=null}else Ct=null;$!==null&&ES(st,q,$,Ct,!1),mt!==null&&Ee!==null&&ES(st,Ee,mt,Ct,!0)}}t:{if(q=F?vu(F):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var dt=$0;else if(Y0(q))if(K0)dt=Gx;else{dt=Bx;var Ht=Ix}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&tm(F.elementType)&&(dt=$0):dt=qx;if(dt&&(dt=dt(n,F))){X0(st,dt,a,K);break t}Ht&&Ht(n,q,F),n==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Jg(q,"number",q.value)}switch(Ht=F?vu(F):window,n){case"focusin":(Y0(Ht)||Ht.contentEditable==="true")&&(To=Ht,pm=F,Cu=null);break;case"focusout":Cu=pm=To=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,iA(st,a,K);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":iA(st,a,K)}var At;if(um)t:{switch(n){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else wo?G0(n,a)&&(wt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(I0&&a.locale!=="ko"&&(wo||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&wo&&(At=F0()):(La=K,am="value"in La?La.value:La.textContent,wo=!0)),Ht=ip(F,wt),0<Ht.length&&(wt=new j0(wt,n,null,a,K),st.push({event:wt,listeners:Ht}),At?wt.data=At:(At=V0(a),At!==null&&(wt.data=At)))),(At=Fx?zx(n,a):Hx(n,a))&&(wt=ip(F,"onBeforeInput"),0<wt.length&&(Ht=new j0("onBeforeInput","beforeinput",null,a,K),st.push({event:Ht,listeners:wt}),Ht.data=At)),MC(st,n,F,a,K)}bS(st,i)})}function eh(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ip(n,i){for(var a=i+"Capture",o=[];n!==null;){var p=n,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=bu(n,a),p!=null&&o.unshift(eh(n,p,y)),p=bu(n,i),p!=null&&o.push(eh(n,p,y))),n=n.return}return o}function Xo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ES(n,i,a,o,p){for(var y=i._reactName,E=[];a!==null&&a!==o;){var R=a,D=R.alternate,F=R.stateNode;if(R=R.tag,D!==null&&D===o)break;R!==5&&R!==26&&R!==27||F===null||(D=F,p?(F=bu(a,y),F!=null&&E.unshift(eh(a,F,D))):p||(F=bu(a,y),F!=null&&E.push(eh(a,F,D)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var kC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function SS(n){return(typeof n=="string"?n:""+n).replace(kC,`
`).replace(NC,"")}function _S(n,i){return i=SS(i),SS(n)===i}function sp(){}function Jt(n,i,a,o,p,y){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Eo(n,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Eo(n,""+o);break;case"className":df(n,"class",o);break;case"tabIndex":df(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":df(n,a,o);break;case"style":k0(n,o,y);break;case"data":if(i!=="object"){df(n,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=gf(""+o),n.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&Jt(n,i,"name",p.name,p,null),Jt(n,i,"formEncType",p.formEncType,p,null),Jt(n,i,"formMethod",p.formMethod,p,null),Jt(n,i,"formTarget",p.formTarget,p,null)):(Jt(n,i,"encType",p.encType,p,null),Jt(n,i,"method",p.method,p,null),Jt(n,i,"target",p.target,p,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=gf(""+o),n.setAttribute(a,o);break;case"onClick":o!=null&&(n.onclick=sp);break;case"onScroll":o!=null&&Bt("scroll",n);break;case"onScrollEnd":o!=null&&Bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}a=gf(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""+o):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":o===!0?n.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,o):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(a,o):n.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(a):n.setAttribute(a,o);break;case"popover":Bt("beforetoggle",n),Bt("toggle",n),hf(n,"popover",o);break;case"xlinkActuate":Cs(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cs(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cs(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cs(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cs(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hf(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cx.get(a)||a,hf(n,a,o))}}function Hy(n,i,a,o,p,y){switch(a){case"style":k0(n,o,y);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof o=="string"?Eo(n,o):(typeof o=="number"||typeof o=="bigint")&&Eo(n,""+o);break;case"onScroll":o!=null&&Bt("scroll",n);break;case"onScrollEnd":o!=null&&Bt("scrollend",n);break;case"onClick":o!=null&&(n.onclick=sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!w0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),y=n[On]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,p),typeof o=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,o,p);break t}a in n?n[a]=o:o===!0?n.setAttribute(a,""):hf(n,a,o)}}}function sn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",n),Bt("load",n);var o=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":o=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(n,i,y,E,a,null)}}p&&Jt(n,i,"srcSet",a.srcSet,a,null),o&&Jt(n,i,"src",a.src,a,null);return;case"input":Bt("invalid",n);var R=y=E=p=null,D=null,F=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":p=K;break;case"type":E=K;break;case"checked":D=K;break;case"defaultChecked":F=K;break;case"value":y=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Jt(n,i,o,K,a,null)}}M0(n,y,R,D,F,E,p,!1),ff(n);return;case"select":Bt("invalid",n),o=E=y=null;for(p in a)if(a.hasOwnProperty(p)&&(R=a[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":E=R;break;case"multiple":o=R;default:Jt(n,i,p,R,a,null)}i=y,a=E,n.multiple=!!o,i!=null?Ao(n,!!o,i,!1):a!=null&&Ao(n,!!o,a,!0);return;case"textarea":Bt("invalid",n),y=p=o=null;for(E in a)if(a.hasOwnProperty(E)&&(R=a[E],R!=null))switch(E){case"value":o=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Jt(n,i,E,R,a,null)}D0(n,o,p,y),ff(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(n,i,D,o,a,null)}return;case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":Bt("load",n);break;case"video":case"audio":for(o=0;o<th.length;o++)Bt(th[o],n);break;case"image":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"embed":case"source":case"link":Bt("error",n),Bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(o=a[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(n,i,F,o,a,null)}return;default:if(tm(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Hy(n,i,K,o,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null&&Jt(n,i,R,o,a,null))}function PC(n,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,R=null,D=null,F=null,K=null;for($ in a){var st=a[$];if(a.hasOwnProperty($)&&st!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=st;default:o.hasOwnProperty($)||Jt(n,i,$,null,o,st)}}for(var q in o){var $=o[q];if(st=a[q],o.hasOwnProperty(q)&&($!=null||st!=null))switch(q){case"type":y=$;break;case"name":p=$;break;case"checked":F=$;break;case"defaultChecked":K=$;break;case"value":E=$;break;case"defaultValue":R=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==st&&Jt(n,i,q,$,o,st)}}Zg(n,E,R,D,F,K,y,p);return;case"select":$=E=R=q=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":$=D;default:o.hasOwnProperty(y)||Jt(n,i,y,null,o,D)}for(p in o)if(y=o[p],D=a[p],o.hasOwnProperty(p)&&(y!=null||D!=null))switch(p){case"value":q=y;break;case"defaultValue":R=y;break;case"multiple":E=y;default:y!==D&&Jt(n,i,p,y,o,D)}i=R,a=E,o=$,q!=null?Ao(n,!!a,q,!1):!!o!=!!a&&(i!=null?Ao(n,!!a,i,!0):Ao(n,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(R in a)if(p=a[R],a.hasOwnProperty(R)&&p!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Jt(n,i,R,null,o,p)}for(E in o)if(p=o[E],y=a[E],o.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":q=p;break;case"defaultValue":$=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&Jt(n,i,E,p,o,y)}L0(n,q,$);return;case"option":for(var mt in a)if(q=a[mt],a.hasOwnProperty(mt)&&q!=null&&!o.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:Jt(n,i,mt,null,o,q)}for(D in o)if(q=o[D],$=a[D],o.hasOwnProperty(D)&&q!==$&&(q!=null||$!=null))switch(D){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Jt(n,i,D,q,o,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)q=a[Ct],a.hasOwnProperty(Ct)&&q!=null&&!o.hasOwnProperty(Ct)&&Jt(n,i,Ct,null,o,q);for(F in o)if(q=o[F],$=a[F],o.hasOwnProperty(F)&&q!==$&&(q!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Jt(n,i,F,q,o,$)}return;default:if(tm(i)){for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!==void 0&&!o.hasOwnProperty(Ee)&&Hy(n,i,Ee,void 0,o,q);for(K in o)q=o[K],$=a[K],!o.hasOwnProperty(K)||q===$||q===void 0&&$===void 0||Hy(n,i,K,q,o,$);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!o.hasOwnProperty(j)&&Jt(n,i,j,null,o,q);for(st in o)q=o[st],$=a[st],!o.hasOwnProperty(st)||q===$||q==null&&$==null||Jt(n,i,st,q,o,$)}var jy=null,Uy=null;function ap(n){return n.nodeType===9?n:n.ownerDocument}function wS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TS(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Iy(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var By=null;function FC(){var n=window.event;return n&&n.type==="popstate"?n===By?!1:(By=n,!0):(By=null,!1)}var xS=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,CS=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof CS<"u"?function(n){return CS.resolve(null).then(n).catch(jC)}:xS;function jC(n){setTimeout(function(){throw n})}function qy(n,i){var a=i,o=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(o===0){n.removeChild(p),ch(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=p}while(a);ch(i)}function Gy(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gy(a),Qg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function UC(n,i,a,o){for(;n.nodeType===1;){var p=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[yu])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function IC(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ki(n.nextSibling),n===null))return null;return n}function ki(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function RS(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function MS(n,i,a){switch(i=ap(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var bi=new Map,LS=new Set;function rp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Bs=it.d;it.d={f:BC,r:qC,D:GC,C:VC,L:YC,m:XC,X:KC,S:$C,M:WC};function BC(){var n=Bs.f(),i=Zf();return n||i}function qC(n){var i=yo(n);i!==null&&i.tag===5&&i.type==="form"?iE(i):Bs.r(n)}var $o=typeof document>"u"?null:document;function DS(n,i,a){var o=$o;if(o&&typeof i=="string"&&i){var p=ci(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),LS.has(p)||(LS.add(p),n={rel:n,crossOrigin:a,href:i},o.querySelector(p)===null&&(i=o.createElement("link"),sn(i,"link",n),Ve(i),o.head.appendChild(i)))}}function GC(n){Bs.D(n),DS("dns-prefetch",n,null)}function VC(n,i){Bs.C(n,i),DS("preconnect",n,i)}function YC(n,i,a){Bs.L(n,i,a);var o=$o;if(o&&n&&i){var p='link[rel="preload"][as="'+ci(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+ci(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+ci(a.imageSizes)+'"]')):p+='[href="'+ci(n)+'"]';var y=p;switch(i){case"style":y=Ko(n);break;case"script":y=Wo(n)}bi.has(y)||(n=nt({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),bi.set(y,n),o.querySelector(p)!==null||i==="style"&&o.querySelector(nh(y))||i==="script"&&o.querySelector(ih(y))||(i=o.createElement("link"),sn(i,"link",n),Ve(i),o.head.appendChild(i)))}}function XC(n,i){Bs.m(n,i);var a=$o;if(a&&n){var o=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+ci(o)+'"][href="'+ci(n)+'"]',y=p;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wo(n)}if(!bi.has(y)&&(n=nt({rel:"modulepreload",href:n},i),bi.set(y,n),a.querySelector(p)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ih(y)))return}o=a.createElement("link"),sn(o,"link",n),Ve(o),a.head.appendChild(o)}}}function $C(n,i,a){Bs.S(n,i,a);var o=$o;if(o&&n){var p=vo(o).hoistableStyles,y=Ko(n);i=i||"default";var E=p.get(y);if(!E){var R={loading:0,preload:null};if(E=o.querySelector(nh(y)))R.loading=5;else{n=nt({rel:"stylesheet",href:n,"data-precedence":i},a),(a=bi.get(y))&&Vy(n,a);var D=E=o.createElement("link");Ve(D),sn(D,"link",n),D._p=new Promise(function(F,K){D.onload=F,D.onerror=K}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,lp(E,i,o)}E={type:"stylesheet",instance:E,count:1,state:R},p.set(y,E)}}}function KC(n,i){Bs.X(n,i);var a=$o;if(a&&n){var o=vo(a).hoistableScripts,p=Wo(n),y=o.get(p);y||(y=a.querySelector(ih(p)),y||(n=nt({src:n,async:!0},i),(i=bi.get(p))&&Yy(n,i),y=a.createElement("script"),Ve(y),sn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(p,y))}}function WC(n,i){Bs.M(n,i);var a=$o;if(a&&n){var o=vo(a).hoistableScripts,p=Wo(n),y=o.get(p);y||(y=a.querySelector(ih(p)),y||(n=nt({src:n,async:!0,type:"module"},i),(i=bi.get(p))&&Yy(n,i),y=a.createElement("script"),Ve(y),sn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(p,y))}}function OS(n,i,a,o){var p=(p=zt.current)?rp(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ko(a.href),a=vo(p).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ko(a.href);var y=vo(p).hoistableStyles,E=y.get(n);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=p.querySelector(nh(n)))&&!y._p&&(E.instance=y,E.state.loading=5),bi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(n,a),y||QC(p,n,a,E.state))),i&&o===null)throw Error(s(528,""));return E}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wo(a),a=vo(p).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ko(n){return'href="'+ci(n)+'"'}function nh(n){return'link[rel="stylesheet"]['+n+"]"}function kS(n){return nt({},n,{"data-precedence":n.precedence,precedence:null})}function QC(n,i,a,o){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=n.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),sn(i,"link",a),Ve(i),n.head.appendChild(i))}function Wo(n){return'[src="'+ci(n)+'"]'}function ih(n){return"script[async]"+n}function NS(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=n.querySelector('style[data-href~="'+ci(a.href)+'"]');if(o)return i.instance=o,Ve(o),o;var p=nt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),Ve(o),sn(o,"style",p),lp(o,a.precedence,n),i.instance=o;case"stylesheet":p=Ko(a.href);var y=n.querySelector(nh(p));if(y)return i.state.loading|=4,i.instance=y,Ve(y),y;o=kS(a),(p=bi.get(p))&&Vy(o,p),y=(n.ownerDocument||n).createElement("link"),Ve(y);var E=y;return E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),sn(y,"link",o),i.state.loading|=4,lp(y,a.precedence,n),i.instance=y;case"script":return y=Wo(a.src),(p=n.querySelector(ih(y)))?(i.instance=p,Ve(p),p):(o=a,(p=bi.get(y))&&(o=nt({},a),Yy(o,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ve(p),sn(p,"link",o),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,lp(o,a.precedence,n));return i.instance}function lp(n,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=o.length?o[o.length-1]:null,y=p,E=0;E<o.length;E++){var R=o[E];if(R.dataset.precedence===i)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Vy(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Yy(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var op=null;function PS(n,i,a){if(op===null){var o=new Map,p=op=new Map;p.set(a,o)}else p=op,o=p.get(a),o||(o=new Map,p.set(a,o));if(o.has(n))return o;for(o.set(n,null),a=a.getElementsByTagName(n),p=0;p<a.length;p++){var y=a[p];if(!(y[yu]||y[hn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var R=o.get(E);R?R.push(y):o.set(E,[y])}}return o}function FS(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function ZC(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var sh=null;function JC(){}function tR(n,i,a){if(sh===null)throw Error(s(475));var o=sh;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Ko(a.href),y=n.querySelector(nh(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=cp.bind(o),n.then(o,o)),i.state.loading|=4,i.instance=y,Ve(y);return}y=n.ownerDocument||n,a=kS(a),(p=bi.get(p))&&Vy(a,p),y=y.createElement("link"),Ve(y);var E=y;E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),sn(y,"link",a),i.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=cp.bind(o),n.addEventListener("load",i),n.addEventListener("error",i))}}function eR(){if(sh===null)throw Error(s(475));var n=sh;return n.stylesheets&&n.count===0&&Xy(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Xy(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function cp(){if(this.count--,this.count===0){if(this.stylesheets)Xy(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var up=null;function Xy(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,up=new Map,i.forEach(nR,n),up=null,cp.call(n))}function nR(n,i){if(!(i.state.loading&4)){var a=up.get(n);if(a)var o=a.get(null);else{a=new Map,up.set(n,a);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),o=E)}o&&a.set(null,o)}p=i.instance,E=p.getAttribute("data-precedence"),y=a.get(E)||o,y===o&&a.set(null,p),a.set(E,p),this.count++,o=cp.bind(this),p.addEventListener("load",o),p.addEventListener("error",o),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var ah={$$typeof:A,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function iR(n,i,a,o,p,y,E,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kg(0),this.hiddenUpdates=Kg(null),this.identifierPrefix=o,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function HS(n,i,a,o,p,y,E,R,D,F,K,st){return n=new iR(n,i,a,E,R,D,F,st),i=1,y===!0&&(i|=24),y=yi(3,null,null,i),n.current=y,y.stateNode=n,i=Tm(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:o,isDehydrated:a,cache:i},ay(y),n}function jS(n){return n?(n=Ro,n):Ro}function US(n,i,a,o,p,y){p=jS(p),o.context===null?o.context=p:o.pendingContext=p,o=Ha(i),o.payload={element:a},y=y===void 0?null:y,y!==null&&(o.callback=y),a=ja(n,o,i),a!==null&&(_n(a,n,i),Bu(a,n,i))}function IS(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function $y(n,i){IS(n,i),(n=n.alternate)&&IS(n,i)}function BS(n){if(n.tag===13){var i=Da(n,67108864);i!==null&&_n(i,n,67108864),$y(n,67108864)}}var hp=!0;function sR(n,i,a,o){var p=G.T;G.T=null;var y=it.p;try{it.p=2,Ky(n,i,a,o)}finally{it.p=y,G.T=p}}function aR(n,i,a,o){var p=G.T;G.T=null;var y=it.p;try{it.p=8,Ky(n,i,a,o)}finally{it.p=y,G.T=p}}function Ky(n,i,a,o){if(hp){var p=Wy(o);if(p===null)zy(n,i,o,dp,a),GS(n,o);else if(lR(p,n,i,a,o))o.stopPropagation();else if(GS(n,o),i&4&&-1<rR.indexOf(n)){for(;p!==null;){var y=yo(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Or(y.pendingLanes);if(E!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var D=1<<31-qn(E);R.entanglements[1]|=D,E&=~D}ns(y),(fe&6)===0&&(Kf=li()+500,Ju(0))}}break;case 13:R=Da(y,2),R!==null&&_n(R,y,2),Zf(),$y(y,2)}if(y=Wy(o),y===null&&zy(n,i,o,dp,a),y===p)break;p=y}p!==null&&o.stopPropagation()}else zy(n,i,o,null,a)}}function Wy(n){return n=nm(n),Qy(n)}var dp=null;function Qy(n){if(dp=null,n=kr(n),n!==null){var i=J(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=_t(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return dp=n,null}function qS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($g()){case lf:return 2;case ws:return 8;case Ts:case po:return 32;case go:return 268435456;default:return 32}default:return 32}}var Zy=!1,Ya=null,Xa=null,$a=null,rh=new Map,lh=new Map,Ka=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GS(n,i){switch(n){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":rh.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(i.pointerId)}}function oh(n,i,a,o,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:y,targetContainers:[p]},i!==null&&(i=yo(i),i!==null&&BS(i)),n):(n.eventSystemFlags|=o,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function lR(n,i,a,o,p){switch(i){case"focusin":return Ya=oh(Ya,n,i,a,o,p),!0;case"dragenter":return Xa=oh(Xa,n,i,a,o,p),!0;case"mouseover":return $a=oh($a,n,i,a,o,p),!0;case"pointerover":var y=p.pointerId;return rh.set(y,oh(rh.get(y)||null,n,i,a,o,p)),!0;case"gotpointercapture":return y=p.pointerId,lh.set(y,oh(lh.get(y)||null,n,i,a,o,p)),!0}return!1}function VS(n){var i=kr(n.target);if(i!==null){var a=J(i);if(a!==null){if(i=a.tag,i===13){if(i=_t(a),i!==null){n.blockedOn=i,ex(n.priority,function(){if(a.tag===13){var o=$n(),p=Da(a,o);p!==null&&_n(p,a,o),$y(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Wy(n.nativeEvent);if(a===null){a=n.nativeEvent;var o=new a.constructor(a.type,a);em=o,a.target.dispatchEvent(o),em=null}else return i=yo(a),i!==null&&BS(i),n.blockedOn=a,!1;i.shift()}return!0}function YS(n,i,a){fp(n)&&a.delete(i)}function oR(){Zy=!1,Ya!==null&&fp(Ya)&&(Ya=null),Xa!==null&&fp(Xa)&&(Xa=null),$a!==null&&fp($a)&&($a=null),rh.forEach(YS),lh.forEach(YS)}function pp(n,i){n.blockedOn===i&&(n.blockedOn=null,Zy||(Zy=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,oR)))}var gp=null;function XS(n){gp!==n&&(gp=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){gp===n&&(gp=null);for(var i=0;i<n.length;i+=3){var a=n[i],o=n[i+1],p=n[i+2];if(typeof o!="function"){if(Qy(o||a)===null)continue;break}var y=yo(a);y!==null&&(n.splice(i,3),i-=3,Im(y,{pending:!0,data:p,method:a.method,action:o},o,p))}}))}function ch(n){function i(D){return pp(D,n)}Ya!==null&&pp(Ya,n),Xa!==null&&pp(Xa,n),$a!==null&&pp($a,n),rh.forEach(i),lh.forEach(i);for(var a=0;a<Ka.length;a++){var o=Ka[a];o.blockedOn===n&&(o.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)VS(a),a.blockedOn===null&&Ka.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var p=a[o],y=a[o+1],E=p[On]||null;if(typeof y=="function")E||XS(a);else if(E){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[On]||null)R=E.formAction;else if(Qy(p)!==null)continue}else R=E.action;typeof R=="function"?a[o+1]=R:(a.splice(o,3),o-=3),XS(a)}}}function Jy(n){this._internalRoot=n}mp.prototype.render=Jy.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=$n();US(a,o,n,i,null,null)},mp.prototype.unmount=Jy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Vo(),US(n.current,2,null,n,null,null),Zf(),i[mo]=null}};function mp(n){this._internalRoot=n}mp.prototype.unstable_scheduleHydration=function(n){if(n){var i=E0();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ka.length&&i!==0&&i<Ka[a].priority;a++);Ka.splice(a,0,n),a===0&&VS(n)}};var $S=t.version;if($S!=="19.0.0")throw Error(s(527,$S,"19.0.0"));it.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=U(i),n=n!==null?tt(n):null,n=n===null?null:n.stateNode,n};var cR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:kr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{pu=yp.inject(cR),Bn=yp}catch{}}return hh.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,o="",p=hE,y=dE,E=fE,R=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks)),i=HS(n,1,!1,null,null,a,o,p,y,E,R,null),n[mo]=i.current,Fy(n.nodeType===8?n.parentNode:n),new Jy(i)},hh.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var o=!1,p="",y=hE,E=dE,R=fE,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=HS(n,1,!0,i,a??null,o,p,y,E,R,D,F),i.context=jS(null),a=i.current,o=$n(),p=Ha(o),p.callback=null,ja(a,p,o),i.current.lanes=o,mu(i,o),ns(i),n[mo]=i.current,Fy(n),new mp(i)},hh.version="19.0.0",hh}var a_;function ER(){if(a_)return iv.exports;a_=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),iv.exports=AR(),iv.exports}var SR=ER();const _R=Dg(SR);var dh={},r_;function wR(){if(r_)return dh;r_=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.parse=u,dh.serialize=g;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,A){const S=new l,w=b.length;if(w<2)return S;const M=(A==null?void 0:A.decode)||m;let x=0;do{const O=b.indexOf("=",x);if(O===-1)break;const k=b.indexOf(";",x),N=k===-1?w:k;if(O>N){x=b.lastIndexOf(";",O-1)+1;continue}const H=d(b,x,O),B=f(b,O,H),Y=b.slice(H,B);if(S[Y]===void 0){let W=d(b,O+1,N),G=f(b,N,W);const nt=M(b.slice(W,G));S[Y]=nt}x=N+1}while(x<w);return S}function d(b,A,S){do{const w=b.charCodeAt(A);if(w!==32&&w!==9)return A}while(++A<S);return S}function f(b,A,S){for(;A>S;){const w=b.charCodeAt(--A);if(w!==32&&w!==9)return A+1}return S}function g(b,A,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!c.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=w(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let x=b+"="+M;if(!S)return x;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);x+="; Max-Age="+S.maxAge}if(S.domain){if(!e.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);x+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);x+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);x+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(x+="; HttpOnly"),S.secure&&(x+="; Secure"),S.partitioned&&(x+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return x}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return dh}wR();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function TR(c={}){function t(s,r){let{pathname:l,search:u,hash:d}=s.location;return Sv("",{pathname:l,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){return typeof r=="string"?r:Fh(r)}return CR(t,e,null,c)}function ve(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}function Ss(c,t){if(!c){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function o_(c,t){return{usr:c.state,key:c.key,idx:t}}function Sv(c,t,e=null,s){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof t=="string"?cu(t):t,state:e,key:t&&t.key||s||xR()}}function Fh({pathname:c="/",search:t="",hash:e=""}){return t&&t!=="?"&&(c+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(c+=e.charAt(0)==="#"?e:"#"+e),c}function cu(c){let t={};if(c){let e=c.indexOf("#");e>=0&&(t.hash=c.substring(e),c=c.substring(0,e));let s=c.indexOf("?");s>=0&&(t.search=c.substring(s),c=c.substring(0,s)),c&&(t.pathname=c)}return t}function CR(c,t,e,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,u=r.history,d="POP",f=null,g=m();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let M=m(),x=M==null?null:M-g;g=M,f&&f({action:d,location:w.location,delta:x})}function b(M,x){d="PUSH";let O=Sv(w.location,M,x);g=m()+1;let k=o_(O,g),N=w.createHref(O);try{u.pushState(k,"",N)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(N)}l&&f&&f({action:d,location:w.location,delta:1})}function A(M,x){d="REPLACE";let O=Sv(w.location,M,x);g=m();let k=o_(O,g),N=w.createHref(O);u.replaceState(k,"",N),l&&f&&f({action:d,location:w.location,delta:0})}function S(M){let x=r.location.origin!=="null"?r.location.origin:r.location.href,O=typeof M=="string"?M:Fh(M);return O=O.replace(/ $/,"%20"),ve(x,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,x)}let w={get action(){return d},get location(){return c(r,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(l_,v),f=M,()=>{r.removeEventListener(l_,v),f=null}},createHref(M){return t(r,M)},createURL:S,encodeLocation(M){let x=S(M);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:A,go(M){return u.go(M)}};return w}function a1(c,t,e="/"){return RR(c,t,e,!1)}function RR(c,t,e,s){let r=typeof t=="string"?cu(t):t,l=_a(r.pathname||"/",e);if(l==null)return null;let u=r1(c);MR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let g=UR(l);d=HR(u[f],g,s)}return d}function r1(c,t=[],e=[],s=""){let r=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(ve(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=ba([s,f.relativePath]),m=e.concat(f);l.children&&l.children.length>0&&(ve(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),r1(l.children,t,m,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:FR(g,l.index),routesMeta:m})};return c.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,u);else for(let f of l1(l.path))r(l,u,f)}),t}function l1(c){let t=c.split("/");if(t.length===0)return[];let[e,...s]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let u=l1(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),r&&d.push(...u),d.map(f=>c.startsWith("/")&&f===""?"/":f)}function MR(c){c.sort((t,e)=>t.score!==e.score?e.score-t.score:zR(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var LR=/^:[\w-]+$/,DR=3,OR=2,kR=1,NR=10,PR=-2,c_=c=>c==="*";function FR(c,t){let e=c.split("/"),s=e.length;return e.some(c_)&&(s+=PR),t&&(s+=OR),e.filter(r=>!c_(r)).reduce((r,l)=>r+(LR.test(l)?DR:l===""?kR:NR),s)}function zR(c,t){return c.length===t.length&&c.slice(0,-1).every((s,r)=>s===t[r])?c[c.length-1]-t[t.length-1]:0}function HR(c,t,e=!1){let{routesMeta:s}=c,r={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],g=d===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",v=ag({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),b=f.route;if(!v&&g&&e&&!s[s.length-1].route.index&&(v=ag({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:ba([l,v.pathname]),pathnameBase:GR(ba([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=ba([l,v.pathnameBase]))}return u}function ag(c,t){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[e,s]=jR(c.path,c.caseSensitive,c.end),r=t.match(e);if(!r)return null;let l=r[0],u=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((g,{paramName:m,isOptional:v},b)=>{if(m==="*"){let S=d[b]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const A=d[b];return v&&!A?g[m]=void 0:g[m]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:c}}function jR(c,t=!1,e=!0){Ss(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let s=[],r="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(s.push({paramName:"*"}),r+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":c!==""&&c!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function UR(c){try{return c.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ss(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),c}}function _a(c,t){if(t==="/")return c;if(!c.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=c.charAt(e);return s&&s!=="/"?null:c.slice(e)||"/"}function IR(c,t="/"){let{pathname:e,search:s="",hash:r=""}=typeof c=="string"?cu(c):c;return{pathname:e?e.startsWith("/")?e:BR(e,t):t,search:VR(s),hash:YR(r)}}function BR(c,t){let e=t.replace(/\/+$/,"").split("/");return c.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function lv(c,t,e,s){return`Cannot include a '${c}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qR(c){return c.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function o1(c){let t=qR(c);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function c1(c,t,e,s=!1){let r;typeof c=="string"?r=cu(c):(r={...c},ve(!r.pathname||!r.pathname.includes("?"),lv("?","pathname","search",r)),ve(!r.pathname||!r.pathname.includes("#"),lv("#","pathname","hash",r)),ve(!r.search||!r.search.includes("#"),lv("#","search","hash",r)));let l=c===""||r.pathname==="",u=l?"/":r.pathname,d;if(u==null)d=e;else{let v=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}d=v>=0?t[v]:"/"}let f=IR(r,d),g=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var ba=c=>c.join("/").replace(/\/\/+/g,"/"),GR=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),VR=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,YR=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function XR(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var u1=["POST","PUT","PATCH","DELETE"];new Set(u1);var $R=["GET",...u1];new Set($R);var uu=z.createContext(null);uu.displayName="DataRouter";var Og=z.createContext(null);Og.displayName="DataRouterState";var h1=z.createContext({isTransitioning:!1});h1.displayName="ViewTransition";var KR=z.createContext(new Map);KR.displayName="Fetchers";var WR=z.createContext(null);WR.displayName="Await";var _s=z.createContext(null);_s.displayName="Navigation";var Jd=z.createContext(null);Jd.displayName="Location";var xa=z.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Xb=z.createContext(null);Xb.displayName="RouteError";function QR(c,{relative:t}={}){ve(tf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=z.useContext(_s),{hash:r,pathname:l,search:u}=ef(c,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ba([e,l])),s.createHref({pathname:d,search:u,hash:r})}function tf(){return z.useContext(Jd)!=null}function co(){return ve(tf(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Jd).location}var d1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f1(c){z.useContext(_s).static||z.useLayoutEffect(c)}function ZR(){let{isDataRoute:c}=z.useContext(xa);return c?h2():JR()}function JR(){ve(tf(),"useNavigate() may be used only in the context of a <Router> component.");let c=z.useContext(uu),{basename:t,navigator:e}=z.useContext(_s),{matches:s}=z.useContext(xa),{pathname:r}=co(),l=JSON.stringify(o1(s)),u=z.useRef(!1);return f1(()=>{u.current=!0}),z.useCallback((f,g={})=>{if(Ss(u.current,d1),!u.current)return;if(typeof f=="number"){e.go(f);return}let m=c1(f,JSON.parse(l),r,g.relative==="path");c==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ba([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,l,r,c])}z.createContext(null);function ef(c,{relative:t}={}){let{matches:e}=z.useContext(xa),{pathname:s}=co(),r=JSON.stringify(o1(e));return z.useMemo(()=>c1(c,JSON.parse(r),s,t==="path"),[c,r,s,t])}function t2(c,t){return p1(c,t)}function p1(c,t,e,s){var O;ve(tf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:l}=z.useContext(_s),{matches:u}=z.useContext(xa),d=u[u.length-1],f=d?d.params:{},g=d?d.pathname:"/",m=d?d.pathnameBase:"/",v=d&&d.route;{let k=v&&v.path||"";g1(g,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=co(),A;if(t){let k=typeof t=="string"?cu(t):t;ve(m==="/"||((O=k.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),A=k}else A=b;let S=A.pathname||"/",w=S;if(m!=="/"){let k=m.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let M=!l&&e&&e.matches&&e.matches.length>0?e.matches:a1(c,{pathname:w});Ss(v||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ss(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=a2(M&&M.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:ba([m,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:ba([m,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,e,s);return t&&x?z.createElement(Jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},x):x}function e2(){let c=u2(),t=XR(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),e=c instanceof Error?c.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",c),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:r},e):null,u)}var n2=z.createElement(e2,null),i2=class extends z.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,t){return t.location!==c.location||t.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:t.error,location:t.location,revalidation:c.revalidation||t.revalidation}}componentDidCatch(c,t){console.error("React Router caught the following error during render",c,t)}render(){return this.state.error!==void 0?z.createElement(xa.Provider,{value:this.props.routeContext},z.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function s2({routeContext:c,match:t,children:e}){let s=z.useContext(uu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(xa.Provider,{value:c},e)}function a2(c,t=[],e=null,s=null){if(c==null){if(!e)return null;if(e.errors)c=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)c=e.matches;else return null}let r=c,l=e==null?void 0:e.errors;if(l!=null){let f=r.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ve(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:m,errors:v}=e,b=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,g,m)=>{let v,b=!1,A=null,S=null;e&&(v=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||n2,u&&(d<0&&m===0?(g1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===m&&(b=!0,S=g.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,m+1)),M=()=>{let x;return v?x=A:b?x=S:g.route.Component?x=z.createElement(g.route.Component,null):g.route.element?x=g.route.element:x=f,z.createElement(s2,{match:g,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:x})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?z.createElement(i2,{location:e.location,revalidation:e.revalidation,component:A,error:v,children:M(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):M()},null)}function $b(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(c){let t=z.useContext(uu);return ve(t,$b(c)),t}function l2(c){let t=z.useContext(Og);return ve(t,$b(c)),t}function o2(c){let t=z.useContext(xa);return ve(t,$b(c)),t}function Kb(c){let t=o2(c),e=t.matches[t.matches.length-1];return ve(e.route.id,`${c} can only be used on routes that contain a unique "id"`),e.route.id}function c2(){return Kb("useRouteId")}function u2(){var s;let c=z.useContext(Xb),t=l2("useRouteError"),e=Kb("useRouteError");return c!==void 0?c:(s=t.errors)==null?void 0:s[e]}function h2(){let{router:c}=r2("useNavigate"),t=Kb("useNavigate"),e=z.useRef(!1);return f1(()=>{e.current=!0}),z.useCallback(async(r,l={})=>{Ss(e.current,d1),e.current&&(typeof r=="number"?c.navigate(r):await c.navigate(r,{fromRouteId:t,...l}))},[c,t])}var u_={};function g1(c,t,e){!t&&!u_[c]&&(u_[c]=!0,Ss(!1,e))}z.memo(d2);function d2({routes:c,future:t,state:e}){return p1(c,void 0,e,t)}function _v(c){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f2({basename:c="/",children:t=null,location:e,navigationType:s="POP",navigator:r,static:l=!1}){ve(!tf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=c.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:r,static:l,future:{}}),[u,r,l]);typeof e=="string"&&(e=cu(e));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:b="default"}=e,A=z.useMemo(()=>{let S=_a(f,u);return S==null?null:{location:{pathname:S,search:g,hash:m,state:v,key:b},navigationType:s}},[u,f,g,m,v,b,s]);return Ss(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:z.createElement(_s.Provider,{value:d},z.createElement(Jd.Provider,{children:t,value:A}))}function p2({children:c,location:t}){return t2(wv(c),t)}function wv(c,t=[]){let e=[];return z.Children.forEach(c,(s,r)=>{if(!z.isValidElement(s))return;let l=[...t,r];if(s.type===z.Fragment){e.push.apply(e,wv(s.props.children,l));return}ve(s.type===_v,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=wv(s.props.children,l)),e.push(u)}),e}var xp="get",Cp="application/x-www-form-urlencoded";function kg(c){return c!=null&&typeof c.tagName=="string"}function g2(c){return kg(c)&&c.tagName.toLowerCase()==="button"}function m2(c){return kg(c)&&c.tagName.toLowerCase()==="form"}function y2(c){return kg(c)&&c.tagName.toLowerCase()==="input"}function v2(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function b2(c,t){return c.button===0&&(!t||t==="_self")&&!v2(c)}var vp=null;function A2(){if(vp===null)try{new FormData(document.createElement("form"),0),vp=!1}catch{vp=!0}return vp}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ov(c){return c!=null&&!E2.has(c)?(Ss(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cp}"`),null):c}function S2(c,t){let e,s,r,l,u;if(m2(c)){let d=c.getAttribute("action");s=d?_a(d,t):null,e=c.getAttribute("method")||xp,r=ov(c.getAttribute("enctype"))||Cp,l=new FormData(c)}else if(g2(c)||y2(c)&&(c.type==="submit"||c.type==="image")){let d=c.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=c.getAttribute("formaction")||d.getAttribute("action");if(s=f?_a(f,t):null,e=c.getAttribute("formmethod")||d.getAttribute("method")||xp,r=ov(c.getAttribute("formenctype"))||ov(d.getAttribute("enctype"))||Cp,l=new FormData(d,c),!A2()){let{name:g,type:m,value:v}=c;if(m==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,v)}}else{if(kg(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=xp,s=null,r=Cp,u=c}return l&&r==="text/plain"&&(u=l,l=void 0),{action:s,method:e.toLowerCase(),encType:r,formData:l,body:u}}function Wb(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}async function _2(c,t){if(c.id in t)return t[c.id];try{let e=await import(c.module);return t[c.id]=e,e}catch(e){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w2(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function T2(c,t,e){let s=await Promise.all(c.map(async r=>{let l=t.routes[r.route.id];if(l){let u=await _2(l,e);return u.links?u.links():[]}return[]}));return M2(s.flat(1).filter(w2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function h_(c,t,e,s,r,l){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,d=(f,g)=>{var m;return e[g].pathname!==f.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,g)=>u(f,g)||d(f,g)):l==="data"?t.filter((f,g)=>{var v;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(c,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function x2(c,t,{includeHydrateFallback:e}={}){return C2(c.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function C2(c){return[...new Set(c)]}function R2(c){let t={},e=Object.keys(c).sort();for(let s of e)t[s]=c[s];return t}function M2(c,t){let e=new Set;return new Set(t),c.reduce((s,r)=>{let l=JSON.stringify(R2(r));return e.has(l)||(e.add(l),s.push({key:l,link:r})),s},[])}function L2(c,t){let e=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return e.pathname==="/"?e.pathname="_root.data":t&&_a(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function m1(){let c=z.useContext(uu);return Wb(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function D2(){let c=z.useContext(Og);return Wb(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var Qb=z.createContext(void 0);Qb.displayName="FrameworkContext";function y1(){let c=z.useContext(Qb);return Wb(c,"You must render this element inside a <HydratedRouter> element"),c}function O2(c,t){let e=z.useContext(Qb),[s,r]=z.useState(!1),[l,u]=z.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:v}=t,b=z.useRef(null);z.useEffect(()=>{if(c==="render"&&u(!0),c==="viewport"){let w=x=>{x.forEach(O=>{u(O.isIntersecting)})},M=new IntersectionObserver(w,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[c]),z.useEffect(()=>{if(s){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[s]);let A=()=>{r(!0)},S=()=>{r(!1),u(!1)};return e?c!=="intent"?[l,b,{}]:[l,b,{onFocus:fh(d,A),onBlur:fh(f,S),onMouseEnter:fh(g,A),onMouseLeave:fh(m,S),onTouchStart:fh(v,A)}]:[!1,b,{}]}function fh(c,t){return e=>{c&&c(e),e.defaultPrevented||t(e)}}function k2({page:c,...t}){let{router:e}=m1(),s=z.useMemo(()=>a1(e.routes,c,e.basename),[e.routes,c,e.basename]);return s?z.createElement(P2,{page:c,matches:s,...t}):null}function N2(c){let{manifest:t,routeModules:e}=y1(),[s,r]=z.useState([]);return z.useEffect(()=>{let l=!1;return T2(c,t,e).then(u=>{l||r(u)}),()=>{l=!0}},[c,t,e]),s}function P2({page:c,matches:t,...e}){let s=co(),{manifest:r,routeModules:l}=y1(),{basename:u}=m1(),{loaderData:d,matches:f}=D2(),g=z.useMemo(()=>h_(c,t,f,r,s,"data"),[c,t,f,r,s]),m=z.useMemo(()=>h_(c,t,f,r,s,"assets"),[c,t,f,r,s]),v=z.useMemo(()=>{if(c===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(t.forEach(x=>{var k;let O=r.routes[x.route.id];!O||!O.hasLoader||(!g.some(N=>N.route.id===x.route.id)&&x.route.id in d&&((k=l[x.route.id])!=null&&k.shouldRevalidate)||O.hasClientLoader?w=!0:S.add(x.route.id))}),S.size===0)return[];let M=L2(c,u);return w&&S.size>0&&M.searchParams.set("_routes",t.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[M.pathname+M.search]},[u,d,s,r,g,t,c,l]),b=z.useMemo(()=>x2(m,r),[m,r]),A=N2(m);return z.createElement(z.Fragment,null,v.map(S=>z.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),b.map(S=>z.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),A.map(({key:S,link:w})=>z.createElement("link",{key:S,...w})))}function F2(...c){return t=>{c.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var v1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v1&&(window.__reactRouterVersion="7.3.0")}catch{}function z2({basename:c,children:t,window:e}){let s=z.useRef();s.current==null&&(s.current=TR({window:e,v5Compat:!0}));let r=s.current,[l,u]=z.useState({action:r.action,location:r.location}),d=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>r.listen(d),[r,d]),z.createElement(f2,{basename:c,children:t,location:l.location,navigationType:l.action,navigator:r})}var b1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zb=z.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:r,reloadDocument:l,replace:u,state:d,target:f,to:g,preventScrollReset:m,viewTransition:v,...b},A){let{basename:S}=z.useContext(_s),w=typeof g=="string"&&b1.test(g),M,x=!1;if(typeof g=="string"&&w&&(M=g,v1))try{let G=new URL(window.location.href),nt=g.startsWith("//")?new URL(G.protocol+g):new URL(g),at=_a(nt.pathname,S);nt.origin===G.origin&&at!=null?g=at+nt.search+nt.hash:x=!0}catch{Ss(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=QR(g,{relative:r}),[k,N,H]=O2(s,b),B=I2(g,{replace:u,state:d,target:f,preventScrollReset:m,relative:r,viewTransition:v});function Y(G){t&&t(G),G.defaultPrevented||B(G)}let W=z.createElement("a",{...b,...H,href:M||O,onClick:x||l?t:Y,ref:F2(A,N),target:f,"data-discover":!w&&e==="render"?"true":void 0});return k&&!w?z.createElement(z.Fragment,null,W,z.createElement(k2,{page:O})):W});Zb.displayName="Link";var H2=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:r=!1,style:l,to:u,viewTransition:d,children:f,...g},m){let v=ef(u,{relative:g.relative}),b=co(),A=z.useContext(Og),{navigator:S,basename:w}=z.useContext(_s),M=A!=null&&Y2(v)&&d===!0,x=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,O=b.pathname,k=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(O=O.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&w&&(k=_a(k,w)||k);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let H=O===x||!r&&O.startsWith(x)&&O.charAt(N)==="/",B=k!=null&&(k===x||!r&&k.startsWith(x)&&k.charAt(x.length)==="/"),Y={isActive:H,isPending:B,isTransitioning:M},W=H?t:void 0,G;typeof s=="function"?G=s(Y):G=[s,H?"active":null,B?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let nt=typeof l=="function"?l(Y):l;return z.createElement(Zb,{...g,"aria-current":W,className:G,ref:m,style:nt,to:u,viewTransition:d},typeof f=="function"?f(Y):f)});H2.displayName="NavLink";var j2=z.forwardRef(({discover:c="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:r,state:l,method:u=xp,action:d,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:v,...b},A)=>{let S=G2(),w=V2(d,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&b1.test(d),O=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,H=(N==null?void 0:N.getAttribute("formmethod"))||u;S(N||k.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:r,state:l,relative:g,preventScrollReset:m,viewTransition:v})};return z.createElement("form",{ref:A,method:M,action:w,onSubmit:s?f:O,...b,"data-discover":!x&&c==="render"?"true":void 0})});j2.displayName="Form";function U2(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(c){let t=z.useContext(uu);return ve(t,U2(c)),t}function I2(c,{target:t,replace:e,state:s,preventScrollReset:r,relative:l,viewTransition:u}={}){let d=ZR(),f=co(),g=ef(c,{relative:l});return z.useCallback(m=>{if(b2(m,t)){m.preventDefault();let v=e!==void 0?e:Fh(f)===Fh(g);d(c,{replace:v,state:s,preventScrollReset:r,relative:l,viewTransition:u})}},[f,d,g,e,s,t,c,r,l,u])}var B2=0,q2=()=>`__${String(++B2)}__`;function G2(){let{router:c}=A1("useSubmit"),{basename:t}=z.useContext(_s),e=c2();return z.useCallback(async(s,r={})=>{let{action:l,method:u,encType:d,formData:f,body:g}=S2(s,t);if(r.navigate===!1){let m=r.fetcherKey||q2();await c.fetch(m,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await c.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[c,t,e])}function V2(c,{relative:t}={}){let{basename:e}=z.useContext(_s),s=z.useContext(xa);ve(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...ef(c||".",{relative:t})},u=co();if(c==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!c||c===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ba([e,l.pathname])),Fh(l)}function Y2(c,t={}){let e=z.useContext(h1);ve(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=A1("useViewTransitionState"),r=ef(c,{relative:t.relative});if(!e.isTransitioning)return!1;let l=_a(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=_a(e.nextLocation.pathname,s)||e.nextLocation.pathname;return ag(r.pathname,u)!=null||ag(r.pathname,l)!=null}new TextEncoder;var E1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d_=le.createContext&&le.createContext(E1),X2=["attr","size","title"];function $2(c,t){if(c==null)return{};var e=K2(c,t),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(c);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(c,s)&&(e[s]=c[s])}return e}function K2(c,t){if(c==null)return{};var e={};for(var s in c)if(Object.prototype.hasOwnProperty.call(c,s)){if(t.indexOf(s)>=0)continue;e[s]=c[s]}return e}function rg(){return rg=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(c[s]=e[s])}return c},rg.apply(this,arguments)}function f_(c,t){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(c);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(c,r).enumerable})),e.push.apply(e,s)}return e}function lg(c){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(e),!0).forEach(function(s){W2(c,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):f_(Object(e)).forEach(function(s){Object.defineProperty(c,s,Object.getOwnPropertyDescriptor(e,s))})}return c}function W2(c,t,e){return t=Q2(t),t in c?Object.defineProperty(c,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[t]=e,c}function Q2(c){var t=Z2(c,"string");return typeof t=="symbol"?t:t+""}function Z2(c,t){if(typeof c!="object"||!c)return c;var e=c[Symbol.toPrimitive];if(e!==void 0){var s=e.call(c,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(c)}function S1(c){return c&&c.map((t,e)=>le.createElement(t.tag,lg({key:e},t.attr),S1(t.child)))}function hu(c){return t=>le.createElement(J2,rg({attr:lg({},c.attr)},t),S1(c.child))}function J2(c){var t=e=>{var{attr:s,size:r,title:l}=c,u=$2(c,X2),d=r||e.size||"1em",f;return e.className&&(f=e.className),c.className&&(f=(f?f+" ":"")+c.className),le.createElement("svg",rg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:f,style:lg(lg({color:c.color||e.color},e.style),c.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&le.createElement("title",null,l),c.children)};return d_!==void 0?le.createElement(d_.Consumer,null,e=>t(e)):t(E1)}function tM(c){return hu({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(c)}function _1(c){return hu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(c)}function eM(c){return hu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(c)}function nM(c){return hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(c)}function iM(c){return hu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(c)}function sM(c){return hu({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(c)}function aM(){const[c,t]=z.useState(!1),e=()=>{t(!c)},s=()=>{t(!1)};return X.jsxs("header",{children:[X.jsxs("div",{className:"logo",children:[X.jsx("span",{className:"logo-last-name",children:"Delmotte"}),X.jsx("span",{className:"logo-first-name",children:"Jean-Franois"})]}),X.jsx("button",{className:"menu-toggle",onClick:e,children:c?X.jsx(sM,{}):X.jsx(eM,{})}),X.jsxs("nav",{className:`nav-links ${c?"open":""}`,children:[X.jsx("a",{href:"#hero",className:"nav-button",onClick:s,children:"Accueil"}),X.jsx("a",{href:"#about",className:"nav-button",onClick:s,children:"Prsentation"}),X.jsx("a",{href:"#skills",className:"nav-button",onClick:s,children:"Comptences"}),X.jsx("a",{href:"#projects",className:"nav-button",onClick:s,children:"Projets"}),X.jsx("a",{href:"#contact",className:"nav-button",onClick:s,children:"Contact"}),X.jsxs(Zb,{to:"/cv.pdf",target:"_blank",rel:"noopener noreferrer",className:"nav-button",onClick:s,children:[X.jsx(iM,{className:"download-icon"})," Mon CV"]})]})]})}function rM(){return X.jsx("section",{id:"hero",children:X.jsxs("div",{className:"hero-background",children:[X.jsxs("div",{className:"hero-content",children:[X.jsxs("h1",{className:"hero-title",children:["Delmotte",X.jsx("br",{}),"Jean-Franois"]}),X.jsx("h2",{className:"hero-subtitle",children:"Dveloppeur web/intgrateur web"})]}),X.jsxs("div",{className:"hero-buttons",children:[X.jsx("a",{href:"https://github.com/jeff397?tab=repositories",className:"github-button",target:"_blank",rel:"noopener noreferrer",children:"Github"}),X.jsx("a",{href:"#contact",children:X.jsx("button",{className:"contact-button",children:"Contactez moi"})})]})]})})}function lM(){const[c,t]=z.useState(!1);return z.useEffect(()=>{const e=new IntersectionObserver(r=>{t(r[0].isIntersecting)},{threshold:.3}),s=document.querySelector("#about");return s&&e.observe(s),()=>{s&&e.unobserve(s)}},[]),X.jsx("section",{id:"about",children:X.jsxs("div",{className:`about-content ${c?"rotate":""}`,children:[X.jsx("h3",{children:" propos de moi"}),X.jsx("p",{children:"Afin de me reconvertir professionnellement, j'ai dcid de me spcialiser dans le dveloppement web. Aprs avoir travaill dans un autre domaine, j'ai dcid de me rorienter vers un mtier qui me passionne : la cration de sites web et d'applications. Afin d'acqurir les comptences ncessaires, j'ai suivi une formation complte sur OpenClassrooms, une plateforme de qualit qui m'a permis de matriser les technologies modernes du dveloppement web, notamment React, HTML, CSS, JavaScript, ainsi que les principes de conception d'interface utilisateur. Grce  cette formation, j'ai dvelopp une solide base technique et une comprhension approfondie des bonnes pratiques en dveloppement. Bien que je n'aie pas encore d'exprience professionnelle dans le domaine, mon parcours d'apprentissage m'a permis de raliser plusieurs projets personnels o j'ai appliqu mes comptences pour crer des sites web interactifs et responsive. Je suis motiv, curieux et toujours prt  relever de nouveaux dfis. Aujourd'hui, je cherche  mettre mes comptences en pratique et  travailler dans un environnement stimulant, o je pourrais continuer  apprendre et  contribuer  des projets passionnants. Mon objectif est de devenir un dveloppeur web comptent et de construire une carrire durable dans ce domaine."})]})})}const oM=[{id:1,title:"Intgration et dynamisation",description:["HTML5.","CSS3.","SASS pour la structure et le style.","Javascript native."," et sa bibliothque React pour des interfaces modernes et adaptables.","Redux pour la gestion des tats des applications."]},{id:2,title:"Requtes aux API et backends",description:["Swagger pour rdiger la documentation des routes.","MongoDB pour les bases de donnes."]},{id:3,title:"Utilitaires",description:["VSCode comme diteur de code.","Figma pour tudier les maquettes issues du design.","Git pour l'organisation et la collaboration.","GitHub pour le versionnage ainsi que Vercel pour le dploiement de projets."]}];function cM(){const[c,t]=z.useState([]);return z.useEffect(()=>{t(oM)},[]),X.jsxs("section",{id:"skills",children:[X.jsx("h2",{className:"skills-title",children:"Mes Comptences"}),X.jsx("div",{className:"skills-container",children:c.map(e=>X.jsxs("div",{className:"skill-card",children:[X.jsx("h3",{children:e.title}),X.jsx("ul",{children:e.description.map((s,r)=>X.jsxs("li",{children:[X.jsx(nM,{className:"icon"})," ",s]},r))})]},e.id))})]})}const uM=[{id:1,title:"Riding Cities",image:"images/riding-cities.webp",description:"Pour cette mission, il m'a t demand d'actualiser la page internet de Riding Cities, une association sportive qui promeut le skate en rgion. Il a donc fallu crer une nouvelle section, Les membres fondateurs, avec les noms et photos des crateurs de lassociation. Puis modifier la section comprenant le bouton Tlcharger le planning de cours pour ajouter un titre et deux boutons permettant de tlcharger deux plannings de cours diffrents (un pour les enfants et un pour les adultes).",link:"https://jeff397.github.io/openclassroom-projet2/",codeLink:"https://github.com/jeff397/openclassroom-projet2",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"}]},{id:2,title:"Booki",image:"images/booki.webp",description:"Lentreprise Booki a souhait dvelopper un site Internet qui permette aux usagers de trouver des hbergements et des activits dans la ville de leur choix. J'ai t charg d'intgrer l'interface du site avec du code HTML et CSS. Afin d'accomplir ma mission, j'ai d dcouper la maquette figma pour trouver la structure HTML adquat. Puis  partir de cette structure, j'ai pu dvelopper un code HTML en prenant en compte toute les spcifications techniques et procder  la mise en forme et  la stylisation du site.",link:"https://jeff397.github.io/openclassroom-projet-3/",codeLink:"https://github.com/jeff397/openclassroom-projet-3",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"}]},{id:3,title:"OhMyFood",image:"images/ohmyfood.webp",description:"Cette mission a consist  dvelopper un site qui rpertorie les menus de restaurants gastronomiques. Dans un esprit de simplification du code, j'ai utilis SASS pour dcouper le code CSS en diffrents composants. Il m'a t demand de dvelopper ce site en mobile-first. J'ai donc commenc par la version mobile, puis tablette et enfin desktop. Il a fallu aussi intgrer des animations Css. ",link:"https://jeff397.github.io/openclassroom-ohmyfood/index.html",codeLink:"https://github.com/jeff397/openclassroom-ohmyfood",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"},{name:"sass",icon:"https://img.icons8.com/?size=100&id=axPniFSugeXC&format=png&color=000000"}]},{id:4,title:"Print-it",image:"images/print-it.webp",description:"Une petite imprimerie familiale, Print-It, m'a demand de dynamiser son site internet statique. Il m'a donc fallu crer un caroussel d'image en dfilement infini en utilisant le langage Javascript. J'ai insr des flches cliquables gauche et droite permettant d'avancer ou de reculer. Puis, j'ai intgr des bullets points permettant de connatre la position de l'image affich par rapport  l'image de dpart.",link:"https://jeff397.github.io/openclassroom-print-it/",codeLink:"https://github.com/jeff397/openclassroom-print-it",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"javascript",icon:"https://img.icons8.com/?size=100&id=108784&format=png&color=000000"}]},{id:5,title:"Sophie Bluel",image:"images/sophie bluel.webp",description:"La mission a consist  concevoir un site portfolio pour une architecte d'intrieur. Avec l'aide de Figma et d'un kanban, j'ai pu raliser la page de prsentation des travaux de l'architecte, la page de connexion de l'administrateur du site et enfin la modale permettant d'uploader de nouveaux mdias. De plus grce  Swagger, j'ai pu communiquer avec une API afin d'uploader ou effacer les travaux.",codeLink:"https://github.com/jeff397/Sophie-Bluel",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"javascript",icon:"https://img.icons8.com/?size=100&id=108784&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"},{name:"node",icon:"https://img.icons8.com/?size=100&id=54087&format=png&color=000000"}]},{id:6,title:"Kasa",image:"images/kasa.webp",description:"Kasa est une agence de location d'appartements entre particuliers. Le site ayant plus de 10 ans, une refonte totale a t lanc avec javascript et node.js ct backend et React cot front-end. L'objectif a donc t de dmarrer le projet React et dvelopper lensemble de lapplication, les composants React, les routes React Router, en suivant les maquettes Figma.",codeLink:"https://github.com/jeff397/openclassroom-kasa",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"react",icon:"https://img.icons8.com/?size=100&id=asWSSTBrDlTW&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"}]}];function hM({project:c,onClose:t}){return c?X.jsx("div",{className:"modal",children:X.jsxs("div",{className:"modal-content",children:[X.jsx("span",{className:"close",onClick:t,children:""}),X.jsx("h2",{children:c.title}),X.jsx("p",{children:c.description}),X.jsxs("div",{className:"modal-buttons",children:[c.link&&X.jsx("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",className:"button",children:"Voir le projet"}),c.codeLink&&X.jsx("a",{href:c.codeLink,target:"_blank",rel:"noopener noreferrer",className:"button",children:"Voir le code"})]}),X.jsx("div",{className:"technology-icons",children:c.technologies.map(e=>X.jsx("img",{src:e.icon,alt:e.name,className:"tech-icon"},e.name))})]})}):null}function dM(){const[c,t]=z.useState(null),e=r=>{t(r)},s=()=>{t(null)};return X.jsxs("section",{id:"projects",children:[X.jsx("p",{className:"section-title",children:"Mes projets"}),X.jsx("div",{className:"projects-container",children:uM.map(r=>X.jsxs("div",{className:"project-card",onClick:()=>e(r),children:[X.jsx("div",{className:"project-image-container",children:X.jsx("img",{src:r.image,alt:r.title,className:"project-image"})}),X.jsx("h3",{className:"project-title",children:r.title})]},r.id))}),c&&X.jsx(hM,{project:c,onClose:s})]})}var cv={exports:{}},uv,p_;function fM(){if(p_)return uv;p_=1;var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uv=c,uv}var hv,g_;function pM(){if(g_)return hv;g_=1;var c=fM();function t(){}function e(){}return e.resetWarningCache=t,hv=function(){function s(u,d,f,g,m,v){if(v!==c){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function r(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},hv}var m_;function gM(){return m_||(m_=1,cv.exports=pM()()),cv.exports}var mM=gM();const xe=Dg(mM);function y_(c,t){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(c);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(c,r).enumerable})),e.push.apply(e,s)}return e}function v_(c){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(e),!0).forEach(function(s){w1(c,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):y_(Object(e)).forEach(function(s){Object.defineProperty(c,s,Object.getOwnPropertyDescriptor(e,s))})}return c}function Rp(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rp=function(t){return typeof t}:Rp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(c)}function w1(c,t,e){return t in c?Object.defineProperty(c,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[t]=e,c}function yM(c,t){return vM(c)||bM(c,t)||AM(c,t)||EM()}function vM(c){if(Array.isArray(c))return c}function bM(c,t){var e=c&&(typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"]);if(e!=null){var s=[],r=!0,l=!1,u,d;try{for(e=e.call(c);!(r=(u=e.next()).done)&&(s.push(u.value),!(t&&s.length===t));r=!0);}catch(f){l=!0,d=f}finally{try{!r&&e.return!=null&&e.return()}finally{if(l)throw d}}return s}}function AM(c,t){if(c){if(typeof c=="string")return b_(c,t);var e=Object.prototype.toString.call(c).slice(8,-1);if(e==="Object"&&c.constructor&&(e=c.constructor.name),e==="Map"||e==="Set")return Array.from(c);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return b_(c,t)}}function b_(c,t){(t==null||t>c.length)&&(t=c.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=c[e];return s}function EM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var SM=function(t){var e=le.useRef(t);return le.useEffect(function(){e.current=t},[t]),e.current},og=function(t){return t!==null&&Rp(t)==="object"},A_="[object Object]",_M=function c(t,e){if(!og(t)||!og(e))return t===e;var s=Array.isArray(t),r=Array.isArray(e);if(s!==r)return!1;var l=Object.prototype.toString.call(t)===A_,u=Object.prototype.toString.call(e)===A_;if(l!==u)return!1;if(!l&&!s)return t===e;var d=Object.keys(t),f=Object.keys(e);if(d.length!==f.length)return!1;for(var g={},m=0;m<d.length;m+=1)g[d[m]]=!0;for(var v=0;v<f.length;v+=1)g[f[v]]=!0;var b=Object.keys(g);if(b.length!==d.length)return!1;var A=t,S=e,w=function(x){return c(A[x],S[x])};return b.every(w)},wM=function(t,e,s){return og(t)?Object.keys(t).reduce(function(r,l){var u=!og(e)||!_M(t[l],e[l]);return s.includes(l)?(u&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),r):u?v_(v_({},r||{}),{},w1({},l,t[l])):r},null):null},T1=le.createContext(null);T1.displayName="ElementsContext";var TM=function(t,e){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(e," in an <Elements> provider."));return t},x1=le.createContext(null);x1.displayName="CartElementContext";var xM=function(t,e){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(e," in an <Elements> provider."));return t};xe.any,xe.object;var E_=function(t){var e=le.useContext(T1);return TM(e,t)},S_=function(t){var e=le.useContext(x1);return xM(e,t)};xe.func.isRequired;var Tn=function(t,e,s){var r=!!s,l=le.useRef(s);le.useEffect(function(){l.current=s},[s]),le.useEffect(function(){if(!r||!t)return function(){};var u=function(){l.current&&l.current.apply(l,arguments)};return t.on(e,u),function(){t.off(e,u)}},[r,e,t,l])},CM=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Pe=function(t,e){var s="".concat(CM(t),"Element"),r=function(f){var g=f.id,m=f.className,v=f.options,b=v===void 0?{}:v,A=f.onBlur,S=f.onFocus,w=f.onReady,M=f.onChange,x=f.onEscape,O=f.onClick,k=f.onLoadError,N=f.onLoaderStart,H=f.onNetworksChange,B=f.onCheckout,Y=f.onLineItemClick,W=f.onConfirm,G=f.onCancel,nt=f.onShippingAddressChange,at=f.onShippingRateChange,St=E_("mounts <".concat(s,">")),ht=St.elements,ft=le.useState(null),gt=yM(ft,2),V=gt[0],Z=gt[1],J=le.useRef(null),_t=le.useRef(null),L=S_("mounts <".concat(s,">")),U=L.setCart,tt=L.setCartState;Tn(V,"blur",A),Tn(V,"focus",S),Tn(V,"escape",x),Tn(V,"click",O),Tn(V,"loaderror",k),Tn(V,"loaderstart",N),Tn(V,"networkschange",H),Tn(V,"lineitemclick",Y),Tn(V,"confirm",W),Tn(V,"cancel",G),Tn(V,"shippingaddresschange",nt),Tn(V,"shippingratechange",at);var et;t==="cart"?et=function(vt){tt(vt),w&&w(vt)}:w&&(t==="payButton"?et=w:et=function(){w(V)}),Tn(V,"ready",et);var it=t==="cart"?function(ot){tt(ot),M&&M(ot)}:M;Tn(V,"change",it);var pt=t==="cart"?function(ot){tt(ot),B&&B(ot)}:B;Tn(V,"checkout",pt),le.useLayoutEffect(function(){if(J.current===null&&ht&&_t.current!==null){var ot=ht.create(t,b);t==="cart"&&U&&U(ot),J.current=ot,Z(ot),ot.mount(_t.current)}},[ht,b,U]);var ct=SM(b);return le.useEffect(function(){if(J.current){var ot=wM(b,ct,["paymentRequest"]);ot&&J.current.update(ot)}},[b,ct]),le.useLayoutEffect(function(){return function(){J.current&&(J.current.destroy(),J.current=null)}},[]),le.createElement("div",{id:g,className:m,ref:_t})},l=function(f){E_("mounts <".concat(s,">")),S_("mounts <".concat(s,">"));var g=f.id,m=f.className;return le.createElement("div",{id:g,className:m})},u=e?l:r;return u.propTypes={id:xe.string,className:xe.string,onChange:xe.func,onBlur:xe.func,onFocus:xe.func,onReady:xe.func,onEscape:xe.func,onClick:xe.func,onLoadError:xe.func,onLoaderStart:xe.func,onNetworksChange:xe.func,onCheckout:xe.func,onLineItemClick:xe.func,onConfirm:xe.func,onCancel:xe.func,onShippingAddressChange:xe.func,onShippingRateChange:xe.func,options:xe.object},u.displayName=s,u.__elementType=t,u},Fe=typeof window>"u";Pe("auBankAccount",Fe);var RM=Pe("card",Fe);Pe("cardNumber",Fe);Pe("cardExpiry",Fe);Pe("cardCvc",Fe);Pe("fpxBank",Fe);Pe("iban",Fe);Pe("idealBank",Fe);Pe("p24Bank",Fe);Pe("epsBank",Fe);Pe("payment",Fe);Pe("payButton",Fe);Pe("paymentRequestButton",Fe);Pe("linkAuthentication",Fe);Pe("address",Fe);Pe("shippingAddress",Fe);Pe("cart",Fe);Pe("paymentMethodMessaging",Fe);Pe("affirmMessage",Fe);Pe("afterpayClearpayMessage",Fe);var dv,__;function MM(){if(__)return dv;__=1;var c=Object.defineProperty,t=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,r=(L,U)=>{for(var tt in U)c(L,tt,{get:U[tt],enumerable:!0})},l=(L,U,tt,et)=>{if(U&&typeof U=="object"||typeof U=="function")for(let it of e(U))!s.call(L,it)&&it!==tt&&c(L,it,{get:()=>U[it],enumerable:!(et=t(U,it))||et.enumerable});return L},u=L=>l(c({},"__esModule",{value:!0}),L),d=(L,U,tt)=>new Promise((et,it)=>{var pt=vt=>{try{ot(tt.next(vt))}catch(kt){it(kt)}},ct=vt=>{try{ot(tt.throw(vt))}catch(kt){it(kt)}},ot=vt=>vt.done?et(vt.value):Promise.resolve(vt.value).then(pt,ct);ot((tt=tt.apply(L,U)).next())}),f={};r(f,{SubmissionError:()=>N,appendExtraData:()=>ht,createClient:()=>Z,getDefaultClient:()=>J,isSubmissionError:()=>k}),dv=u(f);var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function v(L){L=String(L);for(var U,tt,et,it,pt="",ct=0,ot=L.length%3;ct<L.length;){if((tt=L.charCodeAt(ct++))>255||(et=L.charCodeAt(ct++))>255||(it=L.charCodeAt(ct++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");U=tt<<16|et<<8|it,pt+=g.charAt(U>>18&63)+g.charAt(U>>12&63)+g.charAt(U>>6&63)+g.charAt(U&63)}return ot?pt.slice(0,ot-3)+"===".substring(ot):pt}function b(L){if(L=String(L).replace(/[\t\n\f\r ]+/g,""),!m.test(L))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");L+="==".slice(2-(L.length&3));for(var U,tt="",et,it,pt=0;pt<L.length;)U=g.indexOf(L.charAt(pt++))<<18|g.indexOf(L.charAt(pt++))<<12|(et=g.indexOf(L.charAt(pt++)))<<6|(it=g.indexOf(L.charAt(pt++))),tt+=et===64?String.fromCharCode(U>>16&255):it===64?String.fromCharCode(U>>16&255,U>>8&255):String.fromCharCode(U>>16&255,U>>8&255,U&255);return tt}var A=()=>navigator.webdriver||!!document.documentElement.getAttribute(b("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,S=class{constructor(){this.loadedAt=Date.now(),this.webdriver=A()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},w=class{constructor(L){this.kind="success",this.next=L.next}};function M(L){return"next"in L&&typeof L.next=="string"}var x=class{constructor(L,U){this.paymentIntentClientSecret=L,this.resubmitKey=U,this.kind="stripePluginPending"}};function O(L){if("stripe"in L&&"resubmitKey"in L&&typeof L.resubmitKey=="string"){let{stripe:U}=L;return typeof U=="object"&&U!=null&&"paymentIntentClientSecret"in U&&typeof U.paymentIntentClientSecret=="string"}return!1}function k(L){return L.kind==="error"}var N=class{constructor(...L){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var U;for(let tt of L){if(!tt.field){this.formErrors.push({code:tt.code&&H(tt.code)?tt.code:"UNSPECIFIED",message:tt.message});continue}let et=(U=this.fieldErrors.get(tt.field))!=null?U:[];et.push({code:tt.code&&Y(tt.code)?tt.code:"UNSPECIFIED",message:tt.message}),this.fieldErrors.set(tt.field,et)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(L){var U;return(U=this.fieldErrors.get(L))!=null?U:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function H(L){return L in B}var B={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function Y(L){return L in W}var W={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function G(L){return"errors"in L&&Array.isArray(L.errors)&&L.errors.every(U=>typeof U.message=="string")||"error"in L&&typeof L.error=="string"}var nt="3.0.4",at=L=>v(JSON.stringify(L)),St=L=>{let U=`@formspree/core@${nt}`;return L?`${L} ${U}`:U};function ht(L,U,tt){L instanceof FormData?L.append(U,tt):L[U]=tt}function ft(L){return L!==null&&typeof L=="object"}var gt=class{constructor(L={}){this.project=L.project,this.stripe=L.stripe,typeof window<"u"&&(this.session=new S)}submitForm(L,U){return d(this,arguments,function*(tt,et,it={}){let pt=it.endpoint||"https://formspree.io",ct=this.project?`${pt}/p/${this.project}/f/${tt}`:`${pt}/f/${tt}`,ot={Accept:"application/json","Formspree-Client":St(it.clientName)};this.session&&(ot["Formspree-Session-Data"]=at(this.session.data())),et instanceof FormData||(ot["Content-Type"]="application/json");function vt(bt){return d(this,null,function*(){try{let Ft=yield(yield fetch(ct,{method:"POST",mode:"cors",body:bt instanceof FormData?bt:JSON.stringify(bt),headers:ot})).json();if(ft(Ft)){if(G(Ft))return Array.isArray(Ft.errors)?new N(...Ft.errors):new N({message:Ft.error});if(O(Ft))return new x(Ft.stripe.paymentIntentClientSecret,Ft.resubmitKey);if(M(Ft))return new w({next:Ft.next})}return new N({message:"Unexpected response format"})}catch(Ft){let un=Ft instanceof Error?Ft.message:`Unknown error while posting to Formspree: ${JSON.stringify(Ft)}`;return new N({message:un})}})}if(this.stripe&&it.createPaymentMethod){let bt=yield it.createPaymentMethod();if(bt.error)return new N({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});ht(et,"paymentMethod",bt.paymentMethod.id);let Ft=yield vt(et);if(Ft.kind==="error")return Ft;if(Ft.kind==="stripePluginPending"){let un=yield this.stripe.handleCardAction(Ft.paymentIntentClientSecret);if(un.error)return new N({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});et instanceof FormData?et.delete("paymentMethod"):delete et.paymentMethod,ht(et,"paymentIntent",un.paymentIntent.id),ht(et,"resubmitKey",Ft.resubmitKey);let zt=yield vt(et);return V(zt),zt}return Ft}let kt=yield vt(et);return V(kt),kt})}};function V(L){let{kind:U}=L;if(U!=="success"&&U!=="error")throw new Error(`Unexpected submission result (kind: ${U})`)}var Z=L=>new gt(L),J=()=>(_t||(_t=Z()),_t),_t;return dv}var Tv=MM(),bp={},w_;function LM(){if(w_)return bp;w_=1,Object.defineProperty(bp,"__esModule",{value:!0});function c(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(w){return typeof w}:c=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(S)}var t="https://js.stripe.com/v3",e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",r=function(){for(var w=document.querySelectorAll('script[src^="'.concat(t,'"]')),M=0;M<w.length;M++){var x=w[M];if(e.test(x.src))return x}return null},l=function(w){var M=w&&!w.advancedFraudSignals?"?advancedFraudSignals=false":"",x=document.createElement("script");x.src="".concat(t).concat(M);var O=document.head||document.body;if(!O)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return O.appendChild(x),x},u=function(w,M){!w||!w._registerWrapper||w._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:M})},d=null,f=function(w){return d!==null||(d=new Promise(function(M,x){if(typeof window>"u"||typeof document>"u"){M(null);return}if(window.Stripe&&w&&console.warn(s),window.Stripe){M(window.Stripe);return}try{var O=r();O&&w?console.warn(s):O||(O=l(w)),O.addEventListener("load",function(){window.Stripe?M(window.Stripe):x(new Error("Stripe.js not available"))}),O.addEventListener("error",function(){x(new Error("Failed to load Stripe.js"))})}catch(k){x(k);return}})),d},g=function(w,M,x){if(w===null)return null;var O=w.apply(void 0,M);return u(O,x),O},m=function(w){var M=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(w),`
`);if(w===null||c(w)!=="object")throw new Error(M);if(Object.keys(w).length===1&&typeof w.advancedFraudSignals=="boolean")return w;throw new Error(M)},v,b=!1,A=function(){for(var w=arguments.length,M=new Array(w),x=0;x<w;x++)M[x]=arguments[x];b=!0;var O=Date.now();return f(v).then(function(k){return g(k,M,O)})};return A.setLoadParameters=function(S){if(b&&v){var w=m(S),M=Object.keys(w),x=M.reduce(function(O,k){var N;return O&&S[k]===((N=v)===null||N===void 0?void 0:N[k])},!0);if(x)return}if(b)throw new Error("You cannot change load parameters after calling loadStripe");v=m(S)},bp.loadStripe=A,bp}var fv,T_;function DM(){return T_||(T_=1,fv=LM()),fv}DM();function pv(c){let{prefix:t,field:e,errors:s,...r}=c;if(s==null)return null;let l=e?s.getFieldErrors(e):s.getFormErrors();return l.length===0?null:le.createElement("div",{...r},t?`${t} `:null,l.map(u=>u.message).join(", "))}var OM=z.createContext({elements:null});function kM(){return z.useContext(OM)}var NM=le.createContext(null);function PM(){return z.useContext(NM)??{client:Tv.getDefaultClient()}}var FM="2.5.5",zM=`@formspree/react@${FM}`;function HM(c,t={}){let e=PM(),{elements:s}=kM(),{client:r=e.client,extraData:l,onError:u,onSuccess:d,origin:f}=t,{stripe:g}=r;return async function(m){let v=jM(m)?UM(m):m;if(typeof l=="object")for(let[w,M]of Object.entries(l)){let x;typeof M=="function"?x=await M():x=M,x!==void 0&&Tv.appendExtraData(v,w,x)}let b=s==null?void 0:s.getElement(RM),A=g&&b?()=>g.createPaymentMethod({type:"card",card:b,billing_details:IM(v)}):void 0,S=await r.submitForm(c,v,{endpoint:f,clientName:zM,createPaymentMethod:A});Tv.isSubmissionError(S)?u==null||u(S):d==null||d(S)}}function jM(c){return"preventDefault"in c&&typeof c.preventDefault=="function"}function UM(c){c.preventDefault();let t=c.currentTarget;if(t.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(t)}function IM(c){let t={address:BM(c)};for(let e of["name","email","phone"]){let s=c instanceof FormData?c.get(e):c[e];s&&typeof s=="string"&&(t[e]=s)}return t}function BM(c){let t={};for(let[e,s]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let r=c instanceof FormData?c.get(e):c[e];r&&typeof r=="string"&&(t[s]=r)}return t}function qM(c,t={}){let[e,s]=z.useState(null),[r,l]=z.useState(null),[u,d]=z.useState(!1),[f,g]=z.useState(!1),m=HM(c,{client:t.client,extraData:t.data,onError(v){s(v),d(!1),g(!1)},onSuccess(v){s(null),l(v),d(!1),g(!0)},origin:t.endpoint});return[{errors:e,result:r,submitting:u,succeeded:f},async function(v){d(!0),await m(v)},function(){s(null),l(null),d(!1),g(!1)}]}const GM=({onSuccess:c})=>{const[t,e]=qM("xldjdred"),s=async r=>{await e(r),t.succeeded&&c()};return X.jsxs("form",{onSubmit:s,className:"contact-form",children:[X.jsxs("label",{children:["Nom :",X.jsx("input",{type:"text",name:"name",required:!0})]}),X.jsxs("label",{children:["Email :",X.jsx("input",{type:"email",name:"email",required:!0})]}),X.jsxs("label",{children:["Message :",X.jsx("textarea",{name:"message",required:!0})]}),X.jsx("button",{type:"submit",disabled:t.submitting,children:"Envoyer"}),X.jsx("div",{className:"linkedin-container",children:X.jsx("a",{href:"https://www.linkedin.com/in/votreprofil",target:"_blank",rel:"noopener noreferrer",className:"linkedin-link",children:X.jsx(_1,{className:"linkedin-icon"})})}),X.jsx(pv,{field:"name",prefix:"Nom",errors:t.errors}),X.jsx(pv,{field:"email",prefix:"Email",errors:t.errors}),X.jsx(pv,{field:"message",prefix:"Message",errors:t.errors})]})},VM=()=>{const[c,t]=z.useState(!1);return X.jsxs("section",{id:"contact",className:"contact-section",children:[X.jsx("h2",{children:"Contactez-moi"}),c?X.jsxs("p",{className:"success-message",onClick:()=>t(!1),children:["Merci pour votre message ! ",X.jsx("br",{}),"(Cliquez ici pour fermer)"]}):X.jsxs("div",{className:"contact-container",children:[X.jsx("div",{className:"contact-text",children:X.jsx("p",{children:"Vous pouvez me contacter via ce formulaire ou directement sur mon LinkedIn."})}),X.jsx(GM,{onSuccess:()=>t(!0)})]})]})};function YM(){return X.jsxs("footer",{className:"footer",children:[X.jsx("p",{children:" 2024 Jean-Franois Delmotte - Tous droits rservs"}),X.jsxs("div",{className:"social-links",children:[X.jsx("a",{href:"https://github.com/jeff397",target:"_blank",rel:"noopener noreferrer",children:X.jsx(tM,{className:"social-icon"})}),X.jsx("a",{href:"https://linkedin.com/in/jean-francois-delmotte",target:"_blank",rel:"noopener noreferrer",children:X.jsx(_1,{className:"social-icon"})})]})]})}const XM="modulepreload",$M=function(c){return"/"+c},x_={},Ap=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.allSettled(e.map(f=>{if(f=$M(f),f in x_)return;x_[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":XM,g||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((b,A)=>{v.addEventListener("load",b),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var kh={};kh.d=(c,t)=>{for(var e in t)kh.o(t,e)&&!kh.o(c,e)&&Object.defineProperty(c,e,{enumerable:!0,get:t[e]})};kh.o=(c,t)=>Object.prototype.hasOwnProperty.call(c,t);var Rt=globalThis.pdfjsLib={};kh.d(Rt,{AbortException:()=>ho,AnnotationEditorLayer:()=>zb,AnnotationEditorParamsType:()=>xt,AnnotationEditorType:()=>Dt,AnnotationEditorUIManager:()=>so,AnnotationLayer:()=>YD,AnnotationMode:()=>Ja,ColorPicker:()=>dg,DOMSVGFactory:()=>u0,DrawLayer:()=>Ib,FeatureTest:()=>Mn,GlobalWorkerOptions:()=>va,ImageKind:()=>Mp,InvalidPDFException:()=>R1,MissingPDFException:()=>uo,OPS:()=>Pi,OutputScale:()=>Lv,PDFDataRangeTransport:()=>ww,PDFDateString:()=>i0,PDFWorker:()=>lc,PasswordResponses:()=>ZM,PermissionFlag:()=>QM,PixelsPerInch:()=>Cr,RenderingCancelledException:()=>e0,TextLayer:()=>sb,UnexpectedResponseException:()=>zg,Util:()=>yt,VerbosityLevel:()=>Ng,XfaLayer:()=>xw,build:()=>xD,createValidAbsoluteUrl:()=>nL,fetchData:()=>jg,getDocument:()=>yD,getFilenameFromUrl:()=>hL,getPdfFilenameFromUrl:()=>dL,getXfaPageViewport:()=>fL,isDataScheme:()=>Ug,isPdfFile:()=>n0,noContextMenu:()=>Mi,normalizeUnicode:()=>oL,setLayerDimensions:()=>io,shadow:()=>qt,version:()=>TD});const En=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),C1=[1,0,0,1,0,0],xv=[.001,0,0,.001,0,0],KM=1e7,gv=1.35,si={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ja={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},WM="pdfjs_internal_editor_",Dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},QM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},pn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Mp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},ph={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ng={ERRORS:0,WARNINGS:1,INFOS:5},Pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ZM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pg=Ng.WARNINGS;function JM(c){Number.isInteger(c)&&(Pg=c)}function tL(){return Pg}function Fg(c){Pg>=Ng.INFOS&&console.log(`Info: ${c}`)}function Pt(c){Pg>=Ng.WARNINGS&&console.log(`Warning: ${c}`)}function ue(c){throw new Error(c)}function qe(c,t){c||ue(t)}function eL(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nL(c,t=null,e=null){if(!c)return null;try{if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const r=c.match(/\./g);(r==null?void 0:r.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=lL(c)}catch{}}const s=t?new URL(c,t):new URL(c);if(eL(s))return s}catch{}return null}function qt(c,t,e,s=!1){return Object.defineProperty(c,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Dr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Cv extends Dr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Rv extends Dr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class R1 extends Dr{constructor(t){super(t,"InvalidPDFException")}}class uo extends Dr{constructor(t){super(t,"MissingPDFException")}}class zg extends Dr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class iL extends Dr{constructor(t){super(t,"FormatError")}}class ho extends Dr{constructor(t){super(t,"AbortException")}}function M1(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&ue("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const s=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),u=c.subarray(r,l);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function Hg(c){typeof c!="string"&&ue("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=c.charCodeAt(s)&255;return e}function sL(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function Jb(c){const t=Object.create(null);for(const[e,s]of c)t[e]=s;return t}function aL(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function rL(){try{return new Function(""),!0}catch{return!1}}class Mn{static get isLittleEndian(){return qt(this,"isLittleEndian",aL())}static get isEvalSupported(){return qt(this,"isEvalSupported",rL())}static get isOffscreenCanvasSupported(){return qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const mv=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var Ea,Lp,Mv;class yt{static makeHexColor(t,e,s){return`#${mv[t]}${mv[e]}${mv[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],l[0],u[0]),Math.min(s[1],r[1],l[1],u[1]),Math.max(s[0],r[0],l[0],u[0]),Math.max(s[1],r[1],l[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],d=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-l*r))/2,g=d+f||1,m=d-f||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>u?null:[s,l,r,u]}static bezierBoundingBox(t,e,s,r,l,u,d,f,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,f),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,f)):g=[Math.min(t,d),Math.min(e,f),Math.max(t,d),Math.max(e,f)],T(this,Ea,Mv).call(this,t,s,l,d,e,r,u,f,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),g),T(this,Ea,Mv).call(this,t,s,l,d,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),g),g}}Ea=new WeakSet,Lp=function(t,e,s,r,l,u,d,f,g,m){if(g<=0||g>=1)return;const v=1-g,b=g*g,A=b*g,S=v*(v*(v*t+3*g*e)+3*b*s)+A*r,w=v*(v*(v*l+3*g*u)+3*b*d)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],w)},Mv=function(t,e,s,r,l,u,d,f,g,m,v,b){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&T(this,Ea,Lp).call(this,t,e,s,r,l,u,d,f,-v/m,b);return}const A=m**2-4*v*g;if(A<0)return;const S=Math.sqrt(A),w=2*g;T(this,Ea,Lp).call(this,t,e,s,r,l,u,d,f,(-m+S)/w,b),T(this,Ea,Lp).call(this,t,e,s,r,l,u,d,f,(-m-S)/w,b)},C(yt,Ea);function lL(c){return decodeURIComponent(escape(c))}let yv=null,C_=null;function oL(c){return yv||(yv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,C_=new Map([["","t"]])),c.replaceAll(yv,(t,e,s)=>e?e.normalize("NFKC"):C_.get(s))}function cL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const c=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(c);else for(let t=0;t<32;t++)c[t]=Math.floor(Math.random()*255);return M1(c)}const t0="pdfjs_internal_id_",qs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function uL(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(M1(c))}const Vs="http://www.w3.org/2000/svg",al=class al{};Tt(al,"CSS",96),Tt(al,"PDF",72),Tt(al,"PDF_TO_CSS_UNITS",al.CSS/al.PDF);let Cr=al;async function jg(c,t="text"){if(yh(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",c,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class nf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=l;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,m,v,b;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,v=0,b=1;break;case 90:g=0,m=1,v=1,b=0;break;case 270:g=0,m=-1,v=-1,b=0;break;case 0:g=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let A,S,w,M;g===0?(A=Math.abs(f-t[1])*e+r,S=Math.abs(d-t[0])*e+l,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(d-t[0])*e+r,S=Math.abs(f-t[1])*e+l,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,v*e,b*e,A-g*e*d-v*e*f,S-m*e*d-b*e*f],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new nf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return yt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=yt.applyTransform([t[0],t[1]],this.transform),s=yt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return yt.applyInverseTransform([t,e],this.transform)}}class e0 extends Dr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Ug(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function n0(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function hL(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function dL(c,t="document.pdf"){if(typeof c!="string")return t;if(Ug(c))return Pt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(c);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class R_{constructor(){Tt(this,"started",Object.create(null));Tt(this,"times",[])}time(t){t in this.started&&Pt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Pt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-r}ms
`);return t.join("")}}function yh(c,t){try{const{protocol:e}=t?new URL(c,t):new URL(c);return e==="http:"||e==="https:"}catch{return!1}}function Mi(c){c.preventDefault()}function M_(c){console.log("Deprecated API usage: "+c)}var Hh;class i0{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Hh)||_(this,Hh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Hh).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,g==="-"?(u+=m,d+=v):g==="+"&&(u-=m,d-=v),new Date(Date.UTC(s,r,l,u,d,f))}}Hh=new WeakMap,C(i0,Hh);function fL(c,{scale:t=1,rotation:e=0}){const{width:s,height:r}=c.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new nf({viewBox:l,scale:t,rotation:e})}function s0(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Pt(`Not a valid color format: "${c}"`),[0,0,0])}function pL(c){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of c.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;c.set(e,s0(s))}t.remove()}function ye(c){const{a:t,b:e,c:s,d:r,e:l,f:u}=c.getTransform();return[t,e,s,r,l,u]}function Gs(c){const{a:t,b:e,c:s,d:r,e:l,f:u}=c.getTransform().invertSelf();return[t,e,s,r,l,u]}function io(c,t,e=!1,s=!0){if(t instanceof nf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:u}=c,d=Mn.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${l}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(u.width=m,u.height=v):(u.width=v,u.height=m)}s&&c.setAttribute("data-main-rotation",t.rotation)}class Lv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var tr,ll,Fi,ol,jh,Uh,pg,L1,Ln,D1,O1,Dp,k1,Ov;const Ys=class Ys{constructor(t){C(this,Ln);C(this,tr,null);C(this,ll,null);C(this,Fi);C(this,ol,null);C(this,jh,null);_(this,Fi,t),h(Ys,Uh)||_(Ys,Uh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,tr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Fi)._uiManager._signal;t.addEventListener("contextmenu",Mi,{signal:e}),t.addEventListener("pointerdown",T(Ys,pg,L1),{signal:e});const s=_(this,ol,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,Fi).toolbarPosition;if(r){const{style:l}=t,u=h(this,Fi)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return T(this,Ln,k1).call(this),t}get div(){return h(this,tr)}hide(){var t;h(this,tr).classList.add("hidden"),(t=h(this,ll))==null||t.hideDropdown()}show(){var t;h(this,tr).classList.remove("hidden"),(t=h(this,jh))==null||t.shown()}async addAltText(t){const e=await t.render();T(this,Ln,Dp).call(this,e),h(this,ol).prepend(e,h(this,Ln,Ov)),_(this,jh,t)}addColorPicker(t){_(this,ll,t);const e=t.renderButton();T(this,Ln,Dp).call(this,e),h(this,ol).prepend(e,h(this,Ln,Ov))}remove(){var t;h(this,tr).remove(),(t=h(this,ll))==null||t.destroy(),_(this,ll,null)}};tr=new WeakMap,ll=new WeakMap,Fi=new WeakMap,ol=new WeakMap,jh=new WeakMap,Uh=new WeakMap,pg=new WeakSet,L1=function(t){t.stopPropagation()},Ln=new WeakSet,D1=function(t){h(this,Fi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},O1=function(t){h(this,Fi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Dp=function(t){const e=h(this,Fi)._uiManager._signal;t.addEventListener("focusin",T(this,Ln,D1).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",T(this,Ln,O1).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Mi,{signal:e})},k1=function(){const{editorType:t,_uiManager:e}=h(this,Fi),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ys,Uh)[t]),T(this,Ln,Dp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,ol).append(s)},Ov=function(){const t=document.createElement("div");return t.className="divider",t},C(Ys,pg),C(Ys,Uh,null);let Dv=Ys;var Ih,cl,ul,Mr,N1,P1,F1;class gL{constructor(t){C(this,Mr);C(this,Ih,null);C(this,cl,null);C(this,ul);_(this,ul,t)}show(t,e,s){const[r,l]=T(this,Mr,P1).call(this,e,s),{style:u}=h(this,cl)||_(this,cl,T(this,Mr,N1).call(this));t.append(h(this,cl)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,cl).remove()}}Ih=new WeakMap,cl=new WeakMap,ul=new WeakMap,Mr=new WeakSet,N1=function(){const t=_(this,cl,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Mi,{signal:h(this,ul)._signal});const e=_(this,Ih,document.createElement("div"));return e.className="buttons",t.append(e),T(this,Mr,F1).call(this),t},P1=function(t,e){let s=0,r=0;for(const l of t){const u=l.y+l.height;if(u<s)continue;const d=l.x+(e?l.width:0);if(u>s){r=d,s=u;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},F1=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,ul)._signal;t.addEventListener("contextmenu",Mi,{signal:s}),t.addEventListener("click",()=>{h(this,ul).highlightSelection("floating_button")},{signal:s}),h(this,Ih).append(t)};function cg(c,t,e){for(const s of e)t.addEventListener(s,c[s].bind(c))}function mL(c){return Math.round(Math.min(255,Math.max(1,255*c))).toString(16).padStart(2,"0")}var gg;class yL{constructor(){C(this,gg,0)}get id(){return`${WM}${wn(this,gg)._++}`}}gg=new WeakMap;var uc,Bh,mn,hc,Op;const f0=class f0{constructor(){C(this,hc);C(this,uc,cL());C(this,Bh,0);C(this,mn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return qt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:l}=t;return T(this,hc,Op).call(this,`${e}_${s}_${r}_${l}`,t)}async getFromUrl(t){return T(this,hc,Op).call(this,t,t)}async getFromBlob(t,e){const s=await e;return T(this,hc,Op).call(this,t,s)}async getFromId(t){h(this,mn)||_(this,mn,new Map);const e=h(this,mn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,mn)||_(this,mn,new Map);let s=h(this,mn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,uc)}_${wn(this,Bh)._++}`,refCounter:1,isSvg:!1},h(this,mn).set(t,s),h(this,mn).set(s.id,s),s}getSvgUrl(t){const e=h(this,mn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,mn)||_(this,mn,new Map);const e=h(this,mn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=l.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,uc)}_`)}};uc=new WeakMap,Bh=new WeakMap,mn=new WeakMap,hc=new WeakSet,Op=async function(t,e){h(this,mn)||_(this,mn,new Map);let s=h(this,mn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,uc)}_${wn(this,Bh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await jg(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=f0._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},u.onload=async()=>{const v=s.svgUrl=u.result;d.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=u.onerror=m});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,mn).set(t,s),s&&h(this,mn).set(s.id,s),s};let kv=f0;var We,er,qh,Qe;class vL{constructor(t=128){C(this,We,[]);C(this,er,!1);C(this,qh);C(this,Qe,-1);_(this,qh,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(r&&t(),h(this,er))return;const f={cmd:t,undo:e,post:s,type:l};if(h(this,Qe)===-1){h(this,We).length>0&&(h(this,We).length=0),_(this,Qe,0),h(this,We).push(f);return}if(u&&h(this,We)[h(this,Qe)].type===l){d&&(f.undo=h(this,We)[h(this,Qe)].undo),h(this,We)[h(this,Qe)]=f;return}const g=h(this,Qe)+1;g===h(this,qh)?h(this,We).splice(0,1):(_(this,Qe,g),g<h(this,We).length&&h(this,We).splice(g)),h(this,We).push(f)}undo(){if(h(this,Qe)===-1)return;_(this,er,!0);const{undo:t,post:e}=h(this,We)[h(this,Qe)];t(),e==null||e(),_(this,er,!1),_(this,Qe,h(this,Qe)-1)}redo(){if(h(this,Qe)<h(this,We).length-1){_(this,Qe,h(this,Qe)+1),_(this,er,!0);const{cmd:t,post:e}=h(this,We)[h(this,Qe)];t(),e==null||e(),_(this,er,!1)}}hasSomethingToUndo(){return h(this,Qe)!==-1}hasSomethingToRedo(){return h(this,Qe)<h(this,We).length-1}destroy(){_(this,We,null)}}We=new WeakMap,er=new WeakMap,qh=new WeakMap,Qe=new WeakMap;var mg,z1;class sf{constructor(t){C(this,mg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Mn.platform;for(const[s,r,l={}]of t)for(const u of s){const d=u.startsWith("mac+");e&&d?(this.callbacks.set(u.slice(4),{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1))):!e&&!d&&(this.callbacks.set(u,{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(T(this,mg,z1).call(this,e));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:u=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...u,e)(),l||(e.stopPropagation(),e.preventDefault()))}}mg=new WeakSet,z1=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const yg=class yg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return pL(t),qt(this,"_colors",t)}convert(t){const e=s0(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((l,u)=>l===e[u]))return yg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?yt.makeHexColor(...e):t}};Tt(yg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Nv=yg;var dc,Wn,Ue,rn,fc,$s,pc,zi,nr,gc,hl,ss,Hi,dl,Gh,Vh,mc,Yh,as,ir,yc,sr,rs,vg,ar,Xh,rr,fl,$h,Kh,Ze,Kt,Ks,pl,Wh,Qh,lr,ls,Ws,Zh,Ei,lt,kp,Pv,H1,j1,Np,U1,I1,B1,Fv,q1,zv,Hv,G1,xn,Qa,V1,Y1,jv,X1,vh,Uv;const ac=class ac{constructor(t,e,s,r,l,u,d,f,g,m,v){C(this,lt);C(this,dc,new AbortController);C(this,Wn,null);C(this,Ue,new Map);C(this,rn,new Map);C(this,fc,null);C(this,$s,null);C(this,pc,null);C(this,zi,new vL);C(this,nr,null);C(this,gc,0);C(this,hl,new Set);C(this,ss,null);C(this,Hi,null);C(this,dl,new Set);C(this,Gh,!1);C(this,Vh,!1);C(this,mc,!1);C(this,Yh,null);C(this,as,null);C(this,ir,null);C(this,yc,null);C(this,sr,!1);C(this,rs,null);C(this,vg,new yL);C(this,ar,!1);C(this,Xh,!1);C(this,rr,null);C(this,fl,null);C(this,$h,null);C(this,Kh,null);C(this,Ze,Dt.NONE);C(this,Kt,new Set);C(this,Ks,null);C(this,pl,null);C(this,Wh,null);C(this,Qh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,lr,[0,0]);C(this,ls,null);C(this,Ws,null);C(this,Zh,null);C(this,Ei,null);const b=this._signal=h(this,dc).signal;_(this,Ws,t),_(this,Zh,e),_(this,fc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),T(this,lt,U1).call(this),T(this,lt,G1).call(this),T(this,lt,Fv).call(this),_(this,$s,l.annotationStorage),_(this,Yh,l.filterFactory),_(this,pl,u),_(this,yc,d||null),_(this,Gh,f),_(this,Vh,g),_(this,mc,m),_(this,Kh,v||null),this.viewParameters={realScale:Cr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=ac.prototype,e=u=>h(u,Ws).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return qt(this,"_keyboardManager",new sf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Ws).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Ws).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,Ei))==null||t.resolve(),_(this,Ei,null),(e=h(this,dc))==null||e.abort(),_(this,dc,null),this._signal=null;for(const l of h(this,rn).values())l.destroy();h(this,rn).clear(),h(this,Ue).clear(),h(this,dl).clear(),_(this,Wn,null),h(this,Kt).clear(),h(this,zi).destroy(),(s=h(this,fc))==null||s.destroy(),(r=h(this,rs))==null||r.hide(),_(this,rs,null),h(this,as)&&(clearTimeout(h(this,as)),_(this,as,null)),h(this,ls)&&(clearTimeout(h(this,ls)),_(this,ls,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Kh)}get useNewAltTextFlow(){return h(this,Vh)}get useNewAltTextWhenAddingImage(){return h(this,mc)}get hcmFilter(){return qt(this,"hcmFilter",h(this,pl)?h(this,Yh).addHCMFilter(h(this,pl).foreground,h(this,pl).background):"none")}get direction(){return qt(this,"direction",getComputedStyle(h(this,Ws)).direction)}get highlightColors(){return qt(this,"highlightColors",h(this,yc)?new Map(h(this,yc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,$h,t)}editAltText(t,e=!1){var s;(s=h(this,fc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,mc,e);break}}onPageChanging({pageNumber:t}){_(this,gc,t-1)}focusMainContainer(){h(this,Ws).focus()}findParent(t,e){for(const s of h(this,rn).values()){const{x:r,y:l,width:u,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=l&&e<=l+d)return s}return null}disableUserSelect(t=!1){h(this,Zh).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,dl).add(t)}removeShouldRescale(t){h(this,dl).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Cr.PDF_TO_CSS_UNITS;for(const e of h(this,dl))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u}=e,d=e.toString(),g=T(this,lt,kp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const v=T(this,lt,Pv).call(this,g),b=h(this,Ze)===Dt.NONE,A=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u,text:d}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Dt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,$s)&&!h(this,$s).has(t.id)&&h(this,$s).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,sr)&&(_(this,sr,!1),T(this,lt,Np).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Kt))if(e.div.contains(t)){_(this,fl,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,fl))return;const[t,e]=h(this,fl);_(this,fl,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){T(this,lt,Fv).call(this),T(this,lt,zv).call(this)}removeEditListeners(){T(this,lt,q1).call(this),T(this,lt,Hv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,Hi))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,Hi))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,Wn))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Kt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const u of h(this,Hi))if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Pt(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of s){const g=await r.deserialize(f);if(!g)return;l.push(g)}const u=()=>{for(const f of l)T(this,lt,jv).call(this,f);T(this,lt,Uv).call(this,l)},d=()=>{for(const f of l)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(l){Pt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Ze)!==Dt.NONE&&!this.isEditorHandlingKeyboard&&ac._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,sr)&&(_(this,sr,!1),T(this,lt,Np).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(T(this,lt,I1).call(this),T(this,lt,zv).call(this),T(this,lt,xn).call(this,{isEditing:h(this,Ze)!==Dt.NONE,isEmpty:T(this,lt,vh).call(this),hasSomethingToUndo:h(this,zi).hasSomethingToUndo(),hasSomethingToRedo:h(this,zi).hasSomethingToRedo(),hasSelectedEditor:!1})):(T(this,lt,B1).call(this),T(this,lt,Hv).call(this),T(this,lt,xn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Hi)){_(this,Hi,t);for(const e of h(this,Hi))T(this,lt,Qa).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,vg).id}get currentLayer(){return h(this,rn).get(h(this,gc))}getLayer(t){return h(this,rn).get(t)}get currentPageIndex(){return h(this,gc)}addLayer(t){h(this,rn).set(t.pageIndex,t),h(this,ar)?t.enable():t.disable()}removeLayer(t){h(this,rn).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,Ze)!==t&&!(h(this,Ei)&&(await h(this,Ei).promise,!h(this,Ei)))){if(_(this,Ei,Promise.withResolvers()),_(this,Ze,t),t===Dt.NONE){this.setEditingState(!1),T(this,lt,Y1).call(this),h(this,Ei).resolve();return}this.setEditingState(!0),await T(this,lt,V1).call(this),this.unselectAll();for(const r of h(this,rn).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,Ei).resolve();return}for(const r of h(this,Ue).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,Ei).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Ze)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,Hi)){switch(t){case xt.CREATE:this.currentLayer.addNewEditor();return;case xt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,$h))==null||s.updateColor(e);break;case xt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Wh)||_(this,Wh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Kt))r.updateParams(t,e);for(const r of h(this,Hi))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var l;for(const u of h(this,Ue).values())u.editorType===t&&u.show(e);(((l=h(this,Wh))==null?void 0:l.get(xt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&T(this,lt,Qa).call(this,[[xt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Xh)!==t){_(this,Xh,t);for(const e of h(this,rn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,Ue).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,Ue).get(t)}addEditor(t){h(this,Ue).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,as)&&clearTimeout(h(this,as)),_(this,as,setTimeout(()=>{this.focusMainContainer(),_(this,as,null)},0))),h(this,Ue).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,hl).has(t.annotationElementId))&&((e=h(this,$s))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,hl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,hl).has(t)}removeDeletedAnnotationElement(t){h(this,hl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,Wn)!==t&&(_(this,Wn,t),t&&T(this,lt,Qa).call(this,t.propertiesToUpdate))}updateUI(t){h(this,lt,X1)===t&&T(this,lt,Qa).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Kt).has(t)){h(this,Kt).delete(t),t.unselect(),T(this,lt,xn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Kt).add(t),t.select(),T(this,lt,Qa).call(this,t.propertiesToUpdate),T(this,lt,xn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Kt))e!==t&&e.unselect();h(this,Kt).clear(),h(this,Kt).add(t),t.select(),T(this,lt,Qa).call(this,t.propertiesToUpdate),T(this,lt,xn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Kt).has(t)}get firstSelectedEditor(){return h(this,Kt).values().next().value}unselect(t){t.unselect(),h(this,Kt).delete(t),T(this,lt,xn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Kt).size!==0}get isEnterHandled(){return h(this,Kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,zi).undo(),T(this,lt,xn).call(this,{hasSomethingToUndo:h(this,zi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:T(this,lt,vh).call(this)})}redo(){h(this,zi).redo(),T(this,lt,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,zi).hasSomethingToRedo(),isEmpty:T(this,lt,vh).call(this)})}addCommands(t){h(this,zi).add(t),T(this,lt,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:T(this,lt,vh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Kt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)T(this,lt,jv).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,Wn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,Wn)||this.hasSelection}selectAll(){for(const t of h(this,Kt))t.commit();T(this,lt,Uv).call(this,h(this,Ue).values())}unselectAll(){if(!(h(this,Wn)&&(h(this,Wn).commitOrRemove(),h(this,Ze)!==Dt.NONE))&&this.hasSelection){for(const t of h(this,Kt))t.unselect();h(this,Kt).clear(),T(this,lt,xn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,lr)[0]+=t,h(this,lr)[1]+=e;const[r,l]=h(this,lr),u=[...h(this,Kt)],d=1e3;h(this,ls)&&clearTimeout(h(this,ls)),_(this,ls,setTimeout(()=>{_(this,ls,null),h(this,lr)[0]=h(this,lr)[1]=0,this.addCommands({cmd:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},d));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,ss,new Map);for(const t of h(this,Kt))h(this,ss).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,ss))return!1;this.disableUserSelect(!1);const t=h(this,ss);_(this,ss,null);let e=!1;for(const[{x:r,y:l,pageIndex:u},d]of t)d.newX=r,d.newY=l,d.newPageIndex=u,e||(e=r!==d.savedX||l!==d.savedY||u!==d.savedPageIndex);if(!e)return!1;const s=(r,l,u,d)=>{if(h(this,Ue).has(r.id)){const f=h(this,rn).get(d);f?r._setParentAndPosition(f,l,u):(r.pageIndex=d,r.x=l,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:u,newPageIndex:d}]of t)s(r,l,u,d)},undo:()=>{for(const[r,{savedX:l,savedY:u,savedPageIndex:d}]of t)s(r,l,u,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,ss))for(const s of h(this,ss).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,Wn)===t}getActive(){return h(this,Wn)}getMode(){return h(this,Ze)}get imageManager(){return qt(this,"imageManager",new kv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:u}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,v,b)=>({x:(m-r)/u,y:1-(g+v-s)/l,width:b/u,height:v/l});break;case"180":d=(g,m,v,b)=>({x:1-(g+v-s)/l,y:1-(m+b-r)/u,width:v/l,height:b/u});break;case"270":d=(g,m,v,b)=>({x:1-(m+b-r)/u,y:(g-s)/l,width:b/u,height:v/l});break;default:d=(g,m,v,b)=>({x:(g-s)/l,y:(m-r)/u,width:v/l,height:b/u});break}const f=[];for(let g=0,m=e.rangeCount;g<m;g++){const v=e.getRangeAt(g);if(!v.collapsed)for(const{x:b,y:A,width:S,height:w}of v.getClientRects())S===0||w===0||f.push(d(b,A,S,w))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,pc)||_(this,pc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,pc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,pc))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,$s).getRawValue(e);s&&(h(this,Ze)===Dt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};dc=new WeakMap,Wn=new WeakMap,Ue=new WeakMap,rn=new WeakMap,fc=new WeakMap,$s=new WeakMap,pc=new WeakMap,zi=new WeakMap,nr=new WeakMap,gc=new WeakMap,hl=new WeakMap,ss=new WeakMap,Hi=new WeakMap,dl=new WeakMap,Gh=new WeakMap,Vh=new WeakMap,mc=new WeakMap,Yh=new WeakMap,as=new WeakMap,ir=new WeakMap,yc=new WeakMap,sr=new WeakMap,rs=new WeakMap,vg=new WeakMap,ar=new WeakMap,Xh=new WeakMap,rr=new WeakMap,fl=new WeakMap,$h=new WeakMap,Kh=new WeakMap,Ze=new WeakMap,Kt=new WeakMap,Ks=new WeakMap,pl=new WeakMap,Wh=new WeakMap,Qh=new WeakMap,lr=new WeakMap,ls=new WeakMap,Ws=new WeakMap,Zh=new WeakMap,Ei=new WeakMap,lt=new WeakSet,kp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Pv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,rn).values())if(s.hasTextLayer(t))return s;return null},H1=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=T(this,lt,kp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,rs)||_(this,rs,new gL(this)),h(this,rs).show(s,r,this.direction==="ltr"))},j1=function(){var l,u,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Ks)&&((l=h(this,rs))==null||l.hide(),_(this,Ks,null),T(this,lt,xn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Ks))return;const r=T(this,lt,kp).call(this,t).closest(".textLayer");if(!r){h(this,Ks)&&((u=h(this,rs))==null||u.hide(),_(this,Ks,null),T(this,lt,xn).call(this,{hasSelectedText:!1}));return}if((d=h(this,rs))==null||d.hide(),_(this,Ks,e),T(this,lt,xn).call(this,{hasSelectedText:!0}),!(h(this,Ze)!==Dt.HIGHLIGHT&&h(this,Ze)!==Dt.NONE)&&(h(this,Ze)===Dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,sr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=h(this,Ze)===Dt.HIGHLIGHT?T(this,lt,Pv).call(this,r):null;f==null||f.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),v=b=>{b.type==="pointerup"&&b.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&T(this,lt,Np).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("blur",v,{signal:m})}},Np=function(t=""){h(this,Ze)===Dt.HIGHLIGHT?this.highlightSelection(t):h(this,Gh)&&T(this,lt,H1).call(this)},U1=function(){document.addEventListener("selectionchange",T(this,lt,j1).bind(this),{signal:this._signal})},I1=function(){if(h(this,ir))return;_(this,ir,new AbortController);const t=this.combinedSignal(h(this,ir));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},B1=function(){var t;(t=h(this,ir))==null||t.abort(),_(this,ir,null)},Fv=function(){if(h(this,rr))return;_(this,rr,new AbortController);const t=this.combinedSignal(h(this,rr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},q1=function(){var t;(t=h(this,rr))==null||t.abort(),_(this,rr,null)},zv=function(){if(h(this,nr))return;_(this,nr,new AbortController);const t=this.combinedSignal(h(this,nr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Hv=function(){var t;(t=h(this,nr))==null||t.abort(),_(this,nr,null)},G1=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},xn=function(t){Object.entries(t).some(([s,r])=>h(this,Qh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Qh),t)}),h(this,Ze)===Dt.HIGHLIGHT&&t.hasSelectedEditor===!1&&T(this,lt,Qa).call(this,[[xt.HIGHLIGHT_FREE,!0]]))},Qa=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},V1=async function(){if(!h(this,ar)){_(this,ar,!0);const t=[];for(const e of h(this,rn).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,Ue).values())e.enable()}},Y1=function(){if(this.unselectAll(),h(this,ar)){_(this,ar,!1);for(const t of h(this,rn).values())t.disable();for(const t of h(this,Ue).values())t.disable()}},jv=function(t){const e=h(this,rn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},X1=function(){let t=null;for(t of h(this,Kt));return t},vh=function(){if(h(this,Ue).size===0)return!0;if(h(this,Ue).size===1)for(const t of h(this,Ue).values())return t.isEmpty();return!1},Uv=function(t){for(const e of h(this,Kt))e.unselect();h(this,Kt).clear();for(const e of t)e.isEmpty()||(h(this,Kt).add(e),e.select());T(this,lt,xn).call(this,{hasSelectedEditor:this.hasSelection})},Tt(ac,"TRANSLATE_SMALL",1),Tt(ac,"TRANSLATE_BIG",10);let so=ac;var Je,os,ji,vc,cs,Qn,bc,us,zn,Qs,gl,hs,or,Ki,bh,Pp;const Cn=class Cn{constructor(t){C(this,Ki);C(this,Je,null);C(this,os,!1);C(this,ji,null);C(this,vc,null);C(this,cs,null);C(this,Qn,null);C(this,bc,!1);C(this,us,null);C(this,zn,null);C(this,Qs,null);C(this,gl,null);C(this,hs,!1);_(this,zn,t),_(this,hs,t._uiManager.useNewAltTextFlow),h(Cn,or)||_(Cn,or,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Cn._l10n??(Cn._l10n=t)}async render(){const t=_(this,ji,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=_(this,vc,document.createElement("span"));t.append(e),h(this,hs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Cn,or).missing),e.setAttribute("data-l10n-id",h(Cn,or)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,zn)._uiManager._signal;t.addEventListener("contextmenu",Mi,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),h(this,zn)._uiManager.editAltText(h(this,zn)),h(this,hs)&&h(this,zn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Ki,bh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(_(this,bc,!0),r(l))},{signal:s}),await T(this,Ki,Pp).call(this),t}finish(){h(this,ji)&&(h(this,ji).focus({focusVisible:h(this,bc)}),_(this,bc,!1))}isEmpty(){return h(this,hs)?h(this,Je)===null:!h(this,Je)&&!h(this,os)}hasData(){return h(this,hs)?h(this,Je)!==null||!!h(this,Qs):this.isEmpty()}get guessedText(){return h(this,Qs)}async setGuessedText(t){h(this,Je)===null&&(_(this,Qs,t),_(this,gl,await Cn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),T(this,Ki,Pp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,hs)||h(this,Je)){(e=h(this,us))==null||e.remove(),_(this,us,null);return}if(!h(this,us)){const s=_(this,us,document.createElement("div"));s.className="noAltTextBadge",h(this,zn).div.append(s)}h(this,us).classList.toggle("hidden",!t)}serialize(t){let e=h(this,Je);return!t&&h(this,Qs)===e&&(e=h(this,gl)),{altText:e,decorative:h(this,os),guessedText:h(this,Qs),textWithDisclaimer:h(this,gl)}}get data(){return{altText:h(this,Je),decorative:h(this,os)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(_(this,Qs,s),_(this,gl,r)),!(h(this,Je)===t&&h(this,os)===e)&&(l||(_(this,Je,t),_(this,os,e)),T(this,Ki,Pp).call(this))}toggle(t=!1){h(this,ji)&&(!t&&h(this,Qn)&&(clearTimeout(h(this,Qn)),_(this,Qn,null)),h(this,ji).disabled=!t)}shown(){h(this,zn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Ki,bh)}})}destroy(){var t,e;(t=h(this,ji))==null||t.remove(),_(this,ji,null),_(this,vc,null),_(this,cs,null),(e=h(this,us))==null||e.remove(),_(this,us,null)}};Je=new WeakMap,os=new WeakMap,ji=new WeakMap,vc=new WeakMap,cs=new WeakMap,Qn=new WeakMap,bc=new WeakMap,us=new WeakMap,zn=new WeakMap,Qs=new WeakMap,gl=new WeakMap,hs=new WeakMap,or=new WeakMap,Ki=new WeakSet,bh=function(){return h(this,Je)&&"added"||h(this,Je)===null&&this.guessedText&&"review"||"missing"},Pp=async function(){var r,l,u;const t=h(this,ji);if(!t)return;if(h(this,hs)){if(t.classList.toggle("done",!!h(this,Je)),t.setAttribute("data-l10n-id",h(Cn,or)[h(this,Ki,bh)]),(r=h(this,vc))==null||r.setAttribute("data-l10n-id",h(Cn,or)[`${h(this,Ki,bh)}-label`]),!h(this,Je)){(l=h(this,cs))==null||l.remove();return}}else{if(!h(this,Je)&&!h(this,os)){t.classList.remove("done"),(u=h(this,cs))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,cs);if(!e){_(this,cs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,zn).id}`;const d=100,f=h(this,zn)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(h(this,Qn)),_(this,Qn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,Qn,setTimeout(()=>{_(this,Qn,null),h(this,cs).classList.add("show"),h(this,zn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var g;h(this,Qn)&&(clearTimeout(h(this,Qn)),_(this,Qn,null)),(g=h(this,cs))==null||g.classList.remove("show")},{signal:f})}h(this,os)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,Je)),e.parentNode||t.append(e);const s=h(this,zn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},C(Cn,or,null),Tt(Cn,"_l10n",null);let ug=Cn;var ml,Ui,ge,Ac,yl,ln,vl,cr,Jh,bl,ur,td,Al,Zs,ds,Ec,Sc,Si,ed,bg,Ot,Iv,nd,Bv,qv,$1,K1,Gv,Vv,Yv,W1,Xv,Q1,Z1,J1,$v,Ah;const $t=class $t{constructor(t){C(this,Ot);C(this,ml,null);C(this,Ui,null);C(this,ge,null);C(this,Ac,!1);C(this,yl,!1);C(this,ln,null);C(this,vl,null);C(this,cr,null);C(this,Jh,"");C(this,bl,!1);C(this,ur,null);C(this,td,!1);C(this,Al,!1);C(this,Zs,!1);C(this,ds,null);C(this,Ec,0);C(this,Sc,0);C(this,Si,null);Tt(this,"_editToolbar",null);Tt(this,"_initialOptions",Object.create(null));Tt(this,"_initialData",null);Tt(this,"_isVisible",!0);Tt(this,"_uiManager",null);Tt(this,"_focusEventsAllowed",!0);C(this,ed,!1);C(this,bg,$t._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,u];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=$t.prototype._resizeWithKeyboard,e=so.TRANSLATE_SMALL,s=so.TRANSLATE_BIG;return qt(this,"_resizerKeyboardManager",new sf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new bL({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if($t._l10n??($t._l10n=t),$t._l10nResizer||($t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$t._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,ed)}set _isDraggable(t){var e;_(this,ed,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,bg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):T(this,Ot,Ah).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,bl)?_(this,bl,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[l,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){T(this,Ot,Iv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,ur)||_(this,ur,[this.x,this.y]),T(this,Ot,Iv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,ur)||_(this,ur,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,ur)&&(h(this,ur)[0]!==this.x||h(this,ur)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=$t,r=s/t,l=s/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:l,width:u,height:d}=this;if(u*=e,d*=s,r*=e,l*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),l=Math.max(0,Math.min(s-d,l));break;case 90:r=Math.max(0,Math.min(e-d,r)),l=Math.min(s,Math.max(u,l));break;case 180:r=Math.min(e,Math.max(u,r)),l=Math.min(s,Math.max(d,l));break;case 270:r=Math.min(e,Math.max(d,r)),l=Math.max(0,Math.min(s-u,l));break}this.x=r/=e,this.y=l/=s;const[f,g]=this.getBaseTranslation();r+=f,l+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return T(s=$t,nd,Bv).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return T(s=$t,nd,Bv).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,yl)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),l=!h(this,yl)&&e.endsWith("%");if(r&&l)return;const[u,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!h(this,yl)&&!l&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,ge))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,Al)?this._editToolbar:(this._editToolbar=new Dv(this),this.div.append(this._editToolbar.render()),h(this,ge)&&await this._editToolbar.addAltText(h(this,ge)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,ge))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,ge)||(ug.initialize($t._l10n),_(this,ge,new ug(this)),h(this,ml)&&(h(this,ge).data=h(this,ml),_(this,ml,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,ge))==null?void 0:t.data}set altTextData(t){h(this,ge)&&(h(this,ge).data=t)}get guessedAltText(){var t;return(t=h(this,ge))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,ge))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,ge))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,ge)&&!h(this,ge).isEmpty()}hasAltTextData(){var t;return((t=h(this,ge))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Ac)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),T(this,Ot,Xv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),cg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Mn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,bl,!0),this._isDraggable){T(this,Ot,W1).call(this,t);return}T(this,Ot,Yv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,ds)&&clearTimeout(h(this,ds)),_(this,ds,setTimeout(()=>{var t;_(this,ds,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[l,u]=this.pageDimensions,[d,f]=this.pageTranslation,g=t/r,m=e/r,v=this.x*l,b=this.y*u,A=this.width*l,S=this.height*u;switch(s){case 0:return[v+g+d,u-b-m-S+f,v+g+A+d,u-b-m+f];case 90:return[v+m+d,u-b+g+f,v+m+S+d,u-b+g+A+f];case 180:return[v-g-A+d,u-b+m+f,v-g+d,u-b+m+S+f];case 270:return[v-m-S+d,u-b-g-A+f,v-m+d,u-b-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,l,u]=t,d=l-s,f=u-r;switch(this.rotation){case 0:return[s,e-u,d,f];case 90:return[s,e-r,f,d];case 180:return[l,e-r,d,f];case 270:return[l,e-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,Al,!0)}disableEditMode(){_(this,Al,!1)}isInEditMode(){return h(this,Al)}shouldGetKeyboardEvents(){return h(this,Zs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){T(this,Ot,Xv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,_(r,ml,t.accessibilityData);const[l,u]=r.pageDimensions,[d,f,g,m]=r.getRectInCurrentCoords(t.rect,u);return r.x=d/l,r.y=f/u,r.width=g/l,r.height=m/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,cr))==null||t.abort(),_(this,cr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,ds)&&(clearTimeout(h(this,ds)),_(this,ds,null)),T(this,Ot,Ah).call(this),this.removeEditToolbar(),h(this,Si)){for(const e of h(this,Si).values())clearTimeout(e);_(this,Si,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(T(this,Ot,$1).call(this),h(this,ln).classList.remove("hidden"),cg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,vl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,ln).children;if(!h(this,Ui)){_(this,Ui,Array.from(e));const u=T(this,Ot,Q1).bind(this),d=T(this,Ot,Z1).bind(this),f=this._uiManager._signal;for(const g of h(this,Ui)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",u,{signal:f}),g.addEventListener("blur",d,{signal:f}),g.addEventListener("focus",T(this,Ot,J1).bind(this,m),{signal:f}),g.setAttribute("data-l10n-id",$t._l10nResizer[m])}}const s=h(this,Ui)[0];let r=0;for(const u of e){if(u===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ui).length/4);if(l!==r){if(l<r)for(let d=0;d<r-l;d++)h(this,ln).append(h(this,ln).firstChild);else if(l>r)for(let d=0;d<l-r;d++)h(this,ln).firstChild.before(h(this,ln).lastChild);let u=0;for(const d of e){const g=h(this,Ui)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",$t._l10nResizer[g])}}T(this,Ot,$v).call(this,0),_(this,Zs,!0),h(this,ln).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Zs)&&T(this,Ot,Vv).call(this,h(this,Jh),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){T(this,Ot,Ah).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,ge))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,l;(t=h(this,ln))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=h(this,ge))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,td)}set isEditing(t){_(this,td,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,yl,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,Si)||_(this,Si,new Map);const{action:s}=t;let r=h(this,Si).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,Si).delete(s),h(this,Si).size===0&&_(this,Si,null)},$t._telemetryTimeout),h(this,Si).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,Ac,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Ac,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};ml=new WeakMap,Ui=new WeakMap,ge=new WeakMap,Ac=new WeakMap,yl=new WeakMap,ln=new WeakMap,vl=new WeakMap,cr=new WeakMap,Jh=new WeakMap,bl=new WeakMap,ur=new WeakMap,td=new WeakMap,Al=new WeakMap,Zs=new WeakMap,ds=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,Si=new WeakMap,ed=new WeakMap,bg=new WeakMap,Ot=new WeakSet,Iv=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},nd=new WeakSet,Bv=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},qv=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},$1=function(){if(h(this,ln))return;_(this,ln,document.createElement("div")),h(this,ln).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,ln).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",T(this,Ot,K1).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Mi,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,ln))},K1=function(t,e){var S;e.preventDefault();const{isMac:s}=Mn.platform;if(e.button!==0||e.ctrlKey&&s)return;(S=h(this,ge))==null||S.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",T(this,Ot,Vv).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",Mi,{signal:u});const d=this.x,f=this.y,g=this.width,m=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var w;l.abort(),this.parent.togglePointerEvents(!0),(w=h(this,ge))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=b,T(this,Ot,Gv).call(this,d,f,g,m)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},Gv=function(t,e,s,r){const l=this.x,u=this.y,d=this.width,f=this.height;l===t&&u===e&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=l,this.y=u;const[g,m]=this.parentDimensions;this.setDims(g*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},Vv=function(t,e){const[s,r]=this.parentDimensions,l=this.x,u=this.y,d=this.width,f=this.height,g=$t.MIN_SIZE/s,m=$t.MIN_SIZE/r,v=Z=>Math.round(Z*1e4)/1e4,b=T(this,Ot,qv).call(this,this.rotation),A=(Z,J)=>[b[0]*Z+b[2]*J,b[1]*Z+b[3]*J],S=T(this,Ot,qv).call(this,360-this.rotation),w=(Z,J)=>[S[0]*Z+S[2]*J,S[1]*Z+S[3]*J];let M,x,O=!1,k=!1;switch(t){case"topLeft":O=!0,M=(Z,J)=>[0,0],x=(Z,J)=>[Z,J];break;case"topMiddle":M=(Z,J)=>[Z/2,0],x=(Z,J)=>[Z/2,J];break;case"topRight":O=!0,M=(Z,J)=>[Z,0],x=(Z,J)=>[0,J];break;case"middleRight":k=!0,M=(Z,J)=>[Z,J/2],x=(Z,J)=>[0,J/2];break;case"bottomRight":O=!0,M=(Z,J)=>[Z,J],x=(Z,J)=>[0,0];break;case"bottomMiddle":M=(Z,J)=>[Z/2,J],x=(Z,J)=>[Z/2,0];break;case"bottomLeft":O=!0,M=(Z,J)=>[0,J],x=(Z,J)=>[Z,0];break;case"middleLeft":k=!0,M=(Z,J)=>[0,J/2],x=(Z,J)=>[Z,J/2];break}const N=M(d,f),H=x(d,f);let B=A(...H);const Y=v(l+B[0]),W=v(u+B[1]);let G=1,nt=1,[at,St]=this.screenToPageTranslation(e.movementX,e.movementY);if([at,St]=w(at/s,St/r),O){const Z=Math.hypot(d,f);G=nt=Math.max(Math.min(Math.hypot(H[0]-N[0]-at,H[1]-N[1]-St)/Z,1/d,1/f),g/d,m/f)}else k?G=Math.max(g,Math.min(1,Math.abs(H[0]-N[0]-at)))/d:nt=Math.max(m,Math.min(1,Math.abs(H[1]-N[1]-St)))/f;const ht=v(d*G),ft=v(f*nt);B=A(...x(ht,ft));const gt=Y-B[0],V=W-B[1];this.width=ht,this.height=ft,this.x=gt,this.y=V,this.setDims(s*ht,r*ft),this.fixAndSetPosition()},Yv=function(t){const{isMac:e}=Mn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},W1=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),_(this,Ec,t.clientX),_(this,Sc,t.clientY);const u=d=>{const{clientX:f,clientY:g}=d,[m,v]=this.screenToPageTranslation(f-h(this,Ec),g-h(this,Sc));_(this,Ec,f),_(this,Sc,g),this._uiManager.dragSelectedEditors(m,v)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const l=()=>{s.abort(),e&&this.div.classList.remove("moving"),_(this,bl,!1),this._uiManager.endDragSession()||T(this,Ot,Yv).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},Xv=function(){if(h(this,cr)||!this.div)return;_(this,cr,new AbortController);const t=this._uiManager.combinedSignal(h(this,cr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Q1=function(t){$t._resizerKeyboardManager.exec(this,t)},Z1=function(t){var e;h(this,Zs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,ln)&&T(this,Ot,Ah).call(this)},J1=function(t){_(this,Jh,h(this,Zs)?t:"")},$v=function(t){if(h(this,Ui))for(const e of h(this,Ui))e.tabIndex=t},Ah=function(){if(_(this,Zs,!1),T(this,Ot,$v).call(this,-1),h(this,vl)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,vl);T(this,Ot,Gv).call(this,t,e,s,r),_(this,vl,null)}},C($t,nd),Tt($t,"_l10n",null),Tt($t,"_l10nResizer",null),Tt($t,"_borderLineWidth",-1),Tt($t,"_colorManager",new Nv),Tt($t,"_zIndex",1),Tt($t,"_telemetryTimeout",1e3);let Qt=$t;class bL extends Qt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const L_=3285377520,Ai=4294901760,is=65535;class tw{constructor(t){this.h1=t?t&4294967295:L_,this.h2=t?t&4294967295:L_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let w=0,M=t.length;w<M;w++){const x=t.charCodeAt(w);x<=255?e[s++]=x:(e[s++]=x>>>8,e[s++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,u=new Uint32Array(e.buffer,0,r);let d=0,f=0,g=this.h1,m=this.h2;const v=3432918353,b=461845907,A=v&is,S=b&is;for(let w=0;w<r;w++)w&1?(d=u[w],d=d*v&Ai|d*A&is,d=d<<15|d>>>17,d=d*b&Ai|d*S&is,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(f=u[w],f=f*v&Ai|f*A&is,f=f<<15|f>>>17,f=f*b&Ai|f*S&is,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,l){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*v&Ai|d*A&is,d=d<<15|d>>>17,d=d*b&Ai|d*S&is,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ai|t*36045&is,e=e*4283543511&Ai|((e<<16|t>>>16)*2950163797&Ai)>>>16,t^=e>>>1,t=t*444984403&Ai|t*60499&is,e=e*3301882366&Ai|((e<<16|t>>>16)*3120437893&Ai)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Kv=Object.freeze({map:null,hash:"",transfer:void 0});var El,Sl,tn,Ag,ew;class a0{constructor(){C(this,Ag);C(this,El,!1);C(this,Sl,null);C(this,tn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,tn).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,tn).get(t)}remove(t){if(h(this,tn).delete(t),h(this,tn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,tn).values())if(e instanceof Qt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,tn).get(t);let r=!1;if(s!==void 0)for(const[l,u]of Object.entries(e))s[l]!==u&&(r=!0,s[l]=u);else r=!0,h(this,tn).set(t,e);r&&T(this,Ag,ew).call(this),e instanceof Qt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,tn).has(t)}getAll(){return h(this,tn).size>0?Jb(h(this,tn)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,tn).size}resetModified(){h(this,El)&&(_(this,El,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new nw(this)}get serializable(){if(h(this,tn).size===0)return Kv;const t=new Map,e=new tw,s=[],r=Object.create(null);let l=!1;for(const[u,d]of h(this,tn)){const f=d instanceof Qt?d.serialize(!1,r):d;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Kv}get editorStats(){let t=null;const e=new Map;for(const s of h(this,tn).values()){if(!(s instanceof Qt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const u=t[l]||(t[l]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let g=u.get(d);g||(g=new Map,u.set(d,g));const m=g.get(f)??0;g.set(f,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,Sl,null)}get modifiedIds(){if(h(this,Sl))return h(this,Sl);const t=[];for(const e of h(this,tn).values())!(e instanceof Qt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,Sl,{ids:new Set(t),hash:t.join(",")})}}El=new WeakMap,Sl=new WeakMap,tn=new WeakMap,Ag=new WeakSet,ew=function(){h(this,El)||(_(this,El,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var id;class nw extends a0{constructor(e){super();C(this,id);const{map:s,hash:r,transfer:l}=e.serializable,u=structuredClone(s,l?{transfer:l}:null);_(this,id,{map:u,hash:r,transfer:l})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,id)}get modifiedIds(){return qt(this,"modifiedIds",{ids:new Set,hash:""})}}id=new WeakMap;var _c;class AL{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){C(this,_c,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,_c).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,_c).has(t.loadedName))){if(qe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,u=new FontFace(s,r,l);this.addNativeFontFace(u);try{await u.load(),h(this,_c).add(s),e==null||e(t)}catch{Pt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Pt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(En||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),qt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(qe(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(N,H){return N.charCodeAt(H)<<24|N.charCodeAt(H+1)<<16|N.charCodeAt(H+2)<<8|N.charCodeAt(H+3)&255}function r(N,H,B,Y){const W=N.substring(0,H),G=N.substring(H+B);return W+Y+G}let l,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let g=0;function m(N,H){if(++g>30){Pt("Load test font never loaded."),H();return}if(f.font="30px "+N,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(m.bind(null,N,H))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,v.length,v);const S=16,w=1482184792;let M=s(b,S);for(l=0,u=v.length-3;l<u;l+=4)M=M-w+s(v,l)|0;l<v.length&&(M=M-w+s(v+"XXX",l)|0),b=r(b,S,4,sL(M));const x=`url(data:font/opentype;base64,${btoa(b)});`,O=`@font-face {font-family:"${v}";src:${x}}`;this.insertRule(O);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const N of[t.loadedName,v]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=N,k.append(H)}this._document.body.append(k),m(v,()=>{k.remove(),e.complete()})}}_c=new WeakMap;class EL{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${uL(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(l){Pt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(l,u){};const r=[];for(let l=0,u=s.length;l<u;)switch(s[l++]){case qs.BEZIER_CURVE_TO:{const[d,f,g,m,v,b]=s.slice(l,l+6);r.push(A=>A.bezierCurveTo(d,f,g,m,v,b)),l+=6}break;case qs.MOVE_TO:{const[d,f]=s.slice(l,l+2);r.push(g=>g.moveTo(d,f)),l+=2}break;case qs.LINE_TO:{const[d,f]=s.slice(l,l+2);r.push(g=>g.lineTo(d,f)),l+=2}break;case qs.QUADRATIC_CURVE_TO:{const[d,f,g,m]=s.slice(l,l+4);r.push(v=>v.quadraticCurveTo(d,f,g,m)),l+=4}break;case qs.RESTORE:r.push(d=>d.restore());break;case qs.SAVE:r.push(d=>d.save());break;case qs.SCALE:qe(r.length===2,"Scale command is only valid at the third position.");break;case qs.TRANSFORM:{const[d,f,g,m,v,b]=s.slice(l,l+6);r.push(A=>A.transform(d,f,g,m,v,b)),l+=6}break;case qs.TRANSLATE:{const[d,f]=s.slice(l,l+2);r.push(g=>g.translate(d,f)),l+=2}break}return this.compiledGlyphs[e]=function(u,d){r[0](u),r[1](u),u.scale(d,-d);for(let f=2,g=r.length;f<g;f++)r[f](u)}}}var sd;class iw{constructor({enableHWA:t=!1}){C(this,sd,!1);_(this,sd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,sd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}sd=new WeakMap;class SL extends iw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class sw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class aw extends sw{async _fetch(t){const e=await jg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Hg(e)}}class rw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,l){return"none"}destroy(t=!1){}}var _l,wl,fs,Js,yn,Eg,Tl,ut,gn,Qo,Zo,Fp,Jo,lw,Wv,tc,Eh,Sh,Qv,_h;class _L extends rw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();C(this,ut);C(this,_l);C(this,wl);C(this,fs);C(this,Js);C(this,yn);C(this,Eg);C(this,Tl,0);_(this,Js,e),_(this,yn,s)}addFilter(e){if(!e)return"none";let s=h(this,ut,gn).get(e);if(s)return s;const[r,l,u]=T(this,ut,Fp).call(this,e),d=e.length===1?r:`${r}${l}${u}`;if(s=h(this,ut,gn).get(d),s)return h(this,ut,gn).set(e,s),s;const f=`g_${h(this,Js)}_transfer_map_${wn(this,Tl)._++}`,g=T(this,ut,Jo).call(this,f);h(this,ut,gn).set(e,g),h(this,ut,gn).set(d,g);const m=T(this,ut,tc).call(this,f);return T(this,ut,Sh).call(this,r,l,u,m),g}addHCMFilter(e,s){var S;const r=`${e}-${s}`,l="base";let u=h(this,ut,Qo).get(l);if((u==null?void 0:u.key)===r||(u?((S=u.filter)==null||S.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},h(this,ut,Qo).set(l,u)),!e||!s))return u.url;const d=T(this,ut,_h).call(this,e);e=yt.makeHexColor(...d);const f=T(this,ut,_h).call(this,s);if(s=yt.makeHexColor(...f),h(this,ut,Zo).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return u.url;const g=new Array(256);for(let w=0;w<=255;w++){const M=w/255;g[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),v=`g_${h(this,Js)}_hcm_filter`,b=u.filter=T(this,ut,tc).call(this,v);T(this,ut,Sh).call(this,m,m,m,b),T(this,ut,Wv).call(this,b);const A=(w,M)=>{const x=d[w]/255,O=f[w]/255,k=new Array(M+1);for(let N=0;N<=M;N++)k[N]=x+N/M*(O-x);return k.join(",")};return T(this,ut,Sh).call(this,A(0,5),A(1,5),A(2,5),b),u.url=T(this,ut,Jo).call(this,v),u.url}addAlphaFilter(e){let s=h(this,ut,gn).get(e);if(s)return s;const[r]=T(this,ut,Fp).call(this,[e]),l=`alpha_${r}`;if(s=h(this,ut,gn).get(l),s)return h(this,ut,gn).set(e,s),s;const u=`g_${h(this,Js)}_alpha_map_${wn(this,Tl)._++}`,d=T(this,ut,Jo).call(this,u);h(this,ut,gn).set(e,d),h(this,ut,gn).set(l,d);const f=T(this,ut,tc).call(this,u);return T(this,ut,Qv).call(this,r,f),d}addLuminosityFilter(e){let s=h(this,ut,gn).get(e||"luminosity");if(s)return s;let r,l;if(e?([r]=T(this,ut,Fp).call(this,[e]),l=`luminosity_${r}`):l="luminosity",s=h(this,ut,gn).get(l),s)return h(this,ut,gn).set(e,s),s;const u=`g_${h(this,Js)}_luminosity_map_${wn(this,Tl)._++}`,d=T(this,ut,Jo).call(this,u);h(this,ut,gn).set(e,d),h(this,ut,gn).set(l,d);const f=T(this,ut,tc).call(this,u);return T(this,ut,lw).call(this,f),e&&T(this,ut,Qv).call(this,r,f),d}addHighlightHCMFilter(e,s,r,l,u){var O;const d=`${s}-${r}-${l}-${u}`;let f=h(this,ut,Qo).get(e);if((f==null?void 0:f.key)===d||(f?((O=f.filter)==null||O.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},h(this,ut,Qo).set(e,f)),!s||!r))return f.url;const[g,m]=[s,r].map(T(this,ut,_h).bind(this));let v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[l,u].map(T(this,ut,_h).bind(this));b<v&&([v,b,A,S]=[b,v,S,A]),h(this,ut,Zo).style.color="";const w=(k,N,H)=>{const B=new Array(256),Y=(b-v)/H,W=k/255,G=(N-k)/(255*H);let nt=0;for(let at=0;at<=H;at++){const St=Math.round(v+at*Y),ht=W+at*G;for(let ft=nt;ft<=St;ft++)B[ft]=ht;nt=St+1}for(let at=nt;at<256;at++)B[at]=B[nt-1];return B.join(",")},M=`g_${h(this,Js)}_hcm_${e}_filter`,x=f.filter=T(this,ut,tc).call(this,M);return T(this,ut,Wv).call(this,x),T(this,ut,Sh).call(this,w(A[0],S[0],5),w(A[1],S[1],5),w(A[2],S[2],5),x),f.url=T(this,ut,Jo).call(this,M),f.url}destroy(e=!1){e&&h(this,ut,Qo).size!==0||(h(this,fs)&&(h(this,fs).parentNode.parentNode.remove(),_(this,fs,null)),h(this,wl)&&(h(this,wl).clear(),_(this,wl,null)),_(this,Tl,0))}}_l=new WeakMap,wl=new WeakMap,fs=new WeakMap,Js=new WeakMap,yn=new WeakMap,Eg=new WeakMap,Tl=new WeakMap,ut=new WeakSet,gn=function(){return h(this,wl)||_(this,wl,new Map)},Qo=function(){return h(this,Eg)||_(this,Eg,new Map)},Zo=function(){if(!h(this,fs)){const e=h(this,yn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,yn).createElementNS(Vs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,fs,h(this,yn).createElementNS(Vs,"defs")),e.append(r),r.append(h(this,fs)),h(this,yn).body.append(e)}return h(this,fs)},Fp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let b=0;b<256;b++)m[b]=g[b]/255;const v=m.join(",");return[v,v,v]}const[s,r,l]=e,u=new Array(256),d=new Array(256),f=new Array(256);for(let g=0;g<256;g++)u[g]=s[g]/255,d[g]=r[g]/255,f[g]=l[g]/255;return[u.join(","),d.join(","),f.join(",")]},Jo=function(e){if(h(this,_l)===void 0){_(this,_l,"");const s=h(this,yn).URL;s!==h(this,yn).baseURI&&(Ug(s)?Pt('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,_l,s.split("#",1)[0]))}return`url(${h(this,_l)}#${e})`},lw=function(e){const s=h(this,yn).createElementNS(Vs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Wv=function(e){const s=h(this,yn).createElementNS(Vs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},tc=function(e){const s=h(this,yn).createElementNS(Vs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,ut,Zo).append(s),s},Eh=function(e,s,r){const l=h(this,yn).createElementNS(Vs,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},Sh=function(e,s,r,l){const u=h(this,yn).createElementNS(Vs,"feComponentTransfer");l.append(u),T(this,ut,Eh).call(this,u,"feFuncR",e),T(this,ut,Eh).call(this,u,"feFuncG",s),T(this,ut,Eh).call(this,u,"feFuncB",r)},Qv=function(e,s){const r=h(this,yn).createElementNS(Vs,"feComponentTransfer");s.append(r),T(this,ut,Eh).call(this,r,"feFuncA",e)},_h=function(e){return h(this,ut,Zo).style.color=e,s0(getComputedStyle(h(this,ut,Zo)).getPropertyValue("color"))};class ow{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class cw extends ow{async _fetch(t){const e=await jg(t,"arraybuffer");return new Uint8Array(e)}}if(En){var Zv=Promise.withResolvers(),Nh=null;(async()=>{const t=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,u;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:l,path2d:u}))})().then(t=>{Nh=t,Zv.resolve()},t=>{Pt(`loadPackages: ${t}`),Nh=new Map,Zv.resolve()})}class Rr{static get promise(){return Zv.promise}static get(t){return Nh==null?void 0:Nh.get(t)}}async function uw(c){const e=await Rr.get("fs").promises.readFile(c);return new Uint8Array(e)}class wL extends rw{}class TL extends iw{_createCanvas(t,e){return Rr.get("canvas").createCanvas(t,e)}}class xL extends sw{async _fetch(t){return uw(t)}}class CL extends ow{async _fetch(t){return uw(t)}}const Rn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Jv(c,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),c.clip(r)}class r0{getPattern(){ue("Abstract method `getPattern` called.")}}class RL extends r0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let l;if(r===Rn.STROKE||r===Rn.FILL){const u=e.current.getClippedPathBoundingBox(r,ye(t))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,f),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),s=yt.transform(s,[1,0,0,1,u[0],u[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Jv(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(g.canvas,"no-repeat");const v=new DOMMatrix(s);l.setTransform(v)}else Jv(t,this._bbox),l=this._createGradient(t);return l}}function vv(c,t,e,s,r,l,u,d){const f=t.coords,g=t.colors,m=c.data,v=c.width*4;let b;f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=l,l=u,u=b),f[s+1]>f[r+1]&&(b=s,s=r,r=b,b=u,u=d,d=b),f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=l,l=u,u=b);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,w=(f[s]+t.offsetX)*t.scaleX,M=(f[s+1]+t.offsetY)*t.scaleY,x=(f[r]+t.offsetX)*t.scaleX,O=(f[r+1]+t.offsetY)*t.scaleY;if(S>=O)return;const k=g[l],N=g[l+1],H=g[l+2],B=g[u],Y=g[u+1],W=g[u+2],G=g[d],nt=g[d+1],at=g[d+2],St=Math.round(S),ht=Math.round(O);let ft,gt,V,Z,J,_t,L,U;for(let tt=St;tt<=ht;tt++){if(tt<M){const ot=tt<S?0:(S-tt)/(S-M);ft=A-(A-w)*ot,gt=k-(k-B)*ot,V=N-(N-Y)*ot,Z=H-(H-W)*ot}else{let ot;tt>O?ot=1:M===O?ot=0:ot=(M-tt)/(M-O),ft=w-(w-x)*ot,gt=B-(B-G)*ot,V=Y-(Y-nt)*ot,Z=W-(W-at)*ot}let et;tt<S?et=0:tt>O?et=1:et=(S-tt)/(S-O),J=A-(A-x)*et,_t=k-(k-G)*et,L=N-(N-nt)*et,U=H-(H-at)*et;const it=Math.round(Math.min(ft,J)),pt=Math.round(Math.max(ft,J));let ct=v*tt+it*4;for(let ot=it;ot<=pt;ot++)et=(ft-ot)/(ft-J),et<0?et=0:et>1&&(et=1),m[ct++]=gt-(gt-_t)*et|0,m[ct++]=V-(V-L)*et|0,m[ct++]=Z-(Z-U)*et|0,m[ct++]=255}}function ML(c,t,e){const s=t.coords,r=t.colors;let l,u;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(s.length/d)-1,g=d-1;for(l=0;l<f;l++){let m=l*d;for(let v=0;v<g;v++,m++)vv(c,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),vv(c,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(l=0,u=s.length;l<u;l+=3)vv(c,e,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class LL extends r0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=g/v,S=m/b,w={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/A,scaleY:1/S},M=v+2*2,x=b+2*2,O=s.getCanvas("mesh",M,x),k=O.context,N=k.createImageData(v,b);if(e){const B=N.data;for(let Y=0,W=B.length;Y<W;Y+=4)B[Y]=e[0],B[Y+1]=e[1],B[Y+2]=e[2],B[Y+3]=255}for(const B of this._figures)ML(N,B,w);return k.putImageData(N,2,2),{canvas:O.canvas,offsetX:d-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,s,r){Jv(t,this._bbox);let l;if(r===Rn.SHADING)l=yt.singularValueDecompose2dScale(ye(t));else if(l=yt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=yt.singularValueDecompose2dScale(this.matrix);l=[l[0]*d[0],l[1]*d[1]]}const u=this._createMeshCanvas(l,r===Rn.SHADING?null:this._background,e.cachedCanvases);return r!==Rn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class DL extends r0{getPattern(){return"hotpink"}}function OL(c){switch(c[0]){case"RadialAxial":return new RL(c);case"Mesh":return new LL(c);case"Dummy":return new DL}throw new Error(`Unknown IR type: ${c[0]}`)}const D_={COLORED:1,UNCOLORED:2},Sg=class Sg{constructor(t,e,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),Fg("TilingType: "+l);const m=e[0],v=e[1],b=e[2],A=e[3],S=b-m,w=A-v,M=yt.singularValueDecompose2dScale(this.matrix),x=yt.singularValueDecompose2dScale(this.baseTransform),O=M[0]*x[0],k=M[1]*x[1];let N=S,H=w,B=!1,Y=!1;const W=Math.ceil(f*O),G=Math.ceil(g*k),nt=Math.ceil(S*O),at=Math.ceil(w*k);W>=nt?N=f:B=!0,G>=at?H=g:Y=!0;const St=this.getSizeAndScale(N,this.ctx.canvas.width,O),ht=this.getSizeAndScale(H,this.ctx.canvas.height,k),ft=t.cachedCanvases.getCanvas("pattern",St.size,ht.size),gt=ft.context,V=d.createCanvasGraphics(gt);if(V.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(V,r,u),gt.translate(-St.scale*m,-ht.scale*v),V.transform(St.scale,0,0,ht.scale,0,0),gt.save(),this.clipBbox(V,m,v,b,A),V.baseTransform=ye(V.ctx),V.executeOperatorList(s),V.endDrawing(),gt.restore(),B||Y){const Z=ft.canvas;B&&(N=f),Y&&(H=g);const J=this.getSizeAndScale(N,this.ctx.canvas.width,O),_t=this.getSizeAndScale(H,this.ctx.canvas.height,k),L=J.size,U=_t.size,tt=t.cachedCanvases.getCanvas("pattern-workaround",L,U),et=tt.context,it=B?Math.floor(S/f):0,pt=Y?Math.floor(w/g):0;for(let ct=0;ct<=it;ct++)for(let ot=0;ot<=pt;ot++)et.drawImage(Z,L*ct,U*ot,L,U,0,0,L,U);return{canvas:tt.canvas,scaleX:J.scale,scaleY:_t.scale,offsetX:m,offsetY:v}}return{canvas:ft.canvas,scaleX:St.scale,scaleY:ht.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,s){const r=Math.max(Sg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,r,l){const u=r-e,d=l-s;t.ctx.rect(e,s,u,d),t.current.updateRectMinMax(ye(t.ctx),[e,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,l=t.current;switch(e){case D_.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,l.fillColor=u.fillStyle,l.strokeColor=u.strokeStyle;break;case D_.UNCOLORED:const d=yt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,l.fillColor=d,l.strokeColor=d;break;default:throw new iL(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let l=s;r!==Rn.SHADING&&(l=yt.transform(l,e.baseTransform),this.matrix&&(l=yt.transform(l,this.matrix)));const u=this.createPatternCanvas(e);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};Tt(Sg,"MAX_PATTERN_SIZE",3e3);let tb=Sg;function kL({src:c,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const d=Mn.isLittleEndian?4278190080:255,[f,g]=u?[l,d]:[d,l],m=s>>3,v=s&7,b=c.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<r;S++){for(const M=t+m;t<M;t++){const x=t<b?c[t]:255;e[A++]=x&128?g:f,e[A++]=x&64?g:f,e[A++]=x&32?g:f,e[A++]=x&16?g:f,e[A++]=x&8?g:f,e[A++]=x&4?g:f,e[A++]=x&2?g:f,e[A++]=x&1?g:f}if(v===0)continue;const w=t<b?c[t++]:255;for(let M=0;M<v;M++)e[A++]=w&1<<7-M?g:f}return{srcPos:t,destPos:A}}const O_=16,k_=100,NL=15,N_=10,P_=1e3,Un=16;function PL(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},c.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},c.transform=function(s,r,l,u,d,f){t.transform(s,r,l,u,d,f),this.__originalTransform(s,r,l,u,d,f)},c.setTransform=function(s,r,l,u,d,f){t.setTransform(s,r,l,u,d,f),this.__originalSetTransform(s,r,l,u,d,f)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(s){t.rotate(s),this.__originalRotate(s)},c.clip=function(s){t.clip(s),this.__originalClip(s)},c.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},c.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},c.bezierCurveTo=function(e,s,r,l,u,d){t.bezierCurveTo(e,s,r,l,u,d),this.__originalBezierCurveTo(e,s,r,l,u,d)},c.rect=function(e,s,r,l){t.rect(e,s,r,l),this.__originalRect(e,s,r,l)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class FL{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ep(c,t,e,s,r,l,u,d,f,g){const[m,v,b,A,S,w]=ye(c);if(v===0&&b===0){const O=u*m+S,k=Math.round(O),N=d*A+w,H=Math.round(N),B=(u+f)*m+S,Y=Math.abs(Math.round(B)-k)||1,W=(d+g)*A+w,G=Math.abs(Math.round(W)-H)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(A),k,H),c.drawImage(t,e,s,r,l,0,0,Y,G),c.setTransform(m,v,b,A,S,w),[Y,G]}if(m===0&&A===0){const O=d*b+S,k=Math.round(O),N=u*v+w,H=Math.round(N),B=(d+g)*b+S,Y=Math.abs(Math.round(B)-k)||1,W=(u+f)*v+w,G=Math.abs(Math.round(W)-H)||1;return c.setTransform(0,Math.sign(v),Math.sign(b),0,k,H),c.drawImage(t,e,s,r,l,0,0,G,Y),c.setTransform(m,v,b,A,S,w),[G,Y]}c.drawImage(t,e,s,r,l,u,d,f,g);const M=Math.hypot(m,v),x=Math.hypot(b,A);return[M*f,x*g]}function zL(c){const{width:t,height:e}=c;if(t>P_||e>P_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let u=new Uint8Array(l*(e+1)),d,f,g;const m=t+7&-8;let v=new Uint8Array(m*e),b=0;for(const x of c.data){let O=128;for(;O>0;)v[b++]=x&O?0:255,O>>=1}let A=0;for(b=0,v[b]!==0&&(u[0]=1,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(u[f]=v[b]?2:1,++A),b++;for(v[b]!==0&&(u[f]=2,++A),d=1;d<e;d++){b=d*m,g=d*l,v[b-m]!==v[b]&&(u[g]=v[b]?1:8,++A);let x=(v[b]?4:0)+(v[b-m]?8:0);for(f=1;f<t;f++)x=(x>>2)+(v[b+1]?4:0)+(v[b-m+1]?8:0),r[x]&&(u[g+f]=r[x],++A),b++;if(v[b-m]!==v[b]&&(u[g+f]=v[b]?2:4,++A),A>s)return null}for(b=m*(e-1),g=d*l,v[b]!==0&&(u[g]=8,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(u[g+f]=v[b]?4:8,++A),b++;if(v[b]!==0&&(u[g+f]=4,++A),A>s)return null;const S=new Int32Array([0,l,-1,0,-l,0,0,0,1]),w=new Path2D;for(d=0;A&&d<=e;d++){let x=d*l;const O=x+t;for(;x<O&&!u[x];)x++;if(x===O)continue;w.moveTo(x%l,d);const k=x;let N=u[x];do{const H=S[N];do x+=H;while(!u[x]);const B=u[x];B!==5&&B!==10?(N=B,u[x]=0):(N=B&51*N>>4,u[x]&=N>>2|N<<2),w.lineTo(x%l,x/l|0),u[x]||--A}while(k!==x);--d}return v=null,u=null,function(x){x.save(),x.scale(1/t,-1/e),x.translate(0,-e),x.fill(w),x.beginPath(),x.restore()}}class F_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=C1,this.textMatrixScale=1,this.fontMatrix=xv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=pn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=yt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=yt.applyTransform(e,t),r=yt.applyTransform(e.slice(2),t),l=yt.applyTransform([e[0],e[3]],t),u=yt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],u[1])}updateScalingPathMinMax(t,e){yt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,l,u,d,f,g,m){const v=yt.bezierBoundingBox(e,s,r,l,u,d,f,g,m);m||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Rn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Rn.STROKE){e||ue("Stroke bounding box must include transform.");const r=yt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=u,s[2]+=l,s[3]+=u}return s}updateClipFromPath(){const t=yt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Rn.FILL,e=null){return yt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function z_(c,t){if(typeof ImageData<"u"&&t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%Un,l=(e-r)/Un,u=r===0?l:l+1,d=c.createImageData(s,Un);let f=0,g;const m=t.data,v=d.data;let b,A,S,w;if(t.kind===Mp.GRAYSCALE_1BPP){const M=m.byteLength,x=new Uint32Array(v.buffer,0,v.byteLength>>2),O=x.length,k=s+7>>3,N=4294967295,H=Mn.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(S=b<l?Un:r,g=0,A=0;A<S;A++){const B=M-f;let Y=0;const W=B>k?s:B*8-7,G=W&-8;let nt=0,at=0;for(;Y<G;Y+=8)at=m[f++],x[g++]=at&128?N:H,x[g++]=at&64?N:H,x[g++]=at&32?N:H,x[g++]=at&16?N:H,x[g++]=at&8?N:H,x[g++]=at&4?N:H,x[g++]=at&2?N:H,x[g++]=at&1?N:H;for(;Y<W;Y++)nt===0&&(at=m[f++],nt=128),x[g++]=at&nt?N:H,nt>>=1}for(;g<O;)x[g++]=0;c.putImageData(d,0,b*Un)}}else if(t.kind===Mp.RGBA_32BPP){for(A=0,w=s*Un*4,b=0;b<l;b++)v.set(m.subarray(f,f+w)),f+=w,c.putImageData(d,0,A),A+=Un;b<u&&(w=s*r*4,v.set(m.subarray(f,f+w)),c.putImageData(d,0,A))}else if(t.kind===Mp.RGB_24BPP)for(S=Un,w=s*S,b=0;b<u;b++){for(b>=l&&(S=r,w=s*S),g=0,A=w;A--;)v[g++]=m[f++],v[g++]=m[f++],v[g++]=m[f++],v[g++]=255;c.putImageData(d,0,b*Un)}else throw new Error(`bad image kind: ${t.kind}`)}function H_(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%Un,l=(e-r)/Un,u=r===0?l:l+1,d=c.createImageData(s,Un);let f=0;const g=t.data,m=d.data;for(let v=0;v<u;v++){const b=v<l?Un:r;({srcPos:f}=kL({src:g,srcPos:f,dest:m,width:s,height:b,nonBlackColor:0})),c.putImageData(d,0,v*Un)}}function gh(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)c[s]!==void 0&&(t[s]=c[s]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function Sp(c){if(c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0),!En){const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}}function j_(c,t){if(t)return!0;const e=yt.singularValueDecompose2dScale(c);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Cr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const HL=["butt","round","square"],jL=["miter","round","bevel"],UL={},U_={};var Lr,eb,nb;const p0=class p0{constructor(t,e,s,r,l,{optionalContentConfig:u,markedContentStack:d=null},f,g){C(this,Lr);this.ctx=t,this.current=new F_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new FL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ye(this.compositeCtx))}this.ctx.save(),Sp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ye(this.ctx)}executeOperatorList(t,e,s,r){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const g=f-d>N_&&typeof s=="function",m=g?Date.now()+NL:0;let v=0;const b=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(S=u[d],S!==Pi.dependency)this[S].apply(this,l[d]);else for(const w of l[d]){const M=w.startsWith("g_")?b:A;if(!M.has(w))return M.get(w,s),d}if(d++,d===f)return d;if(g&&++v>N_){if(Date.now()>m)return s(),d;v=0}}}endDrawing(){T(this,Lr,eb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),T(this,Lr,nb).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),d=s,f=r,g="prescale1",m,v;for(;l>2&&d>1||u>2&&f>1;){let b=d,A=f;l>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/b),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),m=this.cachedCanvases.getCanvas(g,b,A),v=m.context,v.clearRect(0,0,b,A),v.drawImage(t,0,0,d,f,0,0,b,A),t=m.canvas,d=b,f=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,u=this.current.patternFill,d=ye(e);let f,g,m,v;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;g=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const G=f.get(g);if(G&&!u){const nt=Math.round(Math.min(d[0],d[2])+d[4]),at=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:G,offsetX:nt,offsetY:at}}m=G}m||(v=this.cachedCanvases.getCanvas("maskCanvas",s,r),H_(v.context,t));let b=yt.transform(d,[1/s,0,0,-1/r,0,0]);b=yt.transform(b,[1,0,0,1,0,-r]);const[A,S,w,M]=yt.getAxialAlignedBoundingBox([0,0,s,r],b),x=Math.round(w-A)||1,O=Math.round(M-S)||1,k=this.cachedCanvases.getCanvas("fillCanvas",x,O),N=k.context,H=A,B=S;N.translate(-H,-B),N.transform(...b),m||(m=this._scaleImage(v.canvas,Gs(N)),m=m.img,f&&u&&f.set(g,m)),N.imageSmoothingEnabled=j_(ye(N),t.interpolate),Ep(N,m,0,0,m.width,m.height,0,0,s,r),N.globalCompositeOperation="source-in";const Y=yt.transform(Gs(N),[1,0,0,1,-H,-B]);return N.fillStyle=u?l.getPattern(e,this,Y,Rn.FILL):l,N.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,k.canvas)),{canvas:k.canvas,offsetX:Math.round(H),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=HL[t]}setLineJoin(t){this.ctx.lineJoin=jL[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...ye(this.suspendedCtx)),gh(this.suspendedCtx,l),PL(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const l=r[0],u=r[1],d=r[2]-l,f=r[3]-u;d===0||f===0||(this.genericComposeSMask(e.context,s,d,f,e.subtype,e.backdrop,e.transferMap,l,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,l,u,d,f,g,m,v){let b=t.canvas,A=f-m,S=g-v;if(u){const M=yt.makeHexColor(...u);if(A<0||S<0||A+s>b.width||S+r>b.height){const x=this.cachedCanvases.getCanvas("maskExtension",s,r),O=x.context;O.drawImage(b,-A,-S),O.globalCompositeOperation="destination-atop",O.fillStyle=M,O.fillRect(0,0,s,r),O.globalCompositeOperation="source-over",b=x.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(A,S,s,r),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,S,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const w=new Path2D;w.rect(f,g,s,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,A,S,s,r,f,g,s,r),e.restore()}save(){this.inSMaskMode?(gh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,l,u){this.ctx.transform(t,e,s,r,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,l=this.current;let u=l.x,d=l.y,f,g;const m=ye(r),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=v?s.slice(0):null;for(let A=0,S=0,w=t.length;A<w;A++)switch(t[A]|0){case Pi.rectangle:u=e[S++],d=e[S++];const M=e[S++],x=e[S++],O=u+M,k=d+x;r.moveTo(u,d),M===0||x===0?r.lineTo(O,k):(r.lineTo(O,d),r.lineTo(O,k),r.lineTo(u,k)),v||l.updateRectMinMax(m,[u,d,O,k]),r.closePath();break;case Pi.moveTo:u=e[S++],d=e[S++],r.moveTo(u,d),v||l.updatePathMinMax(m,u,d);break;case Pi.lineTo:u=e[S++],d=e[S++],r.lineTo(u,d),v||l.updatePathMinMax(m,u,d);break;case Pi.curveTo:f=u,g=d,u=e[S+4],d=e[S+5],r.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],u,d),l.updateCurvePathMinMax(m,f,g,e[S],e[S+1],e[S+2],e[S+3],u,d,b),S+=6;break;case Pi.curveTo2:f=u,g=d,r.bezierCurveTo(u,d,e[S],e[S+1],e[S+2],e[S+3]),l.updateCurvePathMinMax(m,f,g,u,d,e[S],e[S+1],e[S+2],e[S+3],b),u=e[S+2],d=e[S+3],S+=4;break;case Pi.curveTo3:f=u,g=d,u=e[S+2],d=e[S+3],r.bezierCurveTo(e[S],e[S+1],u,d,u,d),l.updateCurvePathMinMax(m,f,g,e[S],e[S+1],u,d,u,d,b),S+=4;break;case Pi.closePath:r.closePath();break}v&&l.updateScalingPathMinMax(m,b),l.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Gs(e),Rn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Gs(e),Rn.FILL),l=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=UL}eoClip(){this.pendingClip=U_}beginText(){this.current.textMatrix=C1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||xv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Pt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",u=((m=s.systemFontInfo)==null?void 0:m.css)||`"${l}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let g=e;e<O_?g=O_:e>k_&&(g=k_),this.current.fontSizeScale=e/g,this.ctx.font=`${f} ${d} ${g}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,l,u){this.current.textMatrix=[t,e,s,r,l,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const l=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,m=f&pn.FILL_STROKE_MASK,v=!!(f&pn.ADD_TO_PATH_FLAG),b=u.patternFill&&!d.missingFile;let A;(d.disableFontFace||v||b)&&(A=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||b?(l.save(),l.translate(e,s),l.beginPath(),A(l,g),r&&l.setTransform(...r),(m===pn.FILL||m===pn.FILL_STROKE)&&l.fill(),(m===pn.STROKE||m===pn.FILL_STROKE)&&l.stroke(),l.restore()):((m===pn.FILL||m===pn.FILL_STROKE)&&l.fillText(t,e,s),(m===pn.STROKE||m===pn.FILL_STROKE)&&l.strokeText(t,e,s)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ye(l),x:e,y:s,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return qt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,u=e.fontSizeScale,d=e.charSpacing,f=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,v=t.length,b=s.vertical,A=b?1:-1,S=s.defaultVMetrics,w=r*e.fontMatrix[0],M=e.textRenderingMode===pn.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),g>0?l.scale(m,-1):l.scale(m,1);let x;if(e.patternFill){l.save();const B=e.fillColor.getPattern(l,this,Gs(l),Rn.FILL);x=ye(l),l.restore(),l.fillStyle=B}let O=e.lineWidth;const k=e.textMatrixScale;if(k===0||O===0){const B=e.textRenderingMode&pn.FILL_STROKE_MASK;(B===pn.STROKE||B===pn.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=k;if(u!==1&&(l.scale(u,u),O/=u),l.lineWidth=O,s.isInvalidPDFjsFont){const B=[];let Y=0;for(const W of t)B.push(W.unicode),Y+=W.width;l.fillText(B.join(""),0,0),e.x+=Y*w*m,l.restore(),this.compose();return}let N=0,H;for(H=0;H<v;++H){const B=t[H];if(typeof B=="number"){N+=A*B*r/1e3;continue}let Y=!1;const W=(B.isSpace?f:0)+d,G=B.fontChar,nt=B.accent;let at,St,ht=B.width;if(b){const gt=B.vmetric||S,V=-(B.vmetric?gt[1]:ht*.5)*w,Z=gt[2]*w;ht=gt?-gt[0]:ht,at=V/u,St=(N+Z)/u}else at=N/u,St=0;if(s.remeasure&&ht>0){const gt=l.measureText(G).width*1e3/r*u;if(ht<gt&&this.isFontSubpixelAAEnabled){const V=ht/gt;Y=!0,l.save(),l.scale(V,1),at/=V}else ht!==gt&&(at+=(ht-gt)/2e3*r/u)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(M&&!nt)l.fillText(G,at,St);else if(this.paintChar(G,at,St,x),nt){const gt=at+r*nt.offset.x/u,V=St-r*nt.offset.y/u;this.paintChar(nt.fontChar,gt,V,x)}}const ft=b?ht*w-W*g:ht*w+W*g;N+=ft,Y&&l.restore()}b?e.y-=N:e.x+=N*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,l=s.fontSize,u=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,g=s.wordSpacing,m=s.textHScale*u,v=s.fontMatrix||xv,b=t.length,A=s.textRenderingMode===pn.INVISIBLE;let S,w,M,x;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,u),S=0;S<b;++S){if(w=t[S],typeof w=="number"){x=d*w*l/1e3,this.ctx.translate(x,0),s.x+=x*m;continue}const O=(w.isSpace?g:0)+f,k=r.charProcOperatorList[w.operatorListId];if(!k){Pt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(l,l),e.transform(...v),this.executeOperatorList(k),this.restore()),M=yt.applyTransform([w.width,0],v)[0]*l+O,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,l,u){this.ctx.rect(s,r,l-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||ye(this.ctx),l={createCanvasGraphics:u=>new p0(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new tb(t,s,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=yt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=yt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=OL(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Gs(e),Rn.SHADING);const r=Gs(e);if(r){const{width:l,height:u}=e.canvas,[d,f,g,m]=yt.getAxialAlignedBoundingBox([0,0,l,u],r);this.ctx.fillRect(d,f,g-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ye(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(ye(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Fg("TODO: Support non-isolated groups."),t.knockout&&Pt("Knockout groups not supported.");const s=ye(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=yt.getAxialAlignedBoundingBox(t.bbox,ye(e));const l=[0,0,e.canvas.width,e.canvas.height];r=yt.intersect(r,l)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,g),b=v.context;b.translate(-u,-d),b.transform(...s),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,d),e.save()),gh(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=yt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,r,l){if(T(this,Lr,eb).call(this),Sp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],d=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=d;const[f,g]=yt.singularValueDecompose2dScale(ye(this.ctx)),{viewportScale:m}=this,v=Math.ceil(u*this.outputScaleX*m),b=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,d*g),Sp(this.ctx)}else Sp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new F_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),T(this,Lr,nb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=zL(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),u=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=ye(d);d.transform(e,s,r,l,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let m=0,v=u.length;m<v;m+=2){const b=yt.transform(f,[e,s,r,l,u[m],u[m+1]]),[A,S]=yt.applyTransform([0,0],b);d.drawImage(g.canvas,A,S)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:u,width:d,height:f,transform:g}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=m.context;v.save();const b=this.getObject(u,l);H_(v,b),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,Gs(e),Rn.FILL):s,v.fillRect(0,0,d,f),v.restore(),e.save(),e.transform(...g),e.scale(1,-1),Ep(e,m.canvas,0,0,d,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Pt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Pt("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let g=0,m=r.length;g<m;g+=2)f.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!En){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;z_(f,t),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,Gs(r));r.imageSmoothingEnabled=j_(ye(r),t.interpolate),Ep(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;z_(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),Ep(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===U_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ye(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:l}=this.ctx.getTransform();let u,d;if(s===0&&r===0){const f=Math.abs(e),g=Math.abs(l);if(f===g)if(t===0)u=d=1/f;else{const m=f*t;u=d=m<1?1/m:1}else if(t===0)u=1/f,d=1/g;else{const m=f*t,v=g*t;u=m<1?1/m:1,d=v<1?1/v:1}}else{const f=Math.abs(e*l-s*r),g=Math.hypot(e,s),m=Math.hypot(r,l);if(t===0)u=m/f,d=g/f;else{const v=t*f;u=m>v?m/v:1,d=g>v?g/v:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&l===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,l),u.length>0){const d=Math.max(r,l);e.setLineDash(u.map(f=>f/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Lr=new WeakSet,eb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},nb=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let rc=p0;for(const c in Pi)rc.prototype[c]!==void 0&&(rc.prototype[Pi[c]]=rc.prototype[c]);var ad,rd;class va{static get workerPort(){return h(this,ad)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,ad,t)}static get workerSrc(){return h(this,rd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,rd,t)}}ad=new WeakMap,rd=new WeakMap,C(va,ad,null),C(va,rd,"");const _p={DATA:1,ERROR:2},Oe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Kn(c){switch(c instanceof Error||typeof c=="object"&&c!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new ho(c.message);case"MissingPDFException":return new uo(c.message);case"PasswordException":return new Cv(c.message,c.code);case"UnexpectedResponseException":return new zg(c.message,c.status);case"UnknownErrorException":return new Rv(c.message,c.details);default:return new Rv(c.message,c.toString())}}var wc,Ri,hw,dw,fw,zp;class wh{constructor(t,e,s){C(this,Ri);C(this,wc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",T(this,Ri,hw).bind(this),{signal:h(this,wc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,e,s,r){const l=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:t,streamId:l,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:Oe.PULL,streamId:l,desiredSize:g.desiredSize}),m.promise},cancel:g=>{qe(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Oe.CANCEL,streamId:l,reason:Kn(g)}),m.promise}},s)}destroy(){var t;(t=h(this,wc))==null||t.abort(),_(this,wc,null)}}wc=new WeakMap,Ri=new WeakSet,hw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){T(this,Ri,fw).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===_p.DATA)r.resolve(t.data);else if(t.callback===_p.ERROR)r.reject(Kn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){l.postMessage({sourceName:s,targetName:r,callback:_p.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:s,targetName:r,callback:_p.ERROR,callbackId:t.callbackId,reason:Kn(u)})});return}if(t.streamId){T(this,Ri,dw).call(this,t);return}e(t.data)},dw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this,d=this.actionHandler[t.action],f={enqueue(g,m=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:Oe.ENQUEUE,streamId:e,chunk:g},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Oe.CLOSE,streamId:e}),delete u.streamSinks[e])},error(g){qe(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:Oe.ERROR,streamId:e,reason:Kn(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(g){g(d(t.data,f))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Oe.START_COMPLETE,streamId:e,success:!0})},function(g){l.postMessage({sourceName:s,targetName:r,stream:Oe.START_COMPLETE,streamId:e,reason:Kn(g)})})},fw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Oe.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(Kn(t.reason));break;case Oe.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(Kn(t.reason));break;case Oe.PULL:if(!d){l.postMessage({sourceName:s,targetName:r,stream:Oe.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var g;f((g=d.onPull)==null?void 0:g.call(d))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Oe.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:Oe.PULL_COMPLETE,streamId:e,reason:Kn(f)})});break;case Oe.ENQUEUE:if(qe(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Oe.CLOSE:if(qe(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),T(this,Ri,zp).call(this,u,e);break;case Oe.ERROR:qe(u,"error should have stream controller"),u.controller.error(Kn(t.reason)),T(this,Ri,zp).call(this,u,e);break;case Oe.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(Kn(t.reason)),T(this,Ri,zp).call(this,u,e);break;case Oe.CANCEL:if(!d)break;new Promise(function(f){var g;f((g=d.onCancel)==null?void 0:g.call(d,Kn(t.reason)))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:Oe.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:Oe.CANCEL_COMPLETE,streamId:e,reason:Kn(f)})}),d.sinkCapability.reject(Kn(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},zp=async function(t,e){var s,r,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var xl,ld;class IL{constructor({parsedData:t,rawData:e}){C(this,xl);C(this,ld);_(this,xl,t),_(this,ld,e)}getRaw(){return h(this,ld)}get(t){return h(this,xl).get(t)??null}getAll(){return Jb(h(this,xl))}has(t){return h(this,xl).has(t)}}xl=new WeakMap,ld=new WeakMap;const ec=Symbol("INTERNAL");var od,cd,ud,Tc;class BL{constructor(t,{name:e,intent:s,usage:r,rbGroups:l}){C(this,od,!1);C(this,cd,!1);C(this,ud,!1);C(this,Tc,!0);_(this,od,!!(t&si.DISPLAY)),_(this,cd,!!(t&si.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(h(this,ud))return h(this,Tc);if(!h(this,Tc))return!1;const{print:t,view:e}=this.usage;return h(this,od)?(e==null?void 0:e.viewState)!=="OFF":h(this,cd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==ec&&ue("Internal method `_setVisible` called."),_(this,ud,s),_(this,Tc,e)}}od=new WeakMap,cd=new WeakMap,ud=new WeakMap,Tc=new WeakMap;var hr,Wt,xc,Cc,hd,ib;class qL{constructor(t,e=si.DISPLAY){C(this,hd);C(this,hr,null);C(this,Wt,new Map);C(this,xc,null);C(this,Cc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,Cc,t.order);for(const s of t.groups)h(this,Wt).set(s.id,new BL(e,s));if(t.baseState==="OFF")for(const s of h(this,Wt).values())s._setVisible(ec,!1);for(const s of t.on)h(this,Wt).get(s)._setVisible(ec,!0);for(const s of t.off)h(this,Wt).get(s)._setVisible(ec,!1);_(this,xc,this.getHash())}}isVisible(t){if(h(this,Wt).size===0)return!0;if(!t)return Fg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Wt).has(t.id)?h(this,Wt).get(t.id).visible:(Pt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return T(this,hd,ib).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Wt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(h(this,Wt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Wt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(!h(this,Wt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Wt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(!h(this,Wt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Wt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(h(this,Wt).get(e).visible)return!1}return!0}return Pt(`Unknown optional content policy ${t.policy}.`),!0}return Pt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var l;const r=h(this,Wt).get(t);if(!r){Pt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const d of u)d!==t&&((l=h(this,Wt).get(d))==null||l._setVisible(ec,!1,!0));r._setVisible(ec,!!e,!0),_(this,hr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=h(this,Wt).get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}_(this,hr,null)}get hasInitialVisibility(){return h(this,xc)===null||this.getHash()===h(this,xc)}getOrder(){return h(this,Wt).size?h(this,Cc)?h(this,Cc).slice():[...h(this,Wt).keys()]:null}getGroups(){return h(this,Wt).size>0?Jb(h(this,Wt)):null}getGroup(t){return h(this,Wt).get(t)||null}getHash(){if(h(this,hr)!==null)return h(this,hr);const t=new tw;for(const[e,s]of h(this,Wt))t.update(`${e}:${s.visible}`);return _(this,hr,t.hexdigest())}}hr=new WeakMap,Wt=new WeakMap,xc=new WeakMap,Cc=new WeakMap,hd=new WeakSet,ib=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const l=t[r];let u;if(Array.isArray(l))u=T(this,hd,ib).call(this,l);else if(h(this,Wt).has(l))u=h(this,Wt).get(l).visible;else return Pt(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class GL{constructor(t,{disableRange:e=!1,disableStream:s=!1}){qe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:u,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),t.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});qe(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,l;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){qe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new VL(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new YL(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class VL{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=n0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class YL{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function XL(c){let t=!0,e=s("filename\\*","i").exec(c);if(e){e=e[1];let m=d(e);return m=unescape(m),m=f(m),m=g(m),l(m)}if(e=u(c),e){const m=g(e);return l(m)}if(e=s("filename","i").exec(c),e){e=e[1];let m=d(e);return m=g(m),l(m)}function s(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(m,{fatal:!0}),A=Hg(v);v=b.decode(A),t=!1}catch{}}return v}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function u(m){const v=[];let b;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,w,M,x]=b;if(w=parseInt(w,10),w in v){if(w===0)break;continue}v[w]=[M,x]}const S=[];for(let w=0;w<v.length&&w in v;++w){let[M,x]=v[w];x=d(x),M&&(x=unescape(x),w===0&&(x=f(x))),S.push(x)}return S.join("")}function d(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let b=0;b<v.length;++b){const A=v[b].indexOf('"');A!==-1&&(v[b]=v[b].slice(0,A),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function f(m){const v=m.indexOf("'");if(v===-1)return m;const b=m.slice(0,v),S=m.slice(v+1).replace(/^[^']*'/,"");return r(b,S)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function l0(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function o0({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(c.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||s||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function c0(c){const t=c.get("Content-Disposition");if(t){let e=XL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(n0(e))return e}return null}function Ig(c,t){return c===404||c===0&&t.startsWith("file:")?new uo('Missing PDF "'+t+'".'):new zg(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c)}function pw(c){return c===200||c===206}function gw(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function mw(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(Pt(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class I_{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=l0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return qe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $L(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new KL(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class $L{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,gw(s,this._withCredentials,this._abortController)).then(l=>{if(!pw(l.status))throw Ig(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:d,suggestedLength:f}=o0({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=c0(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ho("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:mw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class KL{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const u=r.url;fetch(u,gw(l,this._withCredentials,this._abortController)).then(d=>{if(!pw(d.status))throw Ig(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:mw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const bv=200,Av=206;function WL(c){const t=c.response;return typeof t!="string"?t:Hg(t).buffer}class QL{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=l0(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const l in s)r[l]=s[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,u]of this.headers)e.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Av):r.expectedStatus=bv,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var f,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const l=r.status||bv;if(!(l===bv&&s.expectedStatus===Av)&&l!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=WL(r);if(l===Av){const v=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);s.onDone({begin:parseInt(b[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class ZL{constructor(t){this._source=t,this._manager=new QL(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return qe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new JL(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new tD(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class JL{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=o0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=c0(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ig(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tD{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ig(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const eD=/^[a-z][a-z0-9\-+.]+:/i;function nD(c){if(eD.test(c))return new URL(c);const t=Rr.get("url");return new URL(t.pathToFileURL(c))}function yw(c,t,e){return c.protocol==="http:"?Rr.get("http").request(c,{headers:t},e):Rr.get("https").request(c,{headers:t},e)}class iD{constructor(t){this.source=t,this.url=nD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=l0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return qe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new rD(this):new sD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new lD(this,t,e):new aD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class vw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ho("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class bw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class sD extends vw{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new uo(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=o0({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=c0(l)};this._request=yw(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class aD extends bw{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const l=u=>{if(u.statusCode===404){const d=new uo(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=yw(this._url,r,l),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class rD extends vw{constructor(t){super(t);const e=Rr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new uo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class lD extends bw{constructor(t,e,s){super(t);const r=Rr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const oD=1e5,Pn=30,cD=.8;var i1,dr,Hn,dd,fd,Cl,ta,pd,gd,Rl,Rc,Mc,fr,Lc,md,Dc,Ml,yd,vd,_e,Ll,Dl,bd,pr,Oc,wa,Aw,Ew,ab,ri,Hp,rb,Sw,_w;let sb=(_e=class{constructor({textContentSource:t,container:e,viewport:s}){C(this,wa);C(this,dr,Promise.withResolvers());C(this,Hn,null);C(this,dd,!1);C(this,fd,!!((i1=globalThis.FontInspector)!=null&&i1.enabled));C(this,Cl,null);C(this,ta,null);C(this,pd,0);C(this,gd,0);C(this,Rl,null);C(this,Rc,null);C(this,Mc,0);C(this,fr,0);C(this,Lc,Object.create(null));C(this,md,[]);C(this,Dc,null);C(this,Ml,[]);C(this,yd,new WeakMap);C(this,vd,null);var f;if(t instanceof ReadableStream)_(this,Dc,t);else if(typeof t=="object")_(this,Dc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,Hn,_(this,Rc,e)),_(this,fr,s.scale*(globalThis.devicePixelRatio||1)),_(this,Mc,s.rotation),_(this,ta,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:u,pageY:d}=s.rawDims;_(this,vd,[1,0,0,-1,-u,d+l]),_(this,gd,r),_(this,pd,l),T(f=_e,ri,Sw).call(f),io(e,s),h(this,dr).promise.finally(()=>{h(_e,Oc).delete(this),_(this,ta,null),_(this,Lc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Mn.platform;return qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Rl).read().then(({value:e,done:s})=>{if(s){h(this,dr).resolve();return}h(this,Cl)??_(this,Cl,e.lang),Object.assign(h(this,Lc),e.styles),T(this,wa,Aw).call(this,e.items),t()},h(this,dr).reject)};return _(this,Rl,h(this,Dc).getReader()),h(_e,Oc).add(this),t(),h(this,dr).promise}update({viewport:t,onBefore:e=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,Mc)&&(e==null||e(),_(this,Mc,r),io(h(this,Rc),{rotation:r})),s!==h(this,fr)){e==null||e(),_(this,fr,s);const u={div:null,properties:null,ctx:T(l=_e,ri,Hp).call(l,h(this,Cl))};for(const d of h(this,Ml))u.properties=h(this,yd).get(d),u.div=d,T(this,wa,ab).call(this,u)}}cancel(){var e;const t=new ho("TextLayer task cancelled.");(e=h(this,Rl))==null||e.cancel(t).catch(()=>{}),_(this,Rl,null),h(this,dr).reject(t)}get textDivs(){return h(this,Ml)}get textContentItemsStr(){return h(this,md)}static cleanup(){if(!(h(this,Oc).size>0)){h(this,Ll).clear();for(const{canvas:t}of h(this,Dl).values())t.remove();h(this,Dl).clear()}}},dr=new WeakMap,Hn=new WeakMap,dd=new WeakMap,fd=new WeakMap,Cl=new WeakMap,ta=new WeakMap,pd=new WeakMap,gd=new WeakMap,Rl=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,fr=new WeakMap,Lc=new WeakMap,md=new WeakMap,Dc=new WeakMap,Ml=new WeakMap,yd=new WeakMap,vd=new WeakMap,Ll=new WeakMap,Dl=new WeakMap,bd=new WeakMap,pr=new WeakMap,Oc=new WeakMap,wa=new WeakSet,Aw=function(t){var r,l;if(h(this,dd))return;(l=h(this,ta)).ctx??(l.ctx=T(r=_e,ri,Hp).call(r,h(this,Cl)));const e=h(this,Ml),s=h(this,md);for(const u of t){if(e.length>oD){Pt("Ignoring additional textDivs for performance reasons."),_(this,dd,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=h(this,Hn);_(this,Hn,document.createElement("span")),h(this,Hn).classList.add("markedContent"),u.id!==null&&h(this,Hn).setAttribute("id",`${u.id}`),d.append(h(this,Hn))}else u.type==="endMarkedContent"&&_(this,Hn,h(this,Hn).parentNode);continue}s.push(u.str),T(this,wa,Ew).call(this,u)}},Ew=function(t){var w;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Ml).push(e);const r=yt.transform(h(this,vd),t.transform);let l=Math.atan2(r[1],r[0]);const u=h(this,Lc)[t.fontName];u.vertical&&(l+=Math.PI/2);let d=h(this,fd)&&u.fontSubstitution||u.fontFamily;d=_e.fontFamilyMap.get(d)||d;const f=Math.hypot(r[2],r[3]),g=f*T(w=_e,ri,_w).call(w,d,h(this,Cl));let m,v;l===0?(m=r[4],v=r[5]-g):(m=r[4]+g*Math.sin(l),v=r[5]-g*Math.cos(l));const b="calc(var(--scale-factor)*",A=e.style;h(this,Hn)===h(this,Rc)?(A.left=`${(100*m/h(this,gd)).toFixed(2)}%`,A.top=`${(100*v/h(this,pd)).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${v.toFixed(2)}px)`),A.fontSize=`${b}${(h(_e,pr)*f).toFixed(2)}px)`,A.fontFamily=d,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,fd)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);M!==x&&Math.max(M,x)/Math.min(M,x)>1.5&&(S=!0)}if(S&&(s.canvasWidth=u.vertical?t.height:t.width),h(this,yd).set(e,s),h(this,ta).div=e,h(this,ta).properties=s,T(this,wa,ab).call(this,h(this,ta)),s.hasText&&h(this,Hn).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,Hn).append(M)}},ab=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:l}=e;let u="";if(h(_e,pr)>1&&(u=`scale(${1/h(_e,pr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:g,fontSize:m}=s;T(d=_e,ri,rb).call(d,r,m*h(this,fr),f);const{width:v}=r.measureText(e.textContent);v>0&&(u=`scaleX(${g*h(this,fr)/v}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(l.transform=u)},ri=new WeakSet,Hp=function(t=null){let e=h(this,Dl).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Dl).set(t,e),h(this,bd).set(e,{size:0,family:""})}return e},rb=function(t,e,s){const r=h(this,bd).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},Sw=function(){if(h(this,pr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,pr,t.getBoundingClientRect().height),t.remove()},_w=function(t,e){const s=h(this,Ll).get(t);if(s)return s;const r=T(this,ri,Hp).call(this,e);r.canvas.width=r.canvas.height=Pn,T(this,ri,rb).call(this,r,Pn,t);const l=r.measureText("");let u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);if(u){const m=u/(u+d);return h(this,Ll).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Pn,Pn),r.strokeText("g",0,0);let f=r.getImageData(0,0,Pn,Pn).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/Pn);break}r.clearRect(0,0,Pn,Pn),r.strokeText("A",0,Pn),f=r.getImageData(0,0,Pn,Pn).data,u=0;for(let m=0,v=f.length;m<v;m+=4)if(f[m]>0){u=Pn-Math.floor(m/4/Pn);break}r.canvas.width=r.canvas.height=0;const g=u?u/(u+d):cD;return h(this,Ll).set(t,g),g},C(_e,ri),C(_e,Ll,new Map),C(_e,Dl,new Map),C(_e,bd,new WeakMap),C(_e,pr,null),C(_e,Oc,new Set),_e);class zh{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let u=null;const d=l.name;if(d==="#text")u=l.value;else if(zh.shouldBuildText(d))(f=l==null?void 0:l.attributes)!=null&&f.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&e.push({str:u}),!!l.children)for(const g of l.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const uD=65536,hD=100,dD=5e3,fD=En?TL:SL,pD=En?xL:aw,gD=En?wL:_L,mD=En?CL:cw;function yD(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new lb,{docId:e}=t,s=c.url?vD(c.url):null,r=c.data?bD(c.data):null,l=c.httpHeaders||null,u=c.withCredentials===!0,d=c.password??null,f=c.range instanceof ww?c.range:null,g=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:uD;let m=c.worker instanceof lc?c.worker:null;const v=c.verbosity,b=typeof c.docBaseUrl=="string"&&!Ug(c.docBaseUrl)?c.docBaseUrl:null,A=typeof c.cMapUrl=="string"?c.cMapUrl:null,S=c.cMapPacked!==!1,w=c.CMapReaderFactory||pD,M=typeof c.standardFontDataUrl=="string"?c.standardFontDataUrl:null,x=c.StandardFontDataFactory||mD,O=c.stopAtErrors!==!0,k=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,N=c.isEvalSupported!==!1,H=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!En,B=typeof c.isChrome=="boolean"?c.isChrome:!Mn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),Y=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,W=typeof c.disableFontFace=="boolean"?c.disableFontFace:En,G=c.fontExtraProperties===!0,nt=c.enableXfa===!0,at=c.ownerDocument||globalThis.document,St=c.disableRange===!0,ht=c.disableStream===!0,ft=c.disableAutoFetch===!0,gt=c.pdfBug===!0,V=c.CanvasFactory||fD,Z=c.FilterFactory||gD,J=c.enableHWA===!0,_t=f?f.length:c.length??NaN,L=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!En&&!W,U=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:w===aw&&x===cw&&A&&M&&yh(A,document.baseURI)&&yh(M,document.baseURI);c.canvasFactory&&M_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),c.filterFactory&&M_("`filterFactory`-instance option, please use `FilterFactory` instead.");const tt=null;JM(v);const et={canvasFactory:new V({ownerDocument:at,enableHWA:J}),filterFactory:new Z({docId:e,ownerDocument:at}),cMapReaderFactory:U?null:new w({baseUrl:A,isCompressed:S}),standardFontDataFactory:U?null:new x({baseUrl:M})};if(!m){const ct={verbosity:v,port:va.workerPort};m=ct.port?lc.fromPort(ct):new lc(ct),t._worker=m}const it={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:ft,rangeChunkSize:g,length:_t,docBaseUrl:b,enableXfa:nt,evaluatorOptions:{maxImageSize:k,disableFontFace:W,ignoreErrors:O,isEvalSupported:N,isOffscreenCanvasSupported:H,isChrome:B,canvasMaxAreaInBytes:Y,fontExtraProperties:G,useSystemFonts:L,cMapUrl:U?A:null,standardFontDataUrl:U?M:null}},pt={disableFontFace:W,fontExtraProperties:G,ownerDocument:at,pdfBug:gt,styleElement:tt,loadingParams:{disableAutoFetch:ft,enableXfa:nt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ct=m.messageHandler.sendWithPromise("GetDocRequest",it,r?[r.buffer]:null);let ot;if(f)ot=new GL(f,{disableRange:St,disableStream:ht});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let vt;En?vt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&yh(s)?I_:iD:vt=yh(s)?I_:ZL,ot=new vt({url:s,length:_t,httpHeaders:l,withCredentials:u,rangeChunkSize:g,disableRange:St,disableStream:ht})}return ct.then(vt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const kt=new wh(e,vt,m.port),bt=new _D(kt,t,ot,pt,et);t._transport=bt,kt.send("Ready",null)})}).catch(t._capability.reject),t}function vD(c){if(c instanceof URL)return c.href;try{return new URL(c,window.location).href}catch{if(En&&typeof c=="string")return c}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function bD(c){if(En&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return Hg(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function B_(c){return typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0}var _g;const wg=class wg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wn(wg,_g)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_g=new WeakMap,C(wg,_g,0);let lb=wg,ww=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class AD{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var gr,ea,xi,nc,jp;class ED{constructor(t,e,s,r=!1){C(this,xi);C(this,gr,null);C(this,ea,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new R_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new Tw,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new nf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Ja.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:v=!1}){var N,H;(N=this._stats)==null||N.time("Overall");const b=this._transport.getRenderingIntent(s,r,m,v),{renderingIntent:A,cacheKey:S}=b;_(this,ea,!1),T(this,xi,jp).call(this),d||(d=this._transport.getOptionalContentConfig(A));let w=this._intentStates.get(S);w||(w=Object.create(null),this._intentStates.set(S,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(A&si.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(b));const x=B=>{var Y;w.renderTasks.delete(O),(this._maybeCleanupAfterRender||M)&&_(this,ea,!0),T(this,xi,nc).call(this,!M),B?(O.capability.reject(B),this._abortOperatorList({intentState:w,reason:B instanceof Error?B:new Error(B)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Y=globalThis.Stats)!=null&&Y.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new cb({callback:x,params:{canvasContext:t,viewport:e,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(w.renderTasks||(w.renderTasks=new Set)).add(O);const k=O.task;return Promise.all([w.displayReadyCapability.promise,d]).then(([B,Y])=>{var W;if(this.destroyed){x();return}if((W=this._stats)==null||W.time("Rendering"),!(Y.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:B,optionalContentConfig:Y}),O.operatorListChanged()}).catch(x),k}getOperatorList({intent:t="display",annotationMode:e=Ja.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>zh.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function l(){u.read().then(function({value:f,done:g}){if(g){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),l()},r)}const u=e.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,ea,!1),T(this,xi,jp).call(this),Promise.all(t)}cleanup(t=!1){_(this,ea,!0);const e=T(this,xi,nc).call(this,!1);return t&&e&&this._stats&&(this._stats=new R_),e}_startRenderPage(t,e){var r,l;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&T(this,xi,nc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:u}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},u).getReader(),g=this._intentStates.get(e);g.streamReader=f;const m=()=>{f.read().then(({value:v,done:b})=>{if(b){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,g),m())},v=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const b of g.renderTasks)b.operatorListChanged();T(this,xi,nc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(v);else if(g.opListReadCapability)g.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof e0){let r=hD;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new ho(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}gr=new WeakMap,ea=new WeakMap,xi=new WeakSet,nc=function(t=!1){if(T(this,xi,jp).call(this),!h(this,ea)||this.destroyed)return!1;if(t)return _(this,gr,setTimeout(()=>{_(this,gr,null),T(this,xi,nc).call(this,!1)},dD)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,ea,!1),!0},jp=function(){h(this,gr)&&(clearTimeout(h(this,gr)),_(this,gr,null))};var na,Tg;class SD{constructor(){C(this,na,new Map);C(this,Tg,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,Tg).then(()=>{for(const[r]of h(this,na))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Pt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}h(this,na).set(e,r)}removeEventListener(t,e){const s=h(this,na).get(e);s==null||s(),h(this,na).delete(e)}terminate(){for(const[,t]of h(this,na))t==null||t();h(this,na).clear()}}na=new WeakMap,Tg=new WeakMap;var xg,Ol,kl,kc,Up,Nc,Ip;const he=class he{constructor({name:t=null,port:e=null,verbosity:s=tL()}={}){C(this,kc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(he,kl))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(he,kl)||_(he,kl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return En?Promise.all([Rr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new wh("main","worker",t),this._messageHandler.on("ready",function(){}),T(this,kc,Up).call(this)}_initialize(){if(h(he,Ol)||h(he,Nc,Ip)){this._setupFakeWorker();return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location.href,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new wh("main","worker",e),r=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",d=>{if(l.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,T(this,kc,Up).call(this)}),s.on("ready",d=>{if(l.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};u();return}catch{Fg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(he,Ol)||(Pt("Setting up fake worker."),_(he,Ol,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new SD;this._port=e;const s=`fake${wn(he,xg)._++}`,r=new wh(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new wh(s,s+"_worker",e),T(this,kc,Up).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(he,kl))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,kl))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(va.workerSrc)return va.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qt(this,"_setupFakeWorkerGlobal",(async()=>h(this,Nc,Ip)?h(this,Nc,Ip):(await import(this.workerSrc)).WorkerMessageHandler)())}};xg=new WeakMap,Ol=new WeakMap,kl=new WeakMap,kc=new WeakSet,Up=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Nc=new WeakSet,Ip=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},C(he,Nc),C(he,xg,0),C(he,Ol,!1),C(he,kl),En&&(_(he,Ol,!0),va.workerSrc||(va.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let lc=he;var ia,ps,Pc,Fc,gs,Nl,Th;class _D{constructor(t,e,s,r,l){C(this,Nl);C(this,ia,new Map);C(this,ps,new Map);C(this,Pc,new Map);C(this,Fc,new Map);C(this,gs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Tw,this.fontLoader=new AL({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qt(this,"annotationStorage",new a0)}getRenderingIntent(t,e=Ja.ENABLE,s=null,r=!1,l=!1){let u=si.DISPLAY,d=Kv;switch(t){case"any":u=si.ANY;break;case"display":break;case"print":u=si.PRINT;break;default:Pt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&si.PRINT&&s instanceof nw?s:this.annotationStorage;switch(e){case Ja.DISABLE:u+=si.ANNOTATIONS_DISABLE;break;case Ja.ENABLE:break;case Ja.ENABLE_FORMS:u+=si.ANNOTATIONS_FORMS;break;case Ja.ENABLE_STORAGE:u+=si.ANNOTATIONS_STORAGE,d=f.serializable;break;default:Pt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=si.IS_EDITING),l&&(u+=si.OPLIST);const{ids:g,hash:m}=f.modifiedIds,v=[u,d.hash,m];return{renderingIntent:u,cacheKey:v.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,gs))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,ps).values())t.push(r._destroy());h(this,ps).clear(),h(this,Pc).clear(),h(this,Fc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,ia).clear(),this.filterFactory.destroy(),sb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ho("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{qe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){r.close();return}qe(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:u}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{qe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:u,done:d}){if(d){r.close();return}qe(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{l.cancel(u),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new AD(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Cv(s.message,s.code);break;case"InvalidPDFException":r=new R1(s.message);break;case"MissingPDFException":r=new uo(s.message);break;case"UnexpectedResponseException":r=new zg(s.message,s.status);break;case"UnknownErrorException":r=new Rv(s.message,s.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(_(this,gs,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?h(this,gs).reject(l):h(this,gs).resolve({password:l})};try{e.onPassword(r,s.code)}catch(l){h(this,gs).reject(l)}}else h(this,gs).reject(new Cv(s.message,s.code));return h(this,gs).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,ps).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in l){const A=l.error;Pt(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const m=g&&((u=globalThis.FontInspector)!=null&&u.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,v=new EL(l,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(s,v)});break;case"CopyLocalImage":const{imageRef:b}=l;qe(b,"The imageRef must be defined.");for(const A of h(this,ps).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===b)return S.dataLen?(this.commonObjs.resolve(s,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,u])=>{var f;if(this.destroyed)return;const d=h(this,ps).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(l){case"Image":d.objs.resolve(s,u),(u==null?void 0:u.dataLen)>KM&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Pt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,Pc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&h(this,Fc).set(l.refStr,t);const u=new ED(e,l,this,this._params.pdfBug);return h(this,ps).set(e,u),u});return h(this,Pc).set(e,r),r}getPageIndex(t){return B_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return T(this,Nl,Th).call(this,"GetFieldObjects")}hasJSActions(){return T(this,Nl,Th).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return T(this,Nl,Th).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return T(this,Nl,Th).call(this,"GetOptionalContentConfig").then(e=>new qL(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,ia).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,u;return{info:r[0],metadata:r[1]?new IL(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return h(this,ia).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,ps).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,ia).clear(),this.filterFactory.destroy(!0),sb.cleanup()}}cachedPageNumber(t){if(!B_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Fc).get(e)??null}}ia=new WeakMap,ps=new WeakMap,Pc=new WeakMap,Fc=new WeakMap,gs=new WeakMap,Nl=new WeakSet,Th=function(t,e=null){const s=h(this,ia).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,ia).set(t,r),r};const wp=Symbol("INITIAL_DATA");var Ii,Ad,ob;class Tw{constructor(){C(this,Ad);C(this,Ii,Object.create(null))}get(t,e=null){if(e){const r=T(this,Ad,ob).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,Ii)[t];if(!s||s.data===wp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,Ii)[t];return!!e&&e.data!==wp}resolve(t,e=null){const s=T(this,Ad,ob).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,Ii)){const{data:s}=h(this,Ii)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,Ii,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ii)){const{data:e}=h(this,Ii)[t];e!==wp&&(yield[t,e])}}}Ii=new WeakMap,Ad=new WeakSet,ob=function(t){var e;return(e=h(this,Ii))[t]||(e[t]={...Promise.withResolvers(),data:wp})};var mr;class wD{constructor(t){C(this,mr,null);_(this,mr,t),this.onContinue=null}get promise(){return h(this,mr).capability.promise}cancel(t=0){h(this,mr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,mr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,mr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}mr=new WeakMap;var yr,Pl;const rl=class rl{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:b=null}){C(this,yr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new wD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(h(rl,Pl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(rl,Pl).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:u}=this.params;this.gfx=new rc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,yr)&&(window.cancelAnimationFrame(h(this,yr)),_(this,yr,null)),h(rl,Pl).delete(this._canvas),this.callback(t||new e0(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,yr,window.requestAnimationFrame(()=>{_(this,yr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(rl,Pl).delete(this._canvas),this.callback())))}};yr=new WeakMap,Pl=new WeakMap,C(rl,Pl,new WeakSet);let cb=rl;const TD="4.8.69",xD="3634dab10";function q_(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function mh(c){return Math.max(0,Math.min(255,255*c))}class G_{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=mh(t),[t,t,t]}static G_HTML([t]){const e=q_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(mh)}static RGB_HTML(t){return`#${t.map(q_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[mh(1-Math.min(1,t+r)),mh(1-Math.min(1,s+r)),mh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,l=1-e,u=1-s,d=Math.min(r,l,u);return["CMYK",r,l,u,d]}}class CD{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class u0 extends CD{_createSVG(t){return document.createElementNS(Vs,t)}}class xw{static setupStorage(t,e,s,r,l){const u=r.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const d of s.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:l}){const{attributes:u}=e,d=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,g]of Object.entries(u))if(g!=null)switch(f){case"class":g.length&&t.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,g)}d&&l.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){var v,b;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:l,linkService:s});const d=l!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}d&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),d&&zh.shouldBuildText(r.name)&&g.push(A)}return{textDivs:g}}const m=[[r,-1,u]];for(;m.length>0;){const[A,S,w]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:x}=M;if(x==="#text"){const k=document.createTextNode(M.value);g.push(k),w.append(k);continue}const O=(v=M==null?void 0:M.attributes)!=null&&v.xmlns?document.createElementNS(M.attributes.xmlns,x):document.createElement(x);if(w.append(O),M.attributes&&this.setAttributes({html:O,element:M,storage:e,intent:l,linkService:s}),((b=M.children)==null?void 0:b.length)>0)m.push([M,-1,O]);else if(M.value){const k=document.createTextNode(M.value);d&&zh.shouldBuildText(x)&&g.push(k),O.append(k)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const af=1e3,RD=9,ao=new WeakSet;function Aa(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class MD{static create(t){switch(t.data.annotationType){case je.LINK:return new Cw(t);case je.TEXT:return new LD(t);case je.WIDGET:switch(t.data.fieldType){case"Tx":return new DD(t);case"Btn":return t.data.radioButton?new Lw(t):t.data.checkBox?new kD(t):new ND(t);case"Ch":return new PD(t);case"Sig":return new OD(t)}return new fo(t);case je.POPUP:return new hb(t);case je.FREETEXT:return new Pw(t);case je.LINE:return new zD(t);case je.SQUARE:return new HD(t);case je.CIRCLE:return new jD(t);case je.POLYLINE:return new Fw(t);case je.CARET:return new ID(t);case je.INK:return new h0(t);case je.POLYGON:return new UD(t);case je.HIGHLIGHT:return new zw(t);case je.UNDERLINE:return new BD(t);case je.SQUIGGLY:return new qD(t);case je.STRIKEOUT:return new GD(t);case je.STAMP:return new Hw(t);case je.FILEATTACHMENT:return new VD(t);default:return new Re(t)}}}var Fl,zc,Hc,Ed,ub;const g0=class g0{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){C(this,Ed);C(this,Fl,null);C(this,zc,!1);C(this,Hc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return g0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Fl)||_(this,Fl,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&T(this,Ed,ub).call(this,e),(s=h(this,Hc))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Fl)&&(T(this,Ed,ub).call(this,h(this,Fl).rect),(t=h(this,Hc))==null||t.popup.resetEdited(),_(this,Fl,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof fo||(l.tabIndex=af);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof hb){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,l),l}const{width:d,height:f}=Aa(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const O=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;u.borderRadius=O}else if(this instanceof Lw){const O=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=O}switch(e.borderStyle.style){case ph.SOLID:u.borderStyle="solid";break;case ph.DASHED:u.borderStyle="dashed";break;case ph.BEVELED:Pt("Unimplemented border style: beveled");break;case ph.INSET:Pt("Unimplemented border style: inset");break;case ph.UNDERLINE:u.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(_(this,zc,!0),u.borderColor=yt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):u.borderWidth=0}const g=yt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:v,pageX:b,pageY:A}=r.rawDims;u.left=`${100*(g[0]-b)/m}%`,u.top=`${100*(g[1]-A)/v}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(u.width=`${100*d/m}%`,u.height=`${100*f/v}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:u}=Aa(this.data.rect);let d,f;t%180===0?(d=100*l/s,f=100*u/r):(d=100*u/s,f=100*l/r),e.style.width=`${d}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const l=r.detail[e],u=l[0],d=l.slice(1);r.target.style[s]=G_[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:G_[`${u}_rgb`](d)})};return qt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||s[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,l]of Object.entries(e)){const u=s[r];if(u){const d={detail:{[r]:l},target:t};u(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,l]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,x,O]=t.subarray(2,6);if(r===w&&l===M&&e===x&&s===O)return}const{style:u}=this.container;let d;if(h(this,zc)){const{borderColor:w,borderWidth:M}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-e,g=l-s,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=m.createElement("defs");v.append(b);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let w=2,M=t.length;w<M;w+=8){const x=t[w],O=t[w+1],k=t[w+2],N=t[w+3],H=m.createElement("rect"),B=(k-e)/f,Y=(l-O)/g,W=(x-k)/f,G=(O-N)/g;H.setAttribute("x",B),H.setAttribute("y",Y),H.setAttribute("width",W),H.setAttribute("height",G),A.append(H),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${Y}" width="${W}" height="${G}"/>`)}h(this,zc)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=_(this,Hc,new hb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:u,exportValues:d}of r){if(l===-1||u===e)continue;const f=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${u}"]`);if(g&&!ao.has(g)){Pt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,u=r.getAttribute("data-element-id");u!==e&&ao.has(r)&&s.push({id:u,exportValue:l,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Fl=new WeakMap,zc=new WeakMap,Hc=new WeakMap,Ed=new WeakSet,ub=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=Aa(t);e.left=`${100*(t[0]-d)/l}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*g/l}%`,e.height=`${100*m/u}%`):this.setRotation(r)};let Re=g0;var ai,el,Rw,Mw;class Cw extends Re{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});C(this,ai);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(T(this,ai,Rw).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(T(this,ai,Mw).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&T(this,ai,el).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),T(this,ai,el).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const u=r.get(l);u&&(e[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),T(this,ai,el).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),T(this,ai,el).call(this),!this._fieldObjects){Pt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var v;r==null||r();const{fields:l,refs:u,include:d}=s,f=[];if(l.length!==0||u.length!==0){const b=new Set(u);for(const A of l){const S=this._fieldObjects[A]||[];for(const{id:w}of S)b.add(w)}for(const A of Object.values(this._fieldObjects))for(const S of A)b.has(S.id)===d&&f.push(S)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const g=this.annotationStorage,m=[];for(const b of f){const{id:A}=b;switch(m.push(A),b.type){case"text":{const w=b.defaultValue||"";g.setValue(A,{value:w});break}case"checkbox":case"radiobutton":{const w=b.defaultValue===b.exportValues;g.setValue(A,{value:w});break}case"combobox":case"listbox":{const w=b.defaultValue||"";g.setValue(A,{value:w});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!ao.has(S)){Pt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}ai=new WeakSet,el=function(){this.container.setAttribute("data-internal-link","")},Rw=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,r),!1},T(this,ai,el).call(this)},Mw=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),T(this,ai,el).call(this)};class LD extends Re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class fo extends Re{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Mn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,l){s.includes("mouse")?t.addEventListener(s,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{var d;if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u)}}))})}_setEventListeners(t,e,s,r){var l,u,d;for(const[f,g]of s)(g==="Action"||(l=this.data.actions)!=null&&l[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,g,r),g==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":yt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||RD,l=t.style;let u;const d=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(gv*r))||1,v=g/m;u=Math.min(r,f(v/gv))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(r,f(g/gv))}l.fontSize=`calc(${u}px * var(--scale-factor))`,l.color=yt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class DD extends fo{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),l.setValue(u.id,{[r]:s})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let d=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let g=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ao.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=af,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";s.value=m.userValue=A,m.formattedValue=null});let v=b=>{const{formattedValue:A}=m;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var w;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(w){m.userValue=w.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),w.target.value=m.userValue},formattedValue(w){const{formattedValue:M}=w.detail;m.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var k;const{charLimit:M}=w.detail,{target:x}=w;if(M===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",M);let O=m.userValue;!O||O.length<=M||(O=O.slice(0,M),x.value=m.userValue=O,t.setValue(e,{value:O}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),s.addEventListener("keydown",A=>{var M;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:w}=A.target;m.lastCommittedValue!==w&&(m.lastCommittedValue=w,m.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=v;v=null,s.addEventListener("blur",A=>{var w,M;if(!m.focused||!A.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",A=>{var H;m.lastCommittedValue=null;const{data:S,target:w}=A,{value:M,selectionStart:x,selectionEnd:O}=w;let k=x,N=O;switch(A.inputType){case"deleteWordBackward":{const B=M.substring(0,x).match(/\w*[^\w]*$/);B&&(k-=B[0].length);break}case"deleteWordForward":{const B=M.substring(x).match(/^[^\w]*\w*/);B&&(N+=B[0].length);break}case"deleteContentBackward":x===O&&(k-=1);break;case"deleteContentForward":x===O&&(N+=1);break}A.preventDefault(),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:k,selEnd:N}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&s.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class OD extends fo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class kD extends fo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return ao.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=af,l.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,s)){const m=f&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:f})}),l.addEventListener("resetform",u=>{const d=e.defaultFieldValue||"Off";u.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class Lw extends fo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const l=document.createElement("input");if(ao.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=af,l.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",u=>{const d=e.defaultFieldValue;u.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;l.addEventListener("updatefromsandbox",d=>{const f={value:g=>{const m=u===g.detail.value;for(const v of this._getElementsByName(g.target.name)){const b=m&&v.id===s;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class ND extends Cw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class PD extends fo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ao.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=af;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,s.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),l=!1),r.append(v)}let u=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),u=()=>{m.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const d=m=>{const v=m?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let f=d(!1);const g=m=>{const v=m.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const v={value(b){u==null||u();const A=b.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const w of r.options)w.selected=S.has(w.value);t.setValue(e,{value:d(!0)}),f=d(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,S=b.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:d(!0),items:g(b)}),f=d(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=d(!1)},insert(b){const{index:A,displayValue:S,exportValue:w}=b.detail.insert,M=r.children[A],x=document.createElement("option");x.textContent=S,x.value=w,M?M.before(x):r.append(x),t.setValue(e,{value:d(!0),items:g(b)}),f=d(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:w,exportValue:M}=S,x=document.createElement("option");x.textContent=w,x.value=M,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(b)}),f=d(!1)},indices(b){const A=new Set(b.detail.indices);for(const S of b.target.options)S.selected=A.has(S.index);t.setValue(e,{value:d(!0)}),f=d(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,m)}),r.addEventListener("input",m=>{var A;const v=d(!0),b=d(!1);t.setValue(e,{value:v}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hb extends Re{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Re._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new FD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${t0}${s}`).join(",")),this.container}}var jc,Cg,Rg,Uc,zl,Se,sa,Ic,Sd,_d,Bc,aa,Bi,ra,wd,la,Td,Hl,jl,ee,Bp,db,Dw,Ow,kw,Nw,qp,Gp,fb;class FD{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:l,contentsObj:u,richText:d,parent:f,rect:g,parentRect:m,open:v}){C(this,ee);C(this,jc,T(this,ee,kw).bind(this));C(this,Cg,T(this,ee,fb).bind(this));C(this,Rg,T(this,ee,Gp).bind(this));C(this,Uc,T(this,ee,qp).bind(this));C(this,zl,null);C(this,Se,null);C(this,sa,null);C(this,Ic,null);C(this,Sd,null);C(this,_d,null);C(this,Bc,null);C(this,aa,!1);C(this,Bi,null);C(this,ra,null);C(this,wd,null);C(this,la,null);C(this,Td,null);C(this,Hl,null);C(this,jl,!1);var b;_(this,Se,t),_(this,Td,r),_(this,sa,u),_(this,la,d),_(this,_d,f),_(this,zl,e),_(this,wd,g),_(this,Bc,m),_(this,Sd,s),_(this,Ic,i0.toDateObject(l)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",h(this,Uc)),A.addEventListener("mouseenter",h(this,Rg)),A.addEventListener("mouseleave",h(this,Cg)),A.classList.add("popupTriggerArea");for(const A of s)(b=A.container)==null||b.addEventListener("keydown",h(this,jc));h(this,Se).hidden=!0,v&&T(this,ee,qp).call(this)}render(){if(h(this,Bi))return;const t=_(this,Bi,document.createElement("div"));if(t.className="popup",h(this,zl)){const l=t.style.outlineColor=yt.makeHexColor(...h(this,zl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=yt.makeHexColor(...h(this,zl).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,Td),t.append(e),h(this,Ic)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Ic).valueOf()})),e.append(l)}const r=h(this,ee,Bp);if(r)xw.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(h(this,sa));t.append(l)}h(this,Se).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,u=r.length;l<u;++l){const d=r[l];s.append(document.createTextNode(d)),l<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,Hl)||_(this,Hl,{contentsObj:h(this,sa),richText:h(this,la)}),t&&_(this,ra,null),e&&(_(this,la,T(this,ee,Ow).call(this,e)),_(this,sa,null)),(s=h(this,Bi))==null||s.remove(),_(this,Bi,null)}resetEdited(){var t;h(this,Hl)&&({contentsObj:wn(this,sa)._,richText:wn(this,la)._}=h(this,Hl),_(this,Hl,null),(t=h(this,Bi))==null||t.remove(),_(this,Bi,null),_(this,ra,null))}forceHide(){_(this,jl,this.isVisible),h(this,jl)&&(h(this,Se).hidden=!0)}maybeShow(){h(this,jl)&&(h(this,Bi)||T(this,ee,Gp).call(this),_(this,jl,!1),h(this,Se).hidden=!1)}get isVisible(){return h(this,Se).hidden===!1}}jc=new WeakMap,Cg=new WeakMap,Rg=new WeakMap,Uc=new WeakMap,zl=new WeakMap,Se=new WeakMap,sa=new WeakMap,Ic=new WeakMap,Sd=new WeakMap,_d=new WeakMap,Bc=new WeakMap,aa=new WeakMap,Bi=new WeakMap,ra=new WeakMap,wd=new WeakMap,la=new WeakMap,Td=new WeakMap,Hl=new WeakMap,jl=new WeakMap,ee=new WeakSet,Bp=function(){const t=h(this,la),e=h(this,sa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,la).html||null},db=function(){var t,e,s;return((s=(e=(t=h(this,ee,Bp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},Dw=function(){var t,e,s;return((s=(e=(t=h(this,ee,Bp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},Ow=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ee,Dw),fontSize:h(this,ee,db)?`calc(${h(this,ee,db)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return s},kw=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,aa))&&T(this,ee,qp).call(this)},Nw=function(){if(h(this,ra)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:l}}}=h(this,_d);let u=!!h(this,Bc),d=u?h(this,Bc):h(this,wd);for(const S of h(this,Sd))if(!d||yt.intersect(S.data.rect,d)!==null){d=S.data.rect,u=!0;break}const f=yt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=u?d[2]-d[0]+5:0,v=f[0]+m,b=f[1];_(this,ra,[100*(v-r)/e,100*(b-l)/s]);const{style:A}=h(this,Se);A.left=`${h(this,ra)[0]}%`,A.top=`${h(this,ra)[1]}%`},qp=function(){_(this,aa,!h(this,aa)),h(this,aa)?(T(this,ee,Gp).call(this),h(this,Se).addEventListener("click",h(this,Uc)),h(this,Se).addEventListener("keydown",h(this,jc))):(T(this,ee,fb).call(this),h(this,Se).removeEventListener("click",h(this,Uc)),h(this,Se).removeEventListener("keydown",h(this,jc)))},Gp=function(){h(this,Bi)||this.render(),this.isVisible?h(this,aa)&&h(this,Se).classList.add("focused"):(T(this,ee,Nw).call(this),h(this,Se).hidden=!1,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)+1e3)},fb=function(){h(this,Se).classList.remove("focused"),!(h(this,aa)||!this.isVisible)&&(h(this,Se).hidden=!0,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)-1e3)};class Pw extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xd;class zD extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,xd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),l=this.svgFactory.create(s,r,!0),u=_(this,xd,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}xd=new WeakMap;var Cd;class HD extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Cd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),l=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,Cd,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",s-u),d.setAttribute("height",r-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cd=new WeakMap;var Rd;class jD extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Rd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),l=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,Rd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-u/2),d.setAttribute("ry",r/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Rd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rd=new WeakMap;var Md;class Fw extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Md,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:l}}=this;if(!s)return this.container;const{width:u,height:d}=Aa(e),f=this.svgFactory.create(u,d,!0);let g=[];for(let v=0,b=s.length;v<b;v+=2){const A=s[v]-e[0],S=e[3]-s[v+1];g.push(`${A},${S}`)}g=g.join(" ");const m=_(this,Md,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Md)}addHighlightArea(){this.container.classList.add("highlightArea")}}Md=new WeakMap;class UD extends Fw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ID extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ld;class h0 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Ld,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Dt.HIGHLIGHT:Dt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:l}}=this,{width:u,height:d}=Aa(e),f=this.svgFactory.create(u,d,!0);for(const g of s){let m=[];for(let b=0,A=g.length;b<A;b+=2){const S=g[b]-e[0],w=e[3]-g[b+1];m.push(`${S},${w}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);h(this,Ld).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ld=new WeakMap;class zw extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Dt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class BD extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class qD extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GD extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Hw extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Dd,Od,pb;class VD extends Re{constructor(e){var r;super(e,{isRenderable:!0});C(this,Od);C(this,Dd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",T(this,Od,pb).bind(this)),_(this,Dd,r);const{isMac:l}=Mn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(l?u.metaKey:u.ctrlKey)&&T(this,Od,pb).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dd=new WeakMap,Od=new WeakSet,pb=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var kd,Ul,Il,Nd,lo,jw,gb,s1;let YD=(s1=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:u,structTreeLayer:d}){C(this,lo);C(this,kd,null);C(this,Ul,null);C(this,Il,new Map);C(this,Nd,null);this.div=t,_(this,kd,e),_(this,Ul,s),_(this,Nd,d||null),this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Il).size>0}async render(t){var u;const{annotations:e}=t,s=this.div;io(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new u0,annotationStorage:t.annotationStorage||new a0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===je.POPUP;if(f){const v=r.get(d.id);if(!v)continue;l.elements=v}else{const{width:v,height:b}=Aa(d.rect);if(v<=0||b<=0)continue}l.data=d;const g=MD.create(l);if(!g.isRenderable)continue;if(!f&&d.popupRef){const v=r.get(d.popupRef);v?v.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await T(this,lo,jw).call(this,m,d.id),g._isEditable&&(h(this,Il).set(g.data.id,g),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(g))}T(this,lo,gb).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,io(e,{rotation:t.rotation}),T(this,lo,gb).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Il).values())}getEditableAnnotation(t){return h(this,Il).get(t)}},kd=new WeakMap,Ul=new WeakMap,Il=new WeakMap,Nd=new WeakMap,lo=new WeakSet,jw=async function(t,e){var u,d;const s=t.firstChild||t,r=s.id=`${t0}${e}`,l=await((u=h(this,Nd))==null?void 0:u.getAriaAttributes(r));if(l)for(const[f,g]of l)s.setAttribute(f,g);this.div.append(t),(d=h(this,kd))==null||d.moveElementInDOM(this.div,t,s,!1)},gb=function(){if(!h(this,Ul))return;const t=this.div;for(const[e,s]of h(this,Ul)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}h(this,Ul).clear()},s1);const Tp=/\r\n?|\n/g;var qi,Zn,Pd,Bl,Jn,Ne,Uw,Iw,Bw,Vp,Sa,Yp,Xp,qw,yb,Gw;const re=class re extends Qt{constructor(e){super({...e,name:"freeTextEditor"});C(this,Ne);C(this,qi);C(this,Zn,"");C(this,Pd,`${this.id}-editor`);C(this,Bl,null);C(this,Jn);_(this,qi,e.color||re._defaultColor||Qt._defaultLineColor),_(this,Jn,e.fontSize||re._defaultFontSize)}static get _keyboardManager(){const e=re.prototype,s=u=>u.isEmpty(),r=so.TRANSLATE_SMALL,l=so.TRANSLATE_BIG;return qt(this,"_keyboardManager",new sf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(e,s){Qt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case xt.FREETEXT_SIZE:re._defaultFontSize=s;break;case xt.FREETEXT_COLOR:re._defaultColor=s;break}}updateParams(e,s){switch(e){case xt.FREETEXT_SIZE:T(this,Ne,Uw).call(this,s);break;case xt.FREETEXT_COLOR:T(this,Ne,Iw).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.FREETEXT_SIZE,re._defaultFontSize],[xt.FREETEXT_COLOR,re._defaultColor||Qt._defaultLineColor]]}get propertiesToUpdate(){return[[xt.FREETEXT_SIZE,h(this,Jn)],[xt.FREETEXT_COLOR,h(this,qi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-re._internalPadding*e,-(re._internalPadding+h(this,Jn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Dt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Bl,new AbortController);const e=this._uiManager.combinedSignal(h(this,Bl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Pd)),this._isDraggable=!0,(e=h(this,Bl))==null||e.abort(),_(this,Bl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Zn),s=_(this,Zn,T(this,Ne,Bw).call(this).trimEnd());if(e===s)return;const r=l=>{if(_(this,Zn,l),!l){this.remove();return}T(this,Ne,Xp).call(this),this._uiManager.rebuild(this),T(this,Ne,Vp).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),T(this,Ne,Vp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){re._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Pd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Jn)}px * var(--scale-factor))`,r.color=h(this,qi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),cg(this,this.div,["dblclick","keydown"]),this.width){const[l,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[m,v]=this.pageDimensions,[b,A]=this.pageTranslation;let S,w;switch(this.rotation){case 0:S=e+(d[0]-b)/m,w=s+this.height-(d[1]-A)/v;break;case 90:S=e+(d[0]-b)/m,w=s-(d[1]-A)/v,[f,g]=[g,-f];break;case 180:S=e-this.width+(d[0]-b)/m,w=s-(d[1]-A)/v,[f,g]=[-f,-g];break;case 270:S=e+(d[0]-b-this.height*v)/m,w=s+(d[1]-A-this.width*m)/v,[f,g]=[-g,f];break}this.setAt(S*l,w*u,f,g)}else this.setAt(e*l,s*u,this.width*l,this.height*u);T(this,Ne,Xp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,w,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=T(S=re,Sa,yb).call(S,s.getData("text")||"").replaceAll(Tp,`
`);if(!l)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!l.includes(`
`)){d.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:g}=d,m=[],v=[];if(f.nodeType===Node.TEXT_NODE){const x=f.parentElement;if(v.push(f.nodeValue.slice(g).replaceAll(Tp,"")),x!==this.editorDiv){let O=m;for(const k of this.editorDiv.childNodes){if(k===x){O=v;continue}O.push(T(w=re,Sa,Yp).call(w,k))}}m.push(f.nodeValue.slice(0,g).replaceAll(Tp,""))}else if(f===this.editorDiv){let x=m,O=0;for(const k of this.editorDiv.childNodes)O++===g&&(x=v),x.push(T(M=re,Sa,Yp).call(M,k))}_(this,Zn,`${m.join(`
`)}${l}${v.join(`
`)}`),T(this,Ne,Xp).call(this);const b=new Range;let A=m.reduce((x,O)=>x+O.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const O=x.nodeValue.length;if(A<=O){b.setStart(x,A),b.setEnd(x,A);break}A-=O}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let l=null;if(e instanceof Pw){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:m,rotation:v,id:b,popupRef:A},textContent:S,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!S||S.length===0)return null;l=e={annotationType:Dt.FREETEXT,color:Array.from(g),fontSize:f,value:S.join(`
`),position:w,pageIndex:M-1,rect:m.slice(0),rotation:v,id:b,deleted:!1,popupRef:A}}const u=await super.deserialize(e,s,r);return _(u,Jn,e.fontSize),_(u,qi,yt.makeHexColor(...e.color)),_(u,Zn,T(d=re,Sa,yb).call(d,e.value)),u.annotationElementId=e.id||null,u._initialData=l,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=re._internalPadding*this.parentScale,r=this.getRect(s,s),l=Qt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,qi)),u={annotationType:Dt.FREETEXT,color:l,fontSize:h(this,Jn),value:T(this,Ne,qw).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!T(this,Ne,Gw).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,Jn)}px * var(--scale-factor))`,r.color=h(this,qi),s.replaceChildren();for(const u of h(this,Zn).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),s.append(d)}const l=re._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:h(this,Zn)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};qi=new WeakMap,Zn=new WeakMap,Pd=new WeakMap,Bl=new WeakMap,Jn=new WeakMap,Ne=new WeakSet,Uw=function(e){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-h(this,Jn))*this.parentScale),_(this,Jn,l),T(this,Ne,Vp).call(this)},r=h(this,Jn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Iw=function(e){const s=l=>{_(this,qi,this.editorDiv.style.color=l)},r=h(this,qi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Bw=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(T(r=re,Sa,Yp).call(r,l)),s=l);return e.join(`
`)},Vp=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",l.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},Sa=new WeakSet,Yp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Tp,"")},Xp=function(){if(this.editorDiv.replaceChildren(),!!h(this,Zn))for(const e of h(this,Zn).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},qw=function(){return h(this,Zn).replaceAll(""," ")},yb=function(e){return e.replaceAll(" ","")},Gw=function(e){const{value:s,fontSize:r,color:l,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,f)=>d!==l[f])||e.pageIndex!==u},C(re,Sa),Tt(re,"_freeTextDefaultContent",""),Tt(re,"_internalPadding",0),Tt(re,"_defaultColor",null),Tt(re,"_defaultFontSize",10),Tt(re,"_type","freetext"),Tt(re,"_editorType",Dt.FREETEXT);let mb=re;class Vw{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ti,Gi,qc,Gc,ms,jt,ql,Gl,Fd,zd,Vc,Yc,vr,Hd,Mg,Lg,Ge,xh,Yw,Xw,$w,Kw,Ww,Qw;const Xs=class Xs{constructor({x:t,y:e},s,r,l,u,d=0){C(this,Ge);C(this,ti);C(this,Gi,[]);C(this,qc);C(this,Gc);C(this,ms,[]);C(this,jt,new Float64Array(18));C(this,ql);C(this,Gl);C(this,Fd);C(this,zd);C(this,Vc);C(this,Yc);C(this,vr,[]);_(this,ti,s),_(this,Yc,l*r),_(this,Gc,u),h(this,jt).set([NaN,NaN,NaN,NaN,t,e],6),_(this,qc,d),_(this,zd,h(Xs,Hd)*r),_(this,Fd,h(Xs,Lg)*r),_(this,Vc,r),h(this,vr).push(t,e)}isEmpty(){return isNaN(h(this,jt)[8])}add({x:t,y:e}){var G;_(this,ql,t),_(this,Gl,e);const[s,r,l,u]=h(this,ti);let[d,f,g,m]=h(this,jt).subarray(8,12);const v=t-g,b=e-m,A=Math.hypot(v,b);if(A<h(this,Fd))return!1;const S=A-h(this,zd),w=S/A,M=w*v,x=w*b;let O=d,k=f;d=g,f=m,g+=M,m+=x,(G=h(this,vr))==null||G.push(t,e);const N=-x/S,H=M/S,B=N*h(this,Yc),Y=H*h(this,Yc);return h(this,jt).set(h(this,jt).subarray(2,8),0),h(this,jt).set([g+B,m+Y],4),h(this,jt).set(h(this,jt).subarray(14,18),12),h(this,jt).set([g-B,m-Y],16),isNaN(h(this,jt)[6])?(h(this,ms).length===0&&(h(this,jt).set([d+B,f+Y],2),h(this,ms).push(NaN,NaN,NaN,NaN,(d+B-s)/l,(f+Y-r)/u),h(this,jt).set([d-B,f-Y],14),h(this,Gi).push(NaN,NaN,NaN,NaN,(d-B-s)/l,(f-Y-r)/u)),h(this,jt).set([O,k,d,f,g,m],6),!this.isEmpty()):(h(this,jt).set([O,k,d,f,g,m],6),Math.abs(Math.atan2(k-f,O-d)-Math.atan2(x,M))<Math.PI/2?([d,f,g,m]=h(this,jt).subarray(2,6),h(this,ms).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/l,((f+m)/2-r)/u),[d,f,O,k]=h(this,jt).subarray(14,18),h(this,Gi).push(NaN,NaN,NaN,NaN,((O+d)/2-s)/l,((k+f)/2-r)/u),!0):([O,k,d,f,g,m]=h(this,jt).subarray(0,6),h(this,ms).push(((O+5*d)/6-s)/l,((k+5*f)/6-r)/u,((5*d+g)/6-s)/l,((5*f+m)/6-r)/u,((d+g)/2-s)/l,((f+m)/2-r)/u),[g,m,d,f,O,k]=h(this,jt).subarray(12,18),h(this,Gi).push(((O+5*d)/6-s)/l,((k+5*f)/6-r)/u,((5*d+g)/6-s)/l,((5*f+m)/6-r)/u,((d+g)/2-s)/l,((f+m)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,ms),e=h(this,Gi);if(isNaN(h(this,jt)[6])&&!this.isEmpty())return T(this,Ge,Yw).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);T(this,Ge,$w).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return T(this,Ge,Xw).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,l,u){return new Zw(t,e,s,r,l,u)}getOutlines(){var v;const t=h(this,ms),e=h(this,Gi),s=h(this,jt),[r,l,u,d]=h(this,ti),f=new Float64Array((((v=h(this,vr))==null?void 0:v.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(h(this,vr)[b]-r)/u,f[b+1]=(h(this,vr)[b+1]-l)/d;if(f[f.length-2]=(h(this,ql)-r)/u,f[f.length-1]=(h(this,Gl)-l)/d,isNaN(s[6])&&!this.isEmpty())return T(this,Ge,Kw).call(this,f);const g=new Float64Array(h(this,ms).length+24+h(this,Gi).length);let m=t.length;for(let b=0;b<m;b+=2){if(isNaN(t[b])){g[b]=g[b+1]=NaN;continue}g[b]=t[b],g[b+1]=t[b+1]}m=T(this,Ge,Qw).call(this,g,m);for(let b=e.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(e[b+A])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[b+A],g[m+1]=e[b+A+1],m+=2}return T(this,Ge,Ww).call(this,g,m),this.newFreeDrawOutline(g,f,h(this,ti),h(this,Vc),h(this,qc),h(this,Gc))}};ti=new WeakMap,Gi=new WeakMap,qc=new WeakMap,Gc=new WeakMap,ms=new WeakMap,jt=new WeakMap,ql=new WeakMap,Gl=new WeakMap,Fd=new WeakMap,zd=new WeakMap,Vc=new WeakMap,Yc=new WeakMap,vr=new WeakMap,Hd=new WeakMap,Mg=new WeakMap,Lg=new WeakMap,Ge=new WeakSet,xh=function(){const t=h(this,jt).subarray(4,6),e=h(this,jt).subarray(16,18),[s,r,l,u]=h(this,ti);return[(h(this,ql)+(t[0]-e[0])/2-s)/l,(h(this,Gl)+(t[1]-e[1])/2-r)/u,(h(this,ql)+(e[0]-t[0])/2-s)/l,(h(this,Gl)+(e[1]-t[1])/2-r)/u]},Yw=function(){const[t,e,s,r]=h(this,ti),[l,u,d,f]=T(this,Ge,xh).call(this);return`M${(h(this,jt)[2]-t)/s} ${(h(this,jt)[3]-e)/r} L${(h(this,jt)[4]-t)/s} ${(h(this,jt)[5]-e)/r} L${l} ${u} L${d} ${f} L${(h(this,jt)[16]-t)/s} ${(h(this,jt)[17]-e)/r} L${(h(this,jt)[14]-t)/s} ${(h(this,jt)[15]-e)/r} Z`},Xw=function(t){const e=h(this,Gi);t.push(`L${e[4]} ${e[5]} Z`)},$w=function(t){const[e,s,r,l]=h(this,ti),u=h(this,jt).subarray(4,6),d=h(this,jt).subarray(16,18),[f,g,m,v]=T(this,Ge,xh).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-s)/l} L${f} ${g} L${m} ${v} L${(d[0]-e)/r} ${(d[1]-s)/l}`)},Kw=function(t){const e=h(this,jt),[s,r,l,u]=h(this,ti),[d,f,g,m]=T(this,Ge,xh).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-r)/u],0),this.newFreeDrawOutline(v,t,h(this,ti),h(this,Vc),h(this,qc),h(this,Gc))},Ww=function(t,e){const s=h(this,Gi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},Qw=function(t,e){const s=h(this,jt).subarray(4,6),r=h(this,jt).subarray(16,18),[l,u,d,f]=h(this,ti),[g,m,v,b]=T(this,Ge,xh).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/d,(s[1]-u)/f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(r[0]-l)/d,(r[1]-u)/f],e),e+=24},C(Xs,Hd,8),C(Xs,Mg,2),C(Xs,Lg,h(Xs,Hd)+h(Xs,Mg));let hg=Xs;var Xc,Vl,oa,jd,ei,Ud,Ce,In,Ch,Rh,Jw;class Zw extends Vw{constructor(e,s,r,l,u,d){super();C(this,In);C(this,Xc);C(this,Vl,null);C(this,oa);C(this,jd);C(this,ei);C(this,Ud);C(this,Ce);_(this,Ce,e),_(this,ei,s),_(this,Xc,r),_(this,Ud,l),_(this,oa,u),_(this,jd,d),T(this,In,Jw).call(this,d);const{x:f,y:g,width:m,height:v}=h(this,Vl);for(let b=0,A=e.length;b<A;b+=2)e[b]=(e[b]-f)/m,e[b+1]=(e[b+1]-g)/v;for(let b=0,A=s.length;b<A;b+=2)s[b]=(s[b]-f)/m,s[b+1]=(s[b+1]-g)/v}toSVGPath(){const e=[`M${h(this,Ce)[4]} ${h(this,Ce)[5]}`];for(let s=6,r=h(this,Ce).length;s<r;s+=6){if(isNaN(h(this,Ce)[s])){e.push(`L${h(this,Ce)[s+4]} ${h(this,Ce)[s+5]}`);continue}e.push(`C${h(this,Ce)[s]} ${h(this,Ce)[s+1]} ${h(this,Ce)[s+2]} ${h(this,Ce)[s+3]} ${h(this,Ce)[s+4]} ${h(this,Ce)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,l],u){const d=r-e,f=l-s;let g,m;switch(u){case 0:g=T(this,In,Ch).call(this,h(this,Ce),e,l,d,-f),m=T(this,In,Ch).call(this,h(this,ei),e,l,d,-f);break;case 90:g=T(this,In,Rh).call(this,h(this,Ce),e,s,d,f),m=T(this,In,Rh).call(this,h(this,ei),e,s,d,f);break;case 180:g=T(this,In,Ch).call(this,h(this,Ce),r,s,-d,f),m=T(this,In,Ch).call(this,h(this,ei),r,s,-d,f);break;case 270:g=T(this,In,Rh).call(this,h(this,Ce),r,l,-d,-f),m=T(this,In,Rh).call(this,h(this,ei),r,l,-d,-f);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return h(this,Vl)}newOutliner(e,s,r,l,u,d=0){return new hg(e,s,r,l,u,d)}getNewOutline(e,s){const{x:r,y:l,width:u,height:d}=h(this,Vl),[f,g,m,v]=h(this,Xc),b=u*m,A=d*v,S=r*m+f,w=l*v+g,M=this.newOutliner({x:h(this,ei)[0]*b+S,y:h(this,ei)[1]*A+w},h(this,Xc),h(this,Ud),e,h(this,jd),s??h(this,oa));for(let x=2;x<h(this,ei).length;x+=2)M.add({x:h(this,ei)[x]*b+S,y:h(this,ei)[x+1]*A+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Xc=new WeakMap,Vl=new WeakMap,oa=new WeakMap,jd=new WeakMap,ei=new WeakMap,Ud=new WeakMap,Ce=new WeakMap,In=new WeakSet,Ch=function(e,s,r,l,u){const d=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)d[f]=s+e[f]*l,d[f+1]=r+e[f+1]*u;return d},Rh=function(e,s,r,l,u){const d=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)d[f]=s+e[f+1]*l,d[f+1]=r+e[f]*u;return d},Jw=function(e){const s=h(this,Ce);let r=s[4],l=s[5],u=r,d=l,f=r,g=l,m=r,v=l;const b=e?Math.max:Math.min;for(let x=6,O=s.length;x<O;x+=6){if(isNaN(s[x]))u=Math.min(u,s[x+4]),d=Math.min(d,s[x+5]),f=Math.max(f,s[x+4]),g=Math.max(g,s[x+5]),v<s[x+5]?(m=s[x+4],v=s[x+5]):v===s[x+5]&&(m=b(m,s[x+4]));else{const k=yt.bezierBoundingBox(r,l,...s.slice(x,x+6));u=Math.min(u,k[0]),d=Math.min(d,k[1]),f=Math.max(f,k[2]),g=Math.max(g,k[3]),v<k[3]?(m=k[2],v=k[3]):v===k[3]&&(m=b(m,k[2]))}r=s[x+4],l=s[x+5]}const A=u-h(this,oa),S=d-h(this,oa),w=f-u+2*h(this,oa),M=g-d+2*h(this,oa);_(this,Vl,{x:A,y:S,width:w,height:M,lastPoint:[m,v]})};var Id,br,Vi,Dn,tT,$p,eT,nT,vb;class V_{constructor(t,e=0,s=0,r=!0){C(this,Dn);C(this,Id);C(this,br,[]);C(this,Vi,[]);let l=1/0,u=-1/0,d=1/0,f=-1/0;const g=10**-4;for(const{x:M,y:x,width:O,height:k}of t){const N=Math.floor((M-e)/g)*g,H=Math.ceil((M+O+e)/g)*g,B=Math.floor((x-e)/g)*g,Y=Math.ceil((x+k+e)/g)*g,W=[N,B,Y,!0],G=[H,B,Y,!1];h(this,br).push(W,G),l=Math.min(l,N),u=Math.max(u,H),d=Math.min(d,B),f=Math.max(f,Y)}const m=u-l+2*s,v=f-d+2*s,b=l-s,A=d-s,S=h(this,br).at(r?-1:-2),w=[S[0],S[2]];for(const M of h(this,br)){const[x,O,k]=M;M[0]=(x-b)/m,M[1]=(O-A)/v,M[2]=(k-A)/v}_(this,Id,{x:b,y:A,width:m,height:v,lastPoint:w})}getOutlines(){h(this,br).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,br))e[3]?(t.push(...T(this,Dn,vb).call(this,e)),T(this,Dn,eT).call(this,e)):(T(this,Dn,nT).call(this,e),t.push(...T(this,Dn,vb).call(this,e)));return T(this,Dn,tT).call(this,t)}}Id=new WeakMap,br=new WeakMap,Vi=new WeakMap,Dn=new WeakSet,tT=function(t){const e=[],s=new Set;for(const u of t){const[d,f,g]=u;e.push([d,f,u],[d,g,u])}e.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=e.length;u<d;u+=2){const f=e[u][2],g=e[u+1][2];f.push(g),g.push(f),s.add(f),s.add(g)}const r=[];let l;for(;s.size>0;){const u=s.values().next().value;let[d,f,g,m,v]=u;s.delete(u);let b=d,A=f;for(l=[d,g],r.push(l);;){let S;if(s.has(m))S=m;else if(s.has(v))S=v;else break;s.delete(S),[d,f,g,m,v]=S,b!==d&&(l.push(b,A,d,A===f?f:g),b=d),A=A===f?g:f}l.push(b,A)}return new XD(r,h(this,Id))},$p=function(t){const e=h(this,Vi);let s=0,r=e.length-1;for(;s<=r;){const l=s+r>>1,u=e[l][0];if(u===t)return l;u<t?s=l+1:r=l-1}return r+1},eT=function([,t,e]){const s=T(this,Dn,$p).call(this,t);h(this,Vi).splice(s,0,[t,e])},nT=function([,t,e]){const s=T(this,Dn,$p).call(this,t);for(let r=s;r<h(this,Vi).length;r++){const[l,u]=h(this,Vi)[r];if(l!==t)break;if(l===t&&u===e){h(this,Vi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,u]=h(this,Vi)[r];if(l!==t)break;if(l===t&&u===e){h(this,Vi).splice(r,1);return}}},vb=function(t){const[e,s,r]=t,l=[[e,s,r]],u=T(this,Dn,$p).call(this,r);for(let d=0;d<u;d++){const[f,g]=h(this,Vi)[d];for(let m=0,v=l.length;m<v;m++){const[,b,A]=l[m];if(!(g<=b||A<=f)){if(b>=f){if(A>g)l[m][1]=g;else{if(v===1)return[];l.splice(m,1),m--,v--}continue}l[m][2]=f,A>g&&l.push([e,g,A])}}}return l};var Bd,$c;class XD extends Vw{constructor(e,s){super();C(this,Bd);C(this,$c);_(this,$c,e),_(this,Bd,s)}toSVGPath(){const e=[];for(const s of h(this,$c)){let[r,l]=s;e.push(`M${r} ${l}`);for(let u=2;u<s.length;u+=2){const d=s[u],f=s[u+1];d===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,l],u){const d=[],f=r-e,g=l-s;for(const m of h(this,$c)){const v=new Array(m.length);for(let b=0;b<m.length;b+=2)v[b]=e+m[b]*f,v[b+1]=l-m[b+1]*g;d.push(v)}return d}get box(){return h(this,Bd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Bd=new WeakMap,$c=new WeakMap;class bb extends hg{newFreeDrawOutline(t,e,s,r,l,u){return new $D(t,e,s,r,l,u)}get classNamesForDrawing(){return["highlight","free"]}}class $D extends Zw{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,l,u=0){return new bb(t,e,s,r,l,u)}}var Yi,Yl,Kc,Ie,qd,Wc,Gd,Vd,Ar,Xi,Qc,Yd,te,Ab,Eb,Sb,nl,iT,Za;const Fn=class Fn{constructor({editor:t=null,uiManager:e=null}){C(this,te);C(this,Yi,null);C(this,Yl,null);C(this,Kc);C(this,Ie,null);C(this,qd,!1);C(this,Wc,!1);C(this,Gd,null);C(this,Vd);C(this,Ar,null);C(this,Xi,null);C(this,Qc);var s;t?(_(this,Wc,!1),_(this,Qc,xt.HIGHLIGHT_COLOR),_(this,Gd,t)):(_(this,Wc,!0),_(this,Qc,xt.HIGHLIGHT_DEFAULT_COLOR)),_(this,Xi,(t==null?void 0:t._uiManager)||e),_(this,Vd,h(this,Xi)._eventBus),_(this,Kc,(t==null?void 0:t.color)||((s=h(this,Xi))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(Fn,Yd)||_(Fn,Yd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qt(this,"_keyboardManager",new sf([[["Escape","mac+Escape"],Fn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Fn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Fn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Fn.prototype._moveToPrevious],[["Home","mac+Home"],Fn.prototype._moveToBeginning],[["End","mac+End"],Fn.prototype._moveToEnd]]))}renderButton(){const t=_(this,Yi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Xi)._signal;t.addEventListener("click",T(this,te,nl).bind(this),{signal:e}),t.addEventListener("keydown",T(this,te,Sb).bind(this),{signal:e});const s=_(this,Yl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,Kc),t.append(s),t}renderMainDropdown(){const t=_(this,Ie,T(this,te,Ab).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Yi)){T(this,te,nl).call(this,t);return}const e=t.target.getAttribute("data-color");e&&T(this,te,Eb).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,te,Za)){T(this,te,nl).call(this,t);return}if(t.target===h(this,Yi)){(e=h(this,Ie).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,Ie))==null?void 0:e.firstChild)||t.target===h(this,Yi)){h(this,te,Za)&&this._hideDropdownFromKeyboard();return}h(this,te,Za)||T(this,te,nl).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,te,Za)){T(this,te,nl).call(this,t);return}(e=h(this,Ie).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,te,Za)){T(this,te,nl).call(this,t);return}(e=h(this,Ie).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,Ie))==null||t.classList.add("hidden"),(e=h(this,Ar))==null||e.abort(),_(this,Ar,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Wc)){if(!h(this,te,Za)){(t=h(this,Gd))==null||t.unselect();return}this.hideDropdown(),h(this,Yi).focus({preventScroll:!0,focusVisible:h(this,qd)})}}updateColor(t){if(h(this,Yl)&&(h(this,Yl).style.backgroundColor=t),!h(this,Ie))return;const e=h(this,Xi).highlightColors.values();for(const s of h(this,Ie).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Yi))==null||t.remove(),_(this,Yi,null),_(this,Yl,null),(e=h(this,Ie))==null||e.remove(),_(this,Ie,null)}};Yi=new WeakMap,Yl=new WeakMap,Kc=new WeakMap,Ie=new WeakMap,qd=new WeakMap,Wc=new WeakMap,Gd=new WeakMap,Vd=new WeakMap,Ar=new WeakMap,Xi=new WeakMap,Qc=new WeakMap,Yd=new WeakMap,te=new WeakSet,Ab=function(){const t=document.createElement("div"),e=h(this,Xi)._signal;t.addEventListener("contextmenu",Mi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,Xi).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",h(Fn,Yd)[s]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=r,l.setAttribute("aria-selected",r===h(this,Kc)),l.addEventListener("click",T(this,te,Eb).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",T(this,te,Sb).bind(this),{signal:e}),t},Eb=function(t,e){e.stopPropagation(),h(this,Vd).dispatch("switchannotationeditorparams",{source:this,type:h(this,Qc),value:t})},Sb=function(t){Fn._keyboardManager.exec(this,t)},nl=function(t){if(h(this,te,Za)){this.hideDropdown();return}if(_(this,qd,t.detail===0),h(this,Ar)||(_(this,Ar,new AbortController),window.addEventListener("pointerdown",T(this,te,iT).bind(this),{signal:h(this,Xi).combinedSignal(h(this,Ar))})),h(this,Ie)){h(this,Ie).classList.remove("hidden");return}const e=_(this,Ie,T(this,te,Ab).call(this));h(this,Yi).append(e)},iT=function(t){var e;(e=h(this,Ie))!=null&&e.contains(t.target)||this.hideDropdown()},Za=function(){return h(this,Ie)&&!h(this,Ie).classList.contains("hidden")},C(Fn,Yd,null);let dg=Fn;var Zc,Xd,ca,Xl,Jc,_i,$d,Kd,$l,$i,vn,jn,tu,ua,Be,eu,wi,Wd,Mt,_b,Kp,sT,aT,rT,wb,il,Ci,ic,lT,Wp,Mh,oT,cT,uT,hT,dT;const Xt=class Xt extends Qt{constructor(e){super({...e,name:"highlightEditor"});C(this,Mt);C(this,Zc,null);C(this,Xd,0);C(this,ca);C(this,Xl,null);C(this,Jc,null);C(this,_i,null);C(this,$d,null);C(this,Kd,0);C(this,$l,null);C(this,$i,null);C(this,vn,null);C(this,jn,!1);C(this,tu,null);C(this,ua);C(this,Be,null);C(this,eu,"");C(this,wi);C(this,Wd,"");this.color=e.color||Xt._defaultColor,_(this,wi,e.thickness||Xt._defaultThickness),_(this,ua,e.opacity||Xt._defaultOpacity),_(this,ca,e.boxes||null),_(this,Wd,e.methodOfCreation||""),_(this,eu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,jn,!0),T(this,Mt,Kp).call(this,e),T(this,Mt,il).call(this)):h(this,ca)&&(_(this,Zc,e.anchorNode),_(this,Xd,e.anchorOffset),_(this,$d,e.focusNode),_(this,Kd,e.focusOffset),T(this,Mt,_b).call(this),T(this,Mt,il).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Xt.prototype;return qt(this,"_keyboardManager",new sf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,jn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,wi),methodOfCreation:h(this,Wd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Qt.initialize(e,s),Xt._defaultColor||(Xt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case xt.HIGHLIGHT_DEFAULT_COLOR:Xt._defaultColor=s;break;case xt.HIGHLIGHT_THICKNESS:Xt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,tu)}updateParams(e,s){switch(e){case xt.HIGHLIGHT_COLOR:T(this,Mt,sT).call(this,s);break;case xt.HIGHLIGHT_THICKNESS:T(this,Mt,aT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.HIGHLIGHT_DEFAULT_COLOR,Xt._defaultColor],[xt.HIGHLIGHT_THICKNESS,Xt._defaultThickness]]}get propertiesToUpdate(){return[[xt.HIGHLIGHT_COLOR,this.color||Xt._defaultColor],[xt.HIGHLIGHT_THICKNESS,h(this,wi)||Xt._defaultThickness],[xt.HIGHLIGHT_FREE,h(this,jn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,Jc,new dg({editor:this})),e.addColorPicker(h(this,Jc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(T(this,Mt,Mh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,T(this,Mt,Mh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){T(this,Mt,wb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(T(this,Mt,il).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?T(this,Mt,wb).call(this):e&&(T(this,Mt,il).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var l,u,d;const{drawLayer:s}=this.parent;let r;h(this,jn)?(e=(e-this.rotation+360)%360,r=T(l=Xt,Ci,ic).call(l,h(this,$i).box,e)):r=T(u=Xt,Ci,ic).call(u,this,e),s.rotate(h(this,vn),e),s.rotate(h(this,Be),e),s.updateBox(h(this,vn),r),s.updateBox(h(this,Be),T(d=Xt,Ci,ic).call(d,h(this,_i).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,eu)&&(e.setAttribute("aria-label",h(this,eu)),e.setAttribute("role","mark")),h(this,jn)?e.classList.add("free"):this.div.addEventListener("keydown",T(this,Mt,lT).bind(this),{signal:this._uiManager._signal});const s=_(this,$l,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Xl);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),cg(this,h(this,$l),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,Be),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,Be),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:T(this,Mt,Wp).call(this,!0);break;case 1:case 3:T(this,Mt,Wp).call(this,!1);break}}select(){var e,s;super.select(),h(this,Be)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Be),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,Be),"selected"))}unselect(){var e;super.unselect(),h(this,Be)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Be),"selected"),h(this,jn)||T(this,Mt,Wp).call(this,!1))}get _mustFixPosition(){return!h(this,jn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,vn),e),this.parent.drawLayer.show(h(this,Be),e))}static startHighlighting(e,s,{target:r,x:l,y:u}){const{x:d,y:f,width:g,height:m}=r.getBoundingClientRect(),v=new AbortController,b=e.combinedSignal(v),A=w=>{w.preventDefault(),w.stopPropagation()},S=w=>{v.abort(),T(this,Ci,hT).call(this,e,w)};window.addEventListener("blur",S,{signal:b}),window.addEventListener("pointerup",S,{signal:b}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Mi,{signal:b}),r.addEventListener("pointermove",T(this,Ci,uT).bind(this,e),{signal:b}),this._freeHighlight=new bb({x:l,y:u},[d,f,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var w,M,x,O;let l=null;if(e instanceof zw){const{data:{quadPoints:k,rect:N,rotation:H,id:B,color:Y,opacity:W,popupRef:G},parent:{page:{pageNumber:nt}}}=e;l=e={annotationType:Dt.HIGHLIGHT,color:Array.from(Y),opacity:W,quadPoints:k,boxes:null,pageIndex:nt-1,rect:N.slice(0),rotation:H,id:B,deleted:!1,popupRef:G}}else if(e instanceof h0){const{data:{inkLists:k,rect:N,rotation:H,id:B,color:Y,borderStyle:{rawWidth:W},popupRef:G},parent:{page:{pageNumber:nt}}}=e;l=e={annotationType:Dt.HIGHLIGHT,color:Array.from(Y),thickness:W,inkLists:k,boxes:null,pageIndex:nt-1,rect:N.slice(0),rotation:H,id:B,deleted:!1,popupRef:G}}const{color:u,quadPoints:d,inkLists:f,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=yt.makeHexColor(...u),_(m,ua,g||1),f&&_(m,wi,e.thickness),m.annotationElementId=e.id||null,m._initialData=l;const[v,b]=m.pageDimensions,[A,S]=m.pageTranslation;if(d){const k=_(m,ca,[]);for(let N=0;N<d.length;N+=8)k.push({x:(d[N]-A)/v,y:1-(d[N+1]-S)/b,width:(d[N+2]-d[N])/v,height:(d[N+1]-d[N+5])/b});T(w=m,Mt,_b).call(w),T(M=m,Mt,il).call(M),m.rotate(m.rotation)}else if(f){_(m,jn,!0);const k=f[0],N={x:k[0]-A,y:b-(k[1]-S)},H=new bb(N,[0,0,v,b],1,h(m,wi)/2,!0,.001);for(let W=0,G=k.length;W<G;W+=2)N.x=k[W]-A,N.y=b-(k[W+1]-S),H.add(N);const{id:B,clipPathId:Y}=s.drawLayer.draw(H,m.color,m._defaultOpacity,!0);T(x=m,Mt,Kp).call(x,{highlightOutlines:H.getOutlines(),highlightId:B,clipPathId:Y}),T(O=m,Mt,il).call(O)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Qt._colorManager.convert(this.color),l={annotationType:Dt.HIGHLIGHT,color:r,opacity:h(this,ua),thickness:h(this,wi),quadPoints:T(this,Mt,oT).call(this),outlines:T(this,Mt,cT).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:T(this,Mt,Mh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!T(this,Mt,dT).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Zc=new WeakMap,Xd=new WeakMap,ca=new WeakMap,Xl=new WeakMap,Jc=new WeakMap,_i=new WeakMap,$d=new WeakMap,Kd=new WeakMap,$l=new WeakMap,$i=new WeakMap,vn=new WeakMap,jn=new WeakMap,tu=new WeakMap,ua=new WeakMap,Be=new WeakMap,eu=new WeakMap,wi=new WeakMap,Wd=new WeakMap,Mt=new WeakSet,_b=function(){const e=new V_(h(this,ca),.001);_(this,$i,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,$i).box;const s=new V_(h(this,ca),.0025,.001,this._uiManager.direction==="ltr");_(this,_i,s.getOutlines());const{lastPoint:r}=h(this,_i).box;_(this,tu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Kp=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var v,b;if(_(this,$i,e),_(this,_i,e.getNewOutline(h(this,wi)/2+1.5,.0025)),s>=0)_(this,vn,s),_(this,Xl,r),this.parent.drawLayer.finalizeLine(s,e),_(this,Be,this.parent.drawLayer.drawOutline(h(this,_i)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,vn),e),this.parent.drawLayer.updateBox(h(this,vn),T(v=Xt,Ci,ic).call(v,h(this,$i).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,Be),h(this,_i)),this.parent.drawLayer.updateBox(h(this,Be),T(b=Xt,Ci,ic).call(b,h(this,_i).box,A))}const{x:u,y:d,width:f,height:g}=e.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=g;break;case 90:{const[A,S]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*S/A,this.height=g*A/S;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=g;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*S/A,this.height=g*A/S;break}}const{lastPoint:m}=h(this,_i).box;_(this,tu,[(m[0]-u)/f,(m[1]-d)/g])},sT=function(e){const s=(u,d)=>{var f,g,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(h(this,vn),u),(g=h(this,Jc))==null||g.updateColor(u),_(this,ua,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,vn),d)},r=this.color,l=h(this,ua);this.addCommands({cmd:s.bind(this,e,Xt._defaultOpacity),undo:s.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},aT=function(e){const s=h(this,wi),r=l=>{_(this,wi,l),T(this,Mt,rT).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},rT=function(e){if(!h(this,jn))return;T(this,Mt,Kp).call(this,{highlightOutlines:h(this,$i).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},wb=function(){h(this,vn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,vn)),_(this,vn,null),this.parent.drawLayer.remove(h(this,Be)),_(this,Be,null))},il=function(e=this.parent){h(this,vn)===null&&({id:wn(this,vn)._,clipPathId:wn(this,Xl)._}=e.drawLayer.draw(h(this,$i),this.color,h(this,ua)),_(this,Be,e.drawLayer.drawOutline(h(this,_i))),h(this,$l)&&(h(this,$l).style.clipPath=h(this,Xl)))},Ci=new WeakSet,ic=function({x:e,y:s,width:r,height:l},u){switch(u){case 90:return{x:1-s-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-s-l,width:r,height:l};case 270:return{x:s,y:1-e-r,width:l,height:r}}return{x:e,y:s,width:r,height:l}},lT=function(e){Xt._keyboardManager.exec(this,e)},Wp=function(e){if(!h(this,Zc))return;const s=window.getSelection();e?s.setPosition(h(this,Zc),h(this,Xd)):s.setPosition(h(this,$d),h(this,Kd))},Mh=function(){return h(this,jn)?this.rotation:0},oT=function(){if(h(this,jn))return null;const[e,s]=this.pageDimensions,[r,l]=this.pageTranslation,u=h(this,ca),d=new Float32Array(u.length*8);let f=0;for(const{x:g,y:m,width:v,height:b}of u){const A=g*e+r,S=(1-m-b)*s+l;d[f]=d[f+4]=A,d[f+1]=d[f+3]=S,d[f+2]=d[f+6]=A+v*e,d[f+5]=d[f+7]=S+b*s,f+=8}return d},cT=function(e){return h(this,$i).serialize(e,T(this,Mt,Mh).call(this))},uT=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},hT=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},dT=function(e){const{color:s}=this._initialData;return e.color.some((r,l)=>r!==s[l])},C(Xt,Ci),Tt(Xt,"_defaultColor",null),Tt(Xt,"_defaultOpacity",1),Tt(Xt,"_defaultThickness",12),Tt(Xt,"_type","highlight"),Tt(Xt,"_editorType",Dt.HIGHLIGHT),Tt(Xt,"_freeHighlightId",-1),Tt(Xt,"_freeHighlight",null),Tt(Xt,"_freeHighlightClipId","");let fg=Xt;var Kl,Wl,ys,ha,Ti,Ql,Zl,Jl,da,nu,to,eo,Er,rt,fT,pT,gT,mT,xb,yT,Cb,vT,bT,AT,ET,ST,sl,Rb,Mb,Lb,Qp,Zp,sc,Db,Jp,Ta,_T,Ob,wT,TT,kb,tg,Lh;const pe=class pe extends Qt{constructor(e){super({...e,name:"inkEditor"});C(this,rt);C(this,Kl,0);C(this,Wl,0);C(this,ys,null);C(this,ha,new Path2D);C(this,Ti,!1);C(this,Ql,null);C(this,Zl,!1);C(this,Jl,!1);C(this,da,null);C(this,nu,null);C(this,to,0);C(this,eo,0);C(this,Er,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Qt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case xt.INK_THICKNESS:pe._defaultThickness=s;break;case xt.INK_COLOR:pe._defaultColor=s;break;case xt.INK_OPACITY:pe._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case xt.INK_THICKNESS:T(this,rt,fT).call(this,s);break;case xt.INK_COLOR:T(this,rt,pT).call(this,s);break;case xt.INK_OPACITY:T(this,rt,gT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.INK_THICKNESS,pe._defaultThickness],[xt.INK_COLOR,pe._defaultColor||Qt._defaultLineColor],[xt.INK_OPACITY,Math.round(pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[xt.INK_THICKNESS,this.thickness||pe._defaultThickness],[xt.INK_COLOR,this.color||pe._defaultColor||Qt._defaultLineColor],[xt.INK_OPACITY,Math.round(100*(this.opacity??pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(T(this,rt,Qp).call(this),T(this,rt,Zp).call(this)),this.isAttachedToDOM||(this.parent.add(this),T(this,rt,sc).call(this)),T(this,rt,Lh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,ys)&&(clearTimeout(h(this,ys)),_(this,ys,null)),(e=h(this,da))==null||e.disconnect(),_(this,da,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,l=this.height*s;this.setDimensions(r,l)}enableEditMode(){h(this,Ti)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,T(this,rt,Rb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),T(this,rt,Mb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Ti)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,Ti,!0),this.div.classList.add("disabled"),T(this,rt,Lh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Ti)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),T(this,rt,yT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),T(this,rt,Cb).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),T(this,rt,Lb).call(this,e)}canvasPointerleave(e){T(this,rt,Lb).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Ti)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,u,d]=T(this,rt,mT).call(this);if(this.setAt(r,l,0,0),this.setDims(u,d),T(this,rt,Qp).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(e*f,s*g,this.width*f,this.height*g),_(this,Jl,!0),T(this,rt,sc).call(this),this.setDims(this.width*f,this.height*g),T(this,rt,sl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return T(this,rt,Zp).call(this),this.div}setDimensions(e,s){const r=Math.round(e),l=Math.round(s);if(h(this,to)===r&&h(this,eo)===l)return;_(this,to,r),_(this,eo,l),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=e/u,this.height=s/d,this.fixAndSetPosition(),h(this,Ti)&&T(this,rt,Db).call(this,e,s),T(this,rt,sc).call(this),T(this,rt,sl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,x,O;if(e instanceof h0)return null;const l=await super.deserialize(e,s,r);l.thickness=e.thickness,l.color=yt.makeHexColor(...e.color),l.opacity=e.opacity;const[u,d]=l.pageDimensions,f=l.width*u,g=l.height*d,m=l.parentScale,v=e.thickness/2;_(l,Ti,!0),_(l,to,Math.round(f)),_(l,eo,Math.round(g));const{paths:b,rect:A,rotation:S}=e;for(let{bezier:k}of b){k=T(M=pe,Ta,wT).call(M,k,A,S);const N=[];l.paths.push(N);let H=m*(k[0]-v),B=m*(k[1]-v);for(let W=2,G=k.length;W<G;W+=6){const nt=m*(k[W]-v),at=m*(k[W+1]-v),St=m*(k[W+2]-v),ht=m*(k[W+3]-v),ft=m*(k[W+4]-v),gt=m*(k[W+5]-v);N.push([[H,B],[nt,at],[St,ht],[ft,gt]]),H=ft,B=gt}const Y=T(this,Ta,_T).call(this,N);l.bezierPath2D.push(Y)}const w=T(x=l,rt,kb).call(x);return _(l,Wl,Math.max(Qt.MIN_SIZE,w[2]-w[0])),_(l,Kl,Math.max(Qt.MIN_SIZE,w[3]-w[1])),T(O=l,rt,Db).call(O,f,g),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Qt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Dt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:T(this,rt,TT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Kl=new WeakMap,Wl=new WeakMap,ys=new WeakMap,ha=new WeakMap,Ti=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,da=new WeakMap,nu=new WeakMap,to=new WeakMap,eo=new WeakMap,Er=new WeakMap,rt=new WeakSet,fT=function(e){const s=l=>{this.thickness=l,T(this,rt,Lh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},pT=function(e){const s=l=>{this.color=l,T(this,rt,sl).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gT=function(e){const s=l=>{this.opacity=l,T(this,rt,sl).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mT=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},xb=function(){const{ctx:e,color:s,opacity:r,thickness:l,parentScale:u,scaleFactor:d}=this;e.lineWidth=l*u/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${mL(r)}`},yT=function(e,s){this.canvas.addEventListener("contextmenu",Mi,{signal:this._uiManager._signal}),T(this,rt,Mb).call(this),_(this,Ql,new AbortController);const r=this._uiManager.combinedSignal(h(this,Ql));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Jl)||(_(this,Jl,!0),T(this,rt,sc).call(this),this.thickness||(this.thickness=pe._defaultThickness),this.color||(this.color=pe._defaultColor||Qt._defaultLineColor),this.opacity??(this.opacity=pe._defaultOpacity)),this.currentPath.push([e,s]),_(this,Zl,!1),T(this,rt,xb).call(this),_(this,Er,()=>{T(this,rt,AT).call(this),h(this,Er)&&window.requestAnimationFrame(h(this,Er))}),window.requestAnimationFrame(h(this,Er))},Cb=function(e,s){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===l)return;const u=this.currentPath;let d=h(this,ha);if(u.push([e,s]),_(this,Zl,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(e,s);return}u.length===3&&(_(this,ha,d=new Path2D),d.moveTo(...u[0])),T(this,rt,ET).call(this,d,...u.at(-3),...u.at(-2),e,s)},vT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,ha).lineTo(...e)},bT=function(e,s){_(this,Er,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),T(this,rt,Cb).call(this,e,s),T(this,rt,vT).call(this);let r;if(this.currentPath.length!==1)r=T(this,rt,ST).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const l=h(this,ha),u=this.currentPath;this.currentPath=[],_(this,ha,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(T(this,rt,Qp).call(this),T(this,rt,Zp).call(this)),T(this,rt,Lh).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},AT=function(){if(!h(this,Zl))return;_(this,Zl,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),l=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(h(this,ha)),u.restore()},ET=function(e,s,r,l,u,d,f){const g=(s+l)/2,m=(r+u)/2,v=(l+d)/2,b=(u+f)/2;e.bezierCurveTo(g+2*(l-g)/3,m+2*(u-m)/3,v+2*(l-v)/3,b+2*(u-b)/3,v,b)},ST=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[l,u]=e[0];for(r=1;r<e.length-2;r++){const[A,S]=e[r],[w,M]=e[r+1],x=(A+w)/2,O=(S+M)/2,k=[l+2*(A-l)/3,u+2*(S-u)/3],N=[x+2*(A-x)/3,O+2*(S-O)/3];s.push([[l,u],k,N,[x,O]]),[l,u]=[x,O]}const[d,f]=e[r],[g,m]=e[r+1],v=[l+2*(d-l)/3,u+2*(f-u)/3],b=[g+2*(d-g)/3,m+2*(f-m)/3];return s.push([[l,u],v,b,[g,m]]),s},sl=function(){if(this.isEmpty()){T(this,rt,Jp).call(this);return}T(this,rt,xb).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),T(this,rt,Jp).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Rb=function(){if(h(this,nu))return;_(this,nu,new AbortController);const e=this._uiManager.combinedSignal(h(this,nu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Mb=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Lb=function(e){var s;(s=h(this,Ql))==null||s.abort(),_(this,Ql,null),T(this,rt,Rb).call(this),h(this,ys)&&clearTimeout(h(this,ys)),_(this,ys,setTimeout(()=>{_(this,ys,null),this.canvas.removeEventListener("contextmenu",Mi)},10)),T(this,rt,bT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Qp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Zp=function(){_(this,da,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,da).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,da))==null||e.disconnect(),_(this,da,null)},{once:!0})},sc=function(){if(!h(this,Jl))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),T(this,rt,Jp).call(this)},Db=function(e,s){const r=T(this,rt,tg).call(this),l=(e-r)/h(this,Wl),u=(s-r)/h(this,Kl);this.scaleFactor=Math.min(l,u)},Jp=function(){const e=T(this,rt,tg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ta=new WeakSet,_T=function(e){const s=new Path2D;for(let r=0,l=e.length;r<l;r++){const[u,d,f,g]=e[r];r===0&&s.moveTo(...u),s.bezierCurveTo(d[0],d[1],f[0],f[1],g[0],g[1])}return s},Ob=function(e,s,r){const[l,u,d,f]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const v=e[g];e[g]=e[g+1]+l,e[g+1]=v+u}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=u;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const v=e[g];e[g]=d-e[g+1],e[g+1]=f-v}break;default:throw new Error("Invalid rotation")}return e},wT=function(e,s,r){const[l,u,d,f]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const v=e[g];e[g]=e[g+1]-u,e[g+1]=v-l}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=u;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const v=e[g];e[g]=f-e[g+1],e[g+1]=d-v}break;default:throw new Error("Invalid rotation")}return e},TT=function(e,s,r,l){var m,v;const u=[],d=this.thickness/2,f=e*s+d,g=e*r+d;for(const b of this.paths){const A=[],S=[];for(let w=0,M=b.length;w<M;w++){const[x,O,k,N]=b[w];if(x[0]===N[0]&&x[1]===N[1]&&M===1){const ht=e*x[0]+f,ft=e*x[1]+g;A.push(ht,ft),S.push(ht,ft);break}const H=e*x[0]+f,B=e*x[1]+g,Y=e*O[0]+f,W=e*O[1]+g,G=e*k[0]+f,nt=e*k[1]+g,at=e*N[0]+f,St=e*N[1]+g;w===0&&(A.push(H,B),S.push(H,B)),A.push(Y,W,G,nt,at,St),S.push(Y,W),w===M-1&&S.push(at,St)}u.push({bezier:T(m=pe,Ta,Ob).call(m,A,l,this.rotation),points:T(v=pe,Ta,Ob).call(v,S,l,this.rotation)})}return u},kb=function(){let e=1/0,s=-1/0,r=1/0,l=-1/0;for(const u of this.paths)for(const[d,f,g,m]of u){const v=yt.bezierBoundingBox(...d,...f,...g,...m);e=Math.min(e,v[0]),r=Math.min(r,v[1]),s=Math.max(s,v[2]),l=Math.max(l,v[3])}return[e,r,s,l]},tg=function(){return h(this,Ti)?Math.ceil(this.thickness*this.parentScale):0},Lh=function(e=!1){if(this.isEmpty())return;if(!h(this,Ti)){T(this,rt,sl).call(this);return}const s=T(this,rt,kb).call(this),r=T(this,rt,tg).call(this);_(this,Wl,Math.max(Qt.MIN_SIZE,s[2]-s[0])),_(this,Kl,Math.max(Qt.MIN_SIZE,s[3]-s[1]));const l=Math.ceil(r+h(this,Wl)*this.scaleFactor),u=Math.ceil(r+h(this,Kl)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=l/d,this.height=u/f,this.setAspectRatio(l,u);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],T(this,rt,sc).call(this),T(this,rt,sl).call(this),_(this,to,l),_(this,eo,u),this.setDims(l,u);const v=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-v,m-this.translationY-v)},C(pe,Ta),Tt(pe,"_defaultColor",null),Tt(pe,"_defaultOpacity",1),Tt(pe,"_defaultThickness",1),Tt(pe,"_type","ink"),Tt(pe,"_editorType",Dt.INK);let Tb=pe;var me,on,Sr,fa,_r,iu,vs,pa,bs,ni,su,It,Dh,Oh,eg,Pb,xT,ng,Fb,ig,CT,RT;const Ph=class Ph extends Qt{constructor(e){super({...e,name:"stampEditor"});C(this,It);C(this,me,null);C(this,on,null);C(this,Sr,null);C(this,fa,null);C(this,_r,null);C(this,iu,"");C(this,vs,null);C(this,pa,null);C(this,bs,null);C(this,ni,!1);C(this,su,!1);_(this,fa,e.bitmapUrl),_(this,_r,e.bitmapFile)}static initialize(e,s){Qt.initialize(e,s)}static get supportedTypes(){return qt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return qt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Dt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:u,height:d}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:u,height:d,channels:l.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;h(this,on)&&(_(this,me,null),this._uiManager.imageManager.deleteId(h(this,on)),(e=h(this,vs))==null||e.remove(),_(this,vs,null),(s=h(this,pa))==null||s.disconnect(),_(this,pa,null),h(this,bs)&&(clearTimeout(h(this,bs)),_(this,bs,null))),super.remove()}rebuild(){if(!this.parent){h(this,on)&&T(this,It,eg).call(this);return}super.rebuild(),this.div!==null&&(h(this,on)&&h(this,vs)===null&&T(this,It,eg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Sr)||h(this,me)||h(this,fa)||h(this,_r)||h(this,on))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,me)?T(this,It,Pb).call(this):T(this,It,eg).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,s*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,s,r=!1){var A;e||(e=224);const{width:l,height:u}=h(this,me),d=new Lv;let f=h(this,me),g=l,m=u,v=null;if(s){if(l>s||u>s){const W=Math.min(s/l,s/u);g=Math.floor(l*W),m=Math.floor(u*W)}v=document.createElement("canvas");const S=v.width=Math.ceil(g*d.sx),w=v.height=Math.ceil(m*d.sy);h(this,ni)||(f=T(this,It,ng).call(this,S,w));const M=v.getContext("2d");M.filter=this._uiManager.hcmFilter;let x="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",O="#42414d");const k=15,N=k*d.sx,H=k*d.sy,B=new OffscreenCanvas(N*2,H*2),Y=B.getContext("2d");Y.fillStyle=x,Y.fillRect(0,0,N*2,H*2),Y.fillStyle=O,Y.fillRect(0,0,N,H),Y.fillRect(N,H,N,H),M.fillStyle=M.createPattern(B,"repeat"),M.fillRect(0,0,S,w),M.drawImage(f,0,0,f.width,f.height,0,0,S,w)}let b=null;if(r){let S,w;if(d.symmetric&&f.width<e&&f.height<e)S=f.width,w=f.height;else if(f=h(this,me),l>e||u>e){const O=Math.min(e/l,e/u);S=Math.floor(l*O),w=Math.floor(u*O),h(this,ni)||(f=T(this,It,ng).call(this,S,w))}const x=new OffscreenCanvas(S,w).getContext("2d",{willReadFrequently:!0});x.drawImage(f,0,0,f.width,f.height,0,0,S,w),b={width:S,height:w,data:x.getImageData(0,0,S,w).data}}return{canvas:v,width:g,height:m,imageData:b}}getImageForAltText(){return h(this,vs)}static async deserialize(e,s,r){var w;let l=null;if(e instanceof Hw){const{data:{rect:M,rotation:x,id:O,structParent:k,popupRef:N},container:H,parent:{page:{pageNumber:B}}}=e,Y=H.querySelector("canvas"),W=r.imageManager.getFromCanvas(H.id,Y);Y.remove();const G=((w=await s._structTree.getAriaAttributes(`${t0}${O}`))==null?void 0:w.get("aria-label"))||"";l=e={annotationType:Dt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:B-1,rect:M.slice(0),rotation:x,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:k,popupRef:N}}const u=await super.deserialize(e,s,r),{rect:d,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:v,accessibilityData:b}=e;m&&r.imageManager.isValidId(m)?(_(u,on,m),f&&_(u,me,f)):_(u,fa,g),_(u,ni,v);const[A,S]=u.pageDimensions;return u.width=(d[2]-d[0])/A,u.height=(d[3]-d[1])/S,u.annotationElementId=e.id||null,b&&(u.altTextData=b),u._initialData=l,_(u,su,!!l),u}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Dt.STAMP,bitmapId:h(this,on),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,ni),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=T(this,It,ig).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:u}=this.serializeAltText(!1);if(!l&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=T(this,It,RT).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,ni)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,on)))s.stamps.set(h(this,on),{area:d,serialized:r}),r.bitmap=T(this,It,ig).call(this,!1);else if(h(this,ni)){const f=s.stamps.get(h(this,on));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=T(this,It,ig).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};me=new WeakMap,on=new WeakMap,Sr=new WeakMap,fa=new WeakMap,_r=new WeakMap,iu=new WeakMap,vs=new WeakMap,pa=new WeakMap,bs=new WeakMap,ni=new WeakMap,su=new WeakMap,It=new WeakSet,Dh=function(e,s=!1){if(!e){this.remove();return}_(this,me,e.bitmap),s||(_(this,on,e.id),_(this,ni,e.isSvg)),e.file&&_(this,iu,e.file.name),T(this,It,Pb).call(this)},Oh=function(){if(_(this,Sr,null),this._uiManager.enableWaiting(!1),!!h(this,vs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},eg=function(){if(h(this,on)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,on)).then(r=>T(this,It,Dh).call(this,r,!0)).finally(()=>T(this,It,Oh).call(this));return}if(h(this,fa)){const r=h(this,fa);_(this,fa,null),this._uiManager.enableWaiting(!0),_(this,Sr,this._uiManager.imageManager.getFromUrl(r).then(l=>T(this,It,Dh).call(this,l)).finally(()=>T(this,It,Oh).call(this)));return}if(h(this,_r)){const r=h(this,_r);_(this,_r,null),this._uiManager.enableWaiting(!0),_(this,Sr,this._uiManager.imageManager.getFromFile(r).then(l=>T(this,It,Dh).call(this,l)).finally(()=>T(this,It,Oh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Ph.supportedTypesStr;const s=this._uiManager._signal;_(this,Sr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),T(this,It,Dh).call(this,l)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>T(this,It,Oh).call(this))),e.click()},Pb=function(){const{div:e}=this;let{width:s,height:r}=h(this,me);const[l,u]=this.pageDimensions,d=.75;if(this.width)s=this.width*l,r=this.height*u;else if(s>d*l||r>d*u){const v=Math.min(d*l/s,d*u/r);s*=v,r*=v}const[f,g]=this.parentDimensions;this.setDims(s*f/l,r*g/u),this._uiManager.enableWaiting(!1);const m=_(this,vs,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),T(this,It,Fb).call(this,s,r),T(this,It,CT).call(this),h(this,su)||(this.parent.addUndoableEditor(this),_(this,su,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,iu)&&m.setAttribute("aria-label",h(this,iu))},xT=function(e,s){var d;const[r,l]=this.parentDimensions;this.width=e/r,this.height=s/l,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,bs)!==null&&clearTimeout(h(this,bs)),_(this,bs,setTimeout(()=>{_(this,bs,null),T(this,It,Fb).call(this,e,s)},200))},ng=function(e,s){const{width:r,height:l}=h(this,me);let u=r,d=l,f=h(this,me);for(;u>2*e||d>2*s;){const g=u,m=d;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const v=new OffscreenCanvas(u,d);v.getContext("2d").drawImage(f,0,0,g,m,0,0,u,d),f=v.transferToImageBitmap()}return f},Fb=function(e,s){const r=new Lv,l=Math.ceil(e*r.sx),u=Math.ceil(s*r.sy),d=h(this,vs);if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=h(this,ni)?h(this,me):T(this,It,ng).call(this,l,u),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,l,u)},ig=function(e){if(e){if(h(this,ni)){const l=this._uiManager.imageManager.getSvgUrl(h(this,on));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,me),s.getContext("2d").drawImage(h(this,me),0,0),s.toDataURL()}if(h(this,ni)){const[s,r]=this.pageDimensions,l=Math.round(this.width*s*Cr.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*Cr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(l,u);return d.getContext("2d").drawImage(h(this,me),0,0,h(this,me).width,h(this,me).height,0,0,l,u),d.transferToImageBitmap()}return structuredClone(h(this,me))},CT=function(){this._uiManager._signal&&(_(this,pa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&T(this,It,xT).call(this,s.width,s.height)})),h(this,pa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,pa))==null||e.disconnect(),_(this,pa,null)},{once:!0}))},RT=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,u=e.rect.every((m,v)=>Math.abs(m-s[v])<1),d=e.pageIndex===r,f=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===l;return{isSame:u&&d&&f,isSameAltText:f}},Tt(Ph,"_type","stamp"),Tt(Ph,"_editorType",Dt.STAMP);let Nb=Ph;var no,au,As,wr,ga,ii,Tr,ru,lu,bn,ma,Et,xr,cn,MT,Hb,jb,Ub,sg;const Ni=class Ni{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:u,drawLayer:d,textLayer:f,viewport:g,l10n:m}){C(this,cn);C(this,no);C(this,au,!1);C(this,As,null);C(this,wr,null);C(this,ga,null);C(this,ii,new Map);C(this,Tr,!1);C(this,ru,!1);C(this,lu,!1);C(this,bn,null);C(this,ma,null);C(this,Et);const v=[...h(Ni,xr).values()];if(!Ni._initialized){Ni._initialized=!0;for(const b of v)b.initialize(m,t)}t.registerEditorTypes(v),_(this,Et,t),this.pageIndex=e,this.div=s,_(this,no,l),_(this,As,u),this.viewport=g,_(this,bn,f),this.drawLayer=d,this._structTree=r,h(this,Et).addLayer(this)}get isEmpty(){return h(this,ii).size===0}get isInvisible(){return this.isEmpty&&h(this,Et).getMode()===Dt.NONE}updateToolbar(t){h(this,Et).updateToolbar(t)}updateMode(t=h(this,Et).getMode()){switch(T(this,cn,sg).call(this),t){case Dt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Dt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(Ni,xr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,bn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,Et).getMode()!==Dt.INK)return;if(!t){for(const s of h(this,ii).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,Et).setEditingState(t)}addCommands(t){h(this,Et).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,As))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,ii).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,Et).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,As))return;const e=h(this,As).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,Et).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;_(this,lu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of h(this,ii).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(h(this,As)){const l=h(this,As).getEditableAnnotations();for(const u of l){const{id:d}=u.data;if(h(this,Et).isDeletedAnnotationElement(d))continue;let f=e.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(d),f&&(h(this,Et).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}T(this,cn,sg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of h(Ni,xr).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,lu,!1)}getEditableAnnotation(t){var e;return((e=h(this,As))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,Et).getActive()!==t&&h(this,Et).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,bn))!=null&&t.div&&!h(this,ma)){_(this,ma,new AbortController);const e=h(this,Et).combinedSignal(h(this,ma));h(this,bn).div.addEventListener("pointerdown",T(this,cn,MT).bind(this),{signal:e}),h(this,bn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,bn))!=null&&t.div&&h(this,ma)&&(h(this,ma).abort(),_(this,ma,null),h(this,bn).div.classList.remove("highlighting"))}enableClick(){if(h(this,wr))return;_(this,wr,new AbortController);const t=h(this,Et).combinedSignal(h(this,wr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,wr))==null||t.abort(),_(this,wr,null)}attach(t){h(this,ii).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,Et).isDeletedAnnotationElement(e)&&h(this,Et).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ii).delete(t.id),(e=h(this,no))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,lu)&&t.annotationElementId&&h(this,Et).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,Et).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,ru)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,Et).addDeletedAnnotationElement(t.annotationElementId),Qt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,Et).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,Et).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ga)&&(t._focusEventsAllowed=!1,_(this,ga,setTimeout(()=>{_(this,ga,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,Et)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,no))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,Et).getId()}combinedSignal(t){return h(this,Et).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,cn,Hb))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,Et).updateToolbar(t),h(this,Et).updateMode(t);const{offsetX:s,offsetY:r}=T(this,cn,Ub).call(this),l=this.getNextId(),u=T(this,cn,jb).call(this,{parent:this,id:l,x:s,y:r,uiManager:h(this,Et),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=h(Ni,xr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,Et)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),l=T(this,cn,jb).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,Et),isCentered:e,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(T(this,cn,Ub).call(this),!0)}setSelected(t){h(this,Et).setSelected(t)}toggleSelected(t){h(this,Et).toggleSelected(t)}unselect(t){h(this,Et).unselect(t)}pointerup(t){const{isMac:e}=Mn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Tr)){if(_(this,Tr,!1),!h(this,au)){_(this,au,!0);return}if(h(this,Et).getMode()===Dt.STAMP){h(this,Et).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,Et).getMode()===Dt.HIGHLIGHT&&this.enableTextSelection(),h(this,Tr)){_(this,Tr,!1);return}const{isMac:e}=Mn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,Tr,!0);const s=h(this,Et).getActive();_(this,au,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,Et).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,Et).getActive())==null?void 0:t.parent)===this&&(h(this,Et).commitOrRemove(),h(this,Et).setActiveEditor(null)),h(this,ga)&&(clearTimeout(h(this,ga)),_(this,ga,null));for(const s of h(this,ii).values())(e=h(this,no))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,ii).clear(),h(this,Et).removeLayer(this)}render({viewport:t}){this.viewport=t,io(this.div,t);for(const e of h(this,Et).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,Et).commitOrRemove(),T(this,cn,sg).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,io(this.div,{rotation:s}),e!==s)for(const r of h(this,ii).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,Et).viewParameters.realScale}};no=new WeakMap,au=new WeakMap,As=new WeakMap,wr=new WeakMap,ga=new WeakMap,ii=new WeakMap,Tr=new WeakMap,ru=new WeakMap,lu=new WeakMap,bn=new WeakMap,ma=new WeakMap,Et=new WeakMap,xr=new WeakMap,cn=new WeakSet,MT=function(t){h(this,Et).unselectAll();const{target:e}=t;if(e===h(this,bn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,bn).div.contains(e)){const{isMac:s}=Mn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,Et).showAllEditors("highlight",!0,!0),h(this,bn).div.classList.add("free"),this.toggleDrawing(),fg.startHighlighting(this,h(this,Et).direction==="ltr",{target:h(this,bn).div,x:t.x,y:t.y}),h(this,bn).div.addEventListener("pointerup",()=>{h(this,bn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,Et)._signal}),t.preventDefault()}},Hb=function(){return h(Ni,xr).get(h(this,Et).getMode())},jb=function(t){const e=h(this,cn,Hb);return e?new e.prototype.constructor(t):null},Ub=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,e),d=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),g=(l+d)/2-t,m=(u+f)/2-e,[v,b]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:v,offsetY:b}},sg=function(){_(this,ru,!0);for(const t of h(this,ii).values())t.isEmpty()&&t.remove();_(this,ru,!1)},Tt(Ni,"_initialized",!1),C(Ni,xr,new Map([mb,Tb,Nb,fg].map(t=>[t._editorType,t])));let zb=Ni;var Es,Qd,ke,ya,Zd,Bb,oo,qb,LT;const an=class an{constructor({pageIndex:t}){C(this,oo);C(this,Es,null);C(this,Qd,0);C(this,ke,new Map);C(this,ya,new Map);this.pageIndex=t}setParent(t){if(!h(this,Es)){_(this,Es,t);return}if(h(this,Es)!==t){if(h(this,ke).size>0)for(const e of h(this,ke).values())e.remove(),t.append(e);_(this,Es,t)}}static get _svgFactory(){return qt(this,"_svgFactory",new u0)}draw(t,e,s,r=!1){const l=wn(this,Qd)._++,u=T(this,oo,qb).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const d=an._svgFactory.createElement("defs");u.append(d);const f=an._svgFactory.createElement("path");d.append(f);const g=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",g),f.setAttribute("d",t.toSVGPath()),r&&h(this,ya).set(l,f);const m=T(this,oo,LT).call(this,d,g),v=an._svgFactory.createElement("use");return u.append(v),u.setAttribute("fill",e),u.setAttribute("fill-opacity",s),v.setAttribute("href",`#${g}`),h(this,ke).set(l,u),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const e=wn(this,Qd)._++,s=T(this,oo,qb).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=an._svgFactory.createElement("defs");s.append(r);const l=an._svgFactory.createElement("path");r.append(l);const u=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",u),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=an._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=an._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=an._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=an._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return s.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),h(this,ke).set(e,s),e}finalizeLine(t,e){const s=h(this,ya).get(t);h(this,ya).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,ke).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,ya).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;T(s=an,Zd,Bb).call(s,h(this,ke).get(t),e)}show(t,e){h(this,ke).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,ke).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,ke).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,ke).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,ke).get(t).classList.add(e)}removeClass(t,e){h(this,ke).get(t).classList.remove(e)}getSVGRoot(t){return h(this,ke).get(t)}remove(t){h(this,ya).delete(t),h(this,Es)!==null&&(h(this,ke).get(t).remove(),h(this,ke).delete(t))}destroy(){_(this,Es,null);for(const t of h(this,ke).values())t.remove();h(this,ke).clear(),h(this,ya).clear()}};Es=new WeakMap,Qd=new WeakMap,ke=new WeakMap,ya=new WeakMap,Zd=new WeakSet,Bb=function(t,{x:e=0,y:s=0,width:r=1,height:l=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*l}%`},oo=new WeakSet,qb=function(t){var s;const e=an._svgFactory.create(1,1,!0);return h(this,Es).append(e),e.setAttribute("aria-hidden",!0),T(s=an,Zd,Bb).call(s,e,t),e},LT=function(t,e){const s=an._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=an._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},C(an,Zd);let Ib=an;var KD=Rt.AbortException,WD=Rt.AnnotationEditorLayer,QD=Rt.AnnotationEditorParamsType,ZD=Rt.AnnotationEditorType,JD=Rt.AnnotationEditorUIManager,DT=Rt.AnnotationLayer,OT=Rt.AnnotationMode,tO=Rt.ColorPicker,eO=Rt.DOMSVGFactory,nO=Rt.DrawLayer,iO=Rt.FeatureTest,d0=Rt.GlobalWorkerOptions,sO=Rt.ImageKind,aO=Rt.InvalidPDFException,rO=Rt.MissingPDFException,lO=Rt.OPS,oO=Rt.OutputScale,cO=Rt.PDFDataRangeTransport,uO=Rt.PDFDateString,hO=Rt.PDFWorker,dO=Rt.PasswordResponses,fO=Rt.PermissionFlag,pO=Rt.PixelsPerInch,gO=Rt.RenderingCancelledException,kT=Rt.TextLayer,mO=Rt.UnexpectedResponseException,yO=Rt.Util,vO=Rt.VerbosityLevel,bO=Rt.XfaLayer,AO=Rt.build,EO=Rt.createValidAbsoluteUrl,SO=Rt.fetchData,NT=Rt.getDocument,_O=Rt.getFilenameFromUrl,wO=Rt.getPdfFilenameFromUrl,TO=Rt.getXfaPageViewport,xO=Rt.isDataScheme,CO=Rt.isPdfFile,RO=Rt.noContextMenu,MO=Rt.normalizeUnicode,LO=Rt.setLayerDimensions,DO=Rt.shadow,OO=Rt.version;const kO=Object.freeze(Object.defineProperty({__proto__:null,AbortException:KD,AnnotationEditorLayer:WD,AnnotationEditorParamsType:QD,AnnotationEditorType:ZD,AnnotationEditorUIManager:JD,AnnotationLayer:DT,AnnotationMode:OT,ColorPicker:tO,DOMSVGFactory:eO,DrawLayer:nO,FeatureTest:iO,GlobalWorkerOptions:d0,ImageKind:sO,InvalidPDFException:aO,MissingPDFException:rO,OPS:lO,OutputScale:oO,PDFDataRangeTransport:cO,PDFDateString:uO,PDFWorker:hO,PasswordResponses:dO,PermissionFlag:fO,PixelsPerInch:pO,RenderingCancelledException:gO,TextLayer:kT,UnexpectedResponseException:mO,Util:yO,VerbosityLevel:vO,XfaLayer:bO,build:AO,createValidAbsoluteUrl:EO,fetchData:SO,getDocument:NT,getFilenameFromUrl:_O,getPdfFilenameFromUrl:wO,getXfaPageViewport:TO,isDataScheme:xO,isPdfFile:CO,noContextMenu:RO,normalizeUnicode:MO,setLayerDimensions:LO,shadow:DO,version:OO},Symbol.toStringTag,{value:"Module"}));var Ke=function(c,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,l;s<r;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return c.concat(l||Array.prototype.slice.call(t))},NO=["onCopy","onCut","onPaste"],PO=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],FO=["onFocus","onBlur"],zO=["onInput","onInvalid","onReset","onSubmit"],HO=["onLoad","onError"],jO=["onKeyDown","onKeyPress","onKeyUp"],UO=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],IO=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],BO=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],qO=["onSelect"],GO=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],VO=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],YO=["onScroll"],XO=["onWheel"],$O=["onAnimationStart","onAnimationEnd","onAnimationIteration"],KO=["onTransitionEnd"],WO=["onToggle"],QO=["onChange"],ZO=Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke([],NO,!0),PO,!0),FO,!0),zO,!0),HO,!0),jO,!0),UO,!0),IO,!0),BO,!0),qO,!0),GO,!0),VO,!0),YO,!0),XO,!0),$O,!0),KO,!0),QO,!0),WO,!0);function PT(c,t){var e={};return ZO.forEach(function(s){var r=c[s];r&&(t?e[s]=function(l){return r(l,t(s))}:e[s]=r)}),e}function rf(c){var t=!1,e=new Promise(function(s,r){c.then(function(l){return!t&&s(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function FT(c){var t,e,s="";if(typeof c=="string"||typeof c=="number")s+=c;else if(typeof c=="object")if(Array.isArray(c)){var r=c.length;for(t=0;t<r;t++)c[t]&&(e=FT(c[t]))&&(s&&(s+=" "),s+=e)}else for(e in c)c[e]&&(s&&(s+=" "),s+=e);return s}function Bg(){for(var c,t,e=0,s="",r=arguments.length;e<r;e++)(c=arguments[e])&&(t=FT(c))&&(s&&(s+=" "),s+=t);return s}var JO="Invariant failed";function ie(c,t){if(!c)throw new Error(JO)}var Ev,Y_;function tk(){if(Y_)return Ev;Y_=1;var c=function(){};return Ev=c,Ev}var ek=tk();const An=Dg(ek);var X_=Object.prototype.hasOwnProperty;function $_(c,t,e){for(e of c.keys())if(oc(e,t))return e}function oc(c,t){var e,s,r;if(c===t)return!0;if(c&&t&&(e=c.constructor)===t.constructor){if(e===Date)return c.getTime()===t.getTime();if(e===RegExp)return c.toString()===t.toString();if(e===Array){if((s=c.length)===t.length)for(;s--&&oc(c[s],t[s]););return s===-1}if(e===Set){if(c.size!==t.size)return!1;for(s of c)if(r=s,r&&typeof r=="object"&&(r=$_(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(c.size!==t.size)return!1;for(s of c)if(r=s[0],r&&typeof r=="object"&&(r=$_(t,r),!r)||!oc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)c=new Uint8Array(c),t=new Uint8Array(t);else if(e===DataView){if((s=c.byteLength)===t.byteLength)for(;s--&&c.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(c)){if((s=c.byteLength)===t.byteLength)for(;s--&&c[s]===t[s];);return s===-1}if(!e||typeof c=="object"){s=0;for(e in c)if(X_.call(c,e)&&++s&&!X_.call(t,e)||!(e in t)||!oc(c[e],t[e]))return!1;return Object.keys(t).length===s}}return c!==c&&t!==t}const zT=z.createContext(null);function cc({children:c,type:t}){return X.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:c})}const nk="noopener noreferrer nofollow";class ik{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ie(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ie(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ie(this.pdfDocument),ie(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ie(Array.isArray(e));const s=e[0];new Promise(r=>{ie(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{r(l)}).catch(()=>{ie(!1)}):typeof s=="number"?r(s):ie(!1)}).then(r=>{const l=r+1;ie(this.pdfViewer),ie(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ie(this.pdfViewer),ie(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||nk,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const K_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},qg=typeof window<"u",HT=qg&&window.location.protocol==="file:";function sk(c){return typeof c<"u"}function tl(c){return sk(c)&&c!==null}function ak(c){return typeof c=="string"}function rk(c){return c instanceof ArrayBuffer}function lk(c){return ie(qg),c instanceof Blob}function Gb(c){return ak(c)&&/^data:/.test(c)}function W_(c){ie(Gb(c));const[t="",e=""]=c.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function ok(){return qg&&window.devicePixelRatio||1}const jT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Q_(){An(!HT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${jT}`)}function ck(){An(!HT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${jT}`)}function ro(c){c!=null&&c.cancel&&c.cancel()}function Vb(c,t){return Object.defineProperty(c,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(c,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(c,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(c,"originalHeight",{get(){return this.view[3]},configurable:!0}),c}function uk(c){return c.name==="RenderingCancelledException"}function hk(c){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(c)})}function dk(c,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return c}}function ou(){return z.useReducer(dk,{value:void 0,error:void 0})}var fk=function(c,t,e,s){function r(l){return l instanceof e?l:new e(function(u){u(l)})}return new(e||(e=Promise))(function(l,u){function d(m){try{g(s.next(m))}catch(v){u(v)}}function f(m){try{g(s.throw(m))}catch(v){u(v)}}function g(m){m.done?l(m.value):r(m.value).then(d,f)}g((s=s.apply(c,t||[])).next())})},Z_=function(c,t){var e={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&t.indexOf(s)<0&&(e[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(c);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(c,s[r])&&(e[s[r]]=c[s[r]]);return e};const{PDFDataRangeTransport:pk}=kO,gk=(c,t)=>{switch(t){case K_.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");c(e);break}case K_.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");c(e);break}}};function J_(c){return typeof c=="object"&&c!==null&&("data"in c||"range"in c||"url"in c)}const mk=z.forwardRef(function(t,e){var{children:s,className:r,error:l="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:g,imageResourcesPath:m,loading:v="Loading PDF",noData:b="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:w,onLoadSuccess:M,onPassword:x=gk,onSourceError:O,onSourceSuccess:k,options:N,renderMode:H,rotate:B}=t,Y=Z_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,G]=ou(),{value:nt,error:at}=W,[St,ht]=ou(),{value:ft,error:gt}=St,V=z.useRef(new ik),Z=z.useRef([]),J=z.useRef(void 0),_t=z.useRef(void 0);f&&f!==J.current&&J_(f)&&(An(!oc(f,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=f),N&&N!==_t.current&&(An(!oc(N,_t.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_t.current=N);const L=z.useRef({scrollPageIntoView:zt=>{const{dest:oe,pageNumber:we,pageIndex:ce=we-1}=zt;if(A){A({dest:oe,pageIndex:ce,pageNumber:we});return}const Wi=Z.current[ce];if(Wi){Wi.scrollIntoView();return}An(!1,`An internal link leading to page ${we} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(e,()=>({linkService:V,pages:Z,viewer:L}),[]);function U(){k&&k()}function tt(){at&&(An(!1,at.toString()),O&&O(at))}function et(){G({type:"RESET"})}z.useEffect(et,[f,G]);const it=z.useCallback(()=>fk(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return Gb(f)?{data:W_(f)}:(Q_(),{url:f});if(f instanceof pk)return{range:f};if(rk(f))return{data:f};if(qg&&lk(f))return{data:yield hk(f)};if(ie(typeof f=="object"),ie(J_(f)),"url"in f&&typeof f.url=="string"){if(Gb(f.url)){const{url:zt}=f,oe=Z_(f,["url"]),we=W_(zt);return Object.assign({data:we},oe)}Q_()}return f}),[f]);z.useEffect(()=>{const zt=rf(it());return zt.promise.then(oe=>{G({type:"RESOLVE",value:oe})}).catch(oe=>{G({type:"REJECT",error:oe})}),()=>{ro(zt)}},[it,G]),z.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){tt();return}U()}},[nt]);function pt(){ft&&(M&&M(ft),Z.current=new Array(ft.numPages),V.current.setDocument(ft))}function ct(){gt&&(An(!1,gt.toString()),S&&S(gt))}z.useEffect(function(){ht({type:"RESET"})},[ht,nt]),z.useEffect(function(){if(!nt)return;const oe=N?Object.assign(Object.assign({},nt),N):nt,we=NT(oe);w&&(we.onProgress=w),x&&(we.onPassword=x);const ce=we,Wi=ce.promise.then(Qi=>{ht({type:"RESOLVE",value:Qi})}).catch(Qi=>{ce.destroyed||ht({type:"REJECT",error:Qi})});return()=>{Wi.finally(()=>ce.destroy())}},[N,ht,nt]),z.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ct();return}pt()}},[ft]),z.useEffect(function(){V.current.setViewer(L.current),V.current.setExternalLinkRel(u),V.current.setExternalLinkTarget(d)},[u,d]);const ot=z.useCallback((zt,oe)=>{Z.current[zt]=oe},[]),vt=z.useCallback(zt=>{delete Z.current[zt]},[]),kt=z.useMemo(()=>({imageResourcesPath:m,linkService:V.current,onItemClick:A,pdf:ft,registerPage:ot,renderMode:H,rotate:B,unregisterPage:vt}),[m,A,ft,ot,H,B,vt]),bt=z.useMemo(()=>PT(Y,()=>ft),[Y,ft]);function Ft(){return X.jsx(zT.Provider,{value:kt,children:s})}function un(){return f?ft==null?X.jsx(cc,{type:"loading",children:typeof v=="function"?v():v}):ft===!1?X.jsx(cc,{type:"error",children:typeof l=="function"?l():l}):Ft():X.jsx(cc,{type:"no-data",children:typeof b=="function"?b():b})}return X.jsx("div",Object.assign({className:Bg("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},bt,{children:un()}))});function UT(){return z.useContext(zT)}function IT(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];var e=c.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(l){e.forEach(function(u){typeof u=="function"?u(l):u&&(u.current=l)})}}const BT=z.createContext(null),qT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},yk=/^H(\d+)$/;function vk(c){return c in qT}function Gg(c){return"children"in c}function GT(c){return Gg(c)?c.children.length===1&&0 in c.children&&"id"in c.children[0]:!1}function bk(c){const t={};if(Gg(c)){const{role:e}=c,s=e.match(yk);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(vk(e)){const r=qT[e];r&&(t.role=r)}}return t}function VT(c){const t={};if(Gg(c)){if(c.alt!==void 0&&(t["aria-label"]=c.alt),c.lang!==void 0&&(t.lang=c.lang),GT(c)){const[e]=c.children;if(e){const s=VT(e);return Object.assign(Object.assign({},t),s)}}}else"id"in c&&(t["aria-owns"]=c.id);return t}function Ak(c){return c?Object.assign(Object.assign({},bk(c)),VT(c)):null}function YT({className:c,node:t}){const e=z.useMemo(()=>Ak(t),[t]),s=z.useMemo(()=>!Gg(t)||GT(t)?null:t.children.map((r,l)=>X.jsx(YT,{node:r},l)),[t]);return X.jsx("span",Object.assign({className:c},e,{children:s}))}function Vg(){return z.useContext(BT)}function Ek(){const c=Vg();ie(c);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=c,[s,r]=ou(),{value:l,error:u}=s,{customTextRenderer:d,page:f}=c;function g(){l&&e&&e(l)}function m(){u&&(An(!1,u.toString()),t&&t(u))}return z.useEffect(function(){r({type:"RESET"})},[r,f]),z.useEffect(function(){if(d||!f)return;const b=rf(f.getStructTree()),A=b;return b.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>ro(A)},[d,f,r]),z.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}g()}},[l]),l?X.jsx(YT,{className:"react-pdf__Page__structTree structTree",node:l}):null}const t1=OT;function Sk(c){const t=Vg();ie(t);const e=Object.assign(Object.assign({},t),c),{_className:s,canvasBackground:r,devicePixelRatio:l=ok(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:g,renderTextLayer:m,rotate:v,scale:b}=e,{canvasRef:A}=c;ie(f);const S=z.useRef(null);function w(){f&&d&&d(Vb(f,b))}function M(N){uk(N)||(An(!1,N.toString()),u&&u(N))}const x=z.useMemo(()=>f.getViewport({scale:b*l,rotation:v}),[l,f,v,b]),O=z.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);z.useEffect(function(){if(!f)return;f.cleanup();const{current:H}=S;if(!H)return;H.width=x.width,H.height=x.height,H.style.width=`${Math.floor(O.width)}px`,H.style.height=`${Math.floor(O.height)}px`,H.style.visibility="hidden";const B={annotationMode:g?t1.ENABLE_FORMS:t1.ENABLE,canvasContext:H.getContext("2d",{alpha:!1}),viewport:x};r&&(B.background=r);const Y=f.render(B),W=Y;return Y.promise.then(()=>{H.style.visibility="",w()}).catch(M),()=>ro(W)},[r,f,g,x,O]);const k=z.useCallback(()=>{const{current:N}=S;N&&(N.width=0,N.height=0)},[]);return z.useEffect(()=>k,[k]),X.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:IT(A,S),style:{display:"block",userSelect:"none"},children:m?X.jsx(Ek,{}):null})}function _k(c){return"str"in c}function wk(){const c=Vg();ie(c);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:u,pageIndex:d,pageNumber:f,rotate:g,scale:m}=c;ie(u);const[v,b]=ou(),{value:A,error:S}=v,w=z.useRef(null);An(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&s&&s(A)}function x(){S&&(An(!1,S.toString()),e&&e(S))}z.useEffect(function(){b({type:"RESET"})},[u,b]),z.useEffect(function(){if(!u)return;const W=rf(u.getTextContent()),G=W;return W.promise.then(nt=>{b({type:"RESOLVE",value:nt})}).catch(nt=>{b({type:"REJECT",error:nt})}),()=>ro(G)},[u,b]),z.useEffect(()=>{if(A!==void 0){if(A===!1){x();return}M()}},[A]);const O=z.useCallback(()=>{l&&l()},[l]),k=z.useCallback(Y=>{An(!1,Y.toString()),r&&r(Y)},[r]);function N(){const Y=w.current;Y&&Y.classList.add("selecting")}function H(){const Y=w.current;Y&&Y.classList.remove("selecting")}const B=z.useMemo(()=>u.getViewport({scale:m,rotation:g}),[u,g,m]);return z.useLayoutEffect(function(){if(!u||!A)return;const{current:W}=w;if(!W)return;W.innerHTML="";const G=u.streamTextContent({includeMarkedContent:!0}),nt={container:W,textContentSource:G,viewport:B},at=new kT(nt),St=at;return at.render().then(()=>{const ht=document.createElement("div");ht.className="endOfContent",W.append(ht);const ft=W.querySelectorAll('[role="presentation"]');if(t){let gt=0;A.items.forEach((V,Z)=>{if(!_k(V))return;const J=ft[gt];if(!J)return;const _t=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:Z},V));J.innerHTML=_t,gt+=V.str&&V.hasEOL?2:1})}O()}).catch(k),()=>ro(St)},[t,k,O,u,d,f,A,B]),X.jsx("div",{className:Bg("react-pdf__Page__textContent","textLayer"),onMouseUp:H,onMouseDown:N,ref:w})}function Tk(){const c=UT(),t=Vg();ie(t);const e=Object.assign(Object.assign({},c),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:g,pdf:m,renderForms:v,rotate:b,scale:A=1}=e;ie(m),ie(g),ie(r);const[S,w]=ou(),{value:M,error:x}=S,O=z.useRef(null);An(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){M&&u&&u(M)}function N(){x&&(An(!1,x.toString()),l&&l(x))}z.useEffect(function(){w({type:"RESET"})},[w,g]),z.useEffect(function(){if(!g)return;const G=rf(g.getAnnotations()),nt=G;return G.promise.then(at=>{w({type:"RESOLVE",value:at})}).catch(at=>{w({type:"REJECT",error:at})}),()=>{ro(nt)}},[w,g]),z.useEffect(()=>{if(M!==void 0){if(M===!1){N();return}k()}},[M]);function H(){f&&f()}function B(W){An(!1,`${W}`),d&&d(W)}const Y=z.useMemo(()=>g.getViewport({scale:A,rotation:b}),[g,b,A]);return z.useEffect(function(){if(!m||!g||!r||!M)return;const{current:G}=O;if(!G)return;const nt=Y.clone({dontFlip:!0}),at={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:g,structTreeLayer:null,viewport:nt},St={annotations:M,annotationStorage:m.annotationStorage,div:G,imageResourcesPath:s,linkService:r,page:g,renderForms:v,viewport:nt};G.innerHTML="";try{new DT(at).render(St),H()}catch(ht){B(ht)}return()=>{}},[M,s,r,g,m,v,Y]),X.jsx("div",{className:Bg("react-pdf__Page__annotations","annotationLayer"),ref:O})}var xk=function(c,t){var e={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&t.indexOf(s)<0&&(e[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(c);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(c,s[r])&&(e[s[r]]=c[s[r]]);return e};const e1=1;function Ck(c){const t=UT(),e=Object.assign(Object.assign({},t),c),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:u,children:d,className:f,customRenderer:g,customTextRenderer:m,devicePixelRatio:v,error:b="Failed to load the page.",height:A,inputRef:S,loading:w="Loading page",noData:M="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:O,onGetStructTreeError:k,onGetStructTreeSuccess:N,onGetTextError:H,onGetTextSuccess:B,onLoadError:Y,onLoadSuccess:W,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:nt,onRenderError:at,onRenderSuccess:St,onRenderTextLayerError:ht,onRenderTextLayerSuccess:ft,pageIndex:gt,pageNumber:V,pdf:Z,registerPage:J,renderAnnotationLayer:_t=!0,renderForms:L=!1,renderMode:U="canvas",renderTextLayer:tt=!0,rotate:et,scale:it=e1,unregisterPage:pt,width:ct}=e,ot=xk(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[vt,kt]=ou(),{value:bt,error:Ft}=vt,un=z.useRef(null);ie(Z);const zt=tl(V)?V-1:gt??null,oe=V??(tl(gt)?gt+1:null),we=et??(bt?bt.rotate:null),ce=z.useMemo(()=>{if(!bt)return null;let ws=1;const Ts=it??e1;if(ct||A){const po=bt.getViewport({scale:1,rotation:we});ct?ws=ct/po.width:A&&(ws=A/po.height)}return Ts*ws},[A,bt,we,it,ct]);z.useEffect(function(){return()=>{tl(zt)&&r&&pt&&pt(zt)}},[r,Z,zt,pt]);function Wi(){if(W){if(!bt||!ce)return;W(Vb(bt,ce))}if(r&&J){if(!tl(zt)||!un.current)return;J(zt,un.current)}}function Qi(){Ft&&(An(!1,Ft.toString()),Y&&Y(Ft))}z.useEffect(function(){kt({type:"RESET"})},[kt,Z,zt]),z.useEffect(function(){if(!Z||!oe)return;const Ts=rf(Z.getPage(oe)),po=Ts;return Ts.promise.then(go=>{kt({type:"RESOLVE",value:go})}).catch(go=>{kt({type:"REJECT",error:go})}),()=>ro(po)},[kt,Z,oe]),z.useEffect(()=>{if(bt!==void 0){if(bt===!1){Qi();return}Wi()}},[bt,ce]);const du=z.useMemo(()=>bt&&tl(zt)&&oe&&tl(we)&&tl(ce)?{_className:s,canvasBackground:l,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:x,onGetAnnotationsSuccess:O,onGetStructTreeError:k,onGetStructTreeSuccess:N,onGetTextError:H,onGetTextSuccess:B,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:nt,onRenderError:at,onRenderSuccess:St,onRenderTextLayerError:ht,onRenderTextLayerSuccess:ft,page:bt,pageIndex:zt,pageNumber:oe,renderForms:L,renderTextLayer:tt,rotate:we,scale:ce}:null,[s,l,m,v,x,O,k,N,H,B,G,nt,at,St,ht,ft,bt,zt,oe,L,tt,we,ce]),fu=z.useMemo(()=>PT(ot,()=>bt&&(ce?Vb(bt,ce):void 0)),[ot,bt,ce]),Ca=`${zt}@${ce}/${we}`;function Yg(){switch(U){case"custom":return ie(g),X.jsx(g,{},`${Ca}_custom`);case"none":return null;case"canvas":default:return X.jsx(Sk,{canvasRef:u},`${Ca}_canvas`)}}function Xg(){return tt?X.jsx(wk,{},`${Ca}_text`):null}function li(){return _t?X.jsx(Tk,{},`${Ca}_annotations`):null}function $g(){return X.jsxs(BT.Provider,{value:du,children:[Yg(),Xg(),li(),d]})}function lf(){return oe?Z===null||bt===void 0||bt===null?X.jsx(cc,{type:"loading",children:typeof w=="function"?w():w}):Z===!1||bt===!1?X.jsx(cc,{type:"error",children:typeof b=="function"?b():b}):$g():X.jsx(cc,{type:"no-data",children:typeof M=="function"?M():M})}return X.jsx("div",Object.assign({className:Bg(s,f),"data-page-number":oe,ref:IT(S,un),style:{"--scale-factor":`${ce}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},fu,{children:lf()}))}ck();d0.workerSrc="pdf.worker.mjs";const n1="/assets/cv-CCCaAHTL.pdf";d0.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function Rk(){const[c,t]=z.useState(null);return X.jsxs("div",{className:"cv-container",children:[X.jsx("h1",{children:"Mon CV"}),X.jsx(mk,{file:n1,onLoadSuccess:({numPages:e})=>t(e),children:Array.from(new Array(c),(e,s)=>X.jsx(Ck,{pageNumber:s+1},s))}),X.jsx("a",{href:n1,download:!0,className:"cv-download",children:"Tlcharger le CV"})]})}function Mk(){return X.jsxs(p2,{children:[X.jsx(_v,{path:"/",element:X.jsxs(X.Fragment,{children:[X.jsx(aM,{}),X.jsxs("main",{children:[X.jsx(rM,{}),X.jsx(lM,{}),X.jsx(cM,{}),X.jsx(dM,{}),X.jsx(VM,{})]}),X.jsx(YM,{})]})}),X.jsx(_v,{path:"/cv",element:X.jsx(Rk,{})})]})}_R.createRoot(document.getElementById("root")).render(X.jsx(z2,{children:X.jsx(Mk,{})}));
