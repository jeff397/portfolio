var _R=Object.defineProperty;var c_=c=>{throw TypeError(c)};var wR=(c,t,e)=>t in c?_R(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var xt=(c,t,e)=>wR(c,typeof t!="symbol"?t+"":t,e),ay=(c,t,e)=>t.has(c)||c_("Cannot "+e);var h=(c,t,e)=>(ay(c,t,"read from private field"),e?e.call(c):t.get(c)),R=(c,t,e)=>t.has(c)?c_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),_=(c,t,e,s)=>(ay(c,t,"write to private field"),s?s.call(c,e):t.set(c,e),e),x=(c,t,e)=>(ay(c,t,"access private method"),e);var Tn=(c,t,e,s)=>({set _(r){_(c,t,r,e)},get _(){return h(c,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Lg(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ry={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function xR(){if(u_)return sh;u_=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:c,type:s,key:u,ref:r!==void 0?r:null,props:o}}return sh.Fragment=t,sh.jsx=e,sh.jsxs=e,sh}var h_;function TR(){return h_||(h_=1,ry.exports=xR()),ry.exports}var V=TR(),oy={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function CR(){if(d_)return Mt;d_=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function M(L,I,$){this.props=L,this.context=I,this.refs=w,this.updater=$||A}M.prototype.isReactComponent={},M.prototype.setState=function(L,I){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,I,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=M.prototype;function D(L,I,$){this.props=L,this.context=I,this.refs=w,this.updater=$||A}var N=D.prototype=new T;N.constructor=D,E(N,M.prototype),N.isPureReactComponent=!0;var k=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function K(L,I,$,W,it,gt){return $=gt.ref,{$$typeof:c,type:L,key:I,ref:$!==void 0?$:null,props:gt}}function Z(L,I){return K(L.type,I,void 0,void 0,void 0,L.props)}function nt(L){return typeof L=="object"&&L!==null&&L.$$typeof===c}function at(L){var I={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function($){return I[$]})}var st=/\/+/g;function mt(L,I){return typeof L=="object"&&L!==null&&L.key!=null?at(""+L.key):I.toString(36)}function ft(){}function pt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ft,ft):(L.status="pending",L.then(function(I){L.status==="pending"&&(L.status="fulfilled",L.value=I)},function(I){L.status==="pending"&&(L.status="rejected",L.reason=I)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function dt(L,I,$,W,it){var gt=typeof L;(gt==="undefined"||gt==="boolean")&&(L=null);var ot=!1;if(L===null)ot=!0;else switch(gt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(L.$$typeof){case c:case t:ot=!0;break;case m:return ot=L._init,dt(ot(L._payload),I,$,W,it)}}if(ot)return it=it(L),ot=W===""?"."+mt(L,0):W,k(it)?($="",ot!=null&&($=ot.replace(st,"$&/")+"/"),dt(it,I,$,"",function(se){return se})):it!=null&&(nt(it)&&(it=Z(it,$+(it.key==null||L&&L.key===it.key?"":(""+it.key).replace(st,"$&/")+"/")+ot)),I.push(it)),1;ot=0;var ct=W===""?".":W+":";if(k(L))for(var Et=0;Et<L.length;Et++)W=L[Et],gt=ct+mt(W,Et),ot+=dt(W,I,$,gt,it);else if(Et=b(L),typeof Et=="function")for(L=Et.call(L),Et=0;!(W=L.next()).done;)W=W.value,gt=ct+mt(W,Et++),ot+=dt(W,I,$,gt,it);else if(gt==="object"){if(typeof L.then=="function")return dt(pt(L),I,$,W,it);throw I=String(L),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ot}function F(L,I,$){if(L==null)return L;var W=[],it=0;return dt(L,W,"","",function(gt){return I.call($,gt,it++)}),W}function X(L){if(L._status===-1){var I=L._result;I=I(),I.then(function($){(L._status===0||L._status===-1)&&(L._status=1,L._result=$)},function($){(L._status===0||L._status===-1)&&(L._status=2,L._result=$)}),L._status===-1&&(L._status=0,L._result=I)}if(L._status===1)return L._result.default;throw L._result}var et=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function At(){}return Mt.Children={map:F,forEach:function(L,I,$){F(L,function(){I.apply(this,arguments)},$)},count:function(L){var I=0;return F(L,function(){I++}),I},toArray:function(L){return F(L,function(I){return I})||[]},only:function(L){if(!nt(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Mt.Component=M,Mt.Fragment=e,Mt.Profiler=r,Mt.PureComponent=D,Mt.StrictMode=s,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return j.H.useMemoCache(L)}},Mt.cache=function(L){return function(){return L.apply(null,arguments)}},Mt.cloneElement=function(L,I,$){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var W=E({},L.props),it=L.key,gt=void 0;if(I!=null)for(ot in I.ref!==void 0&&(gt=void 0),I.key!==void 0&&(it=""+I.key),I)!q.call(I,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&I.ref===void 0||(W[ot]=I[ot]);var ot=arguments.length-2;if(ot===1)W.children=$;else if(1<ot){for(var ct=Array(ot),Et=0;Et<ot;Et++)ct[Et]=arguments[Et+2];W.children=ct}return K(L.type,it,void 0,void 0,gt,W)},Mt.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Mt.createElement=function(L,I,$){var W,it={},gt=null;if(I!=null)for(W in I.key!==void 0&&(gt=""+I.key),I)q.call(I,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(it[W]=I[W]);var ot=arguments.length-2;if(ot===1)it.children=$;else if(1<ot){for(var ct=Array(ot),Et=0;Et<ot;Et++)ct[Et]=arguments[Et+2];it.children=ct}if(L&&L.defaultProps)for(W in ot=L.defaultProps,ot)it[W]===void 0&&(it[W]=ot[W]);return K(L,gt,void 0,void 0,null,it)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(L){return{$$typeof:d,render:L}},Mt.isValidElement=nt,Mt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:X}},Mt.memo=function(L,I){return{$$typeof:g,type:L,compare:I===void 0?null:I}},Mt.startTransition=function(L){var I=j.T,$={};j.T=$;try{var W=L(),it=j.S;it!==null&&it($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(At,et)}catch(gt){et(gt)}finally{j.T=I}},Mt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Mt.use=function(L){return j.H.use(L)},Mt.useActionState=function(L,I,$){return j.H.useActionState(L,I,$)},Mt.useCallback=function(L,I){return j.H.useCallback(L,I)},Mt.useContext=function(L){return j.H.useContext(L)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(L,I){return j.H.useDeferredValue(L,I)},Mt.useEffect=function(L,I,$){var W=j.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(L,I)},Mt.useId=function(){return j.H.useId()},Mt.useImperativeHandle=function(L,I,$){return j.H.useImperativeHandle(L,I,$)},Mt.useInsertionEffect=function(L,I){return j.H.useInsertionEffect(L,I)},Mt.useLayoutEffect=function(L,I){return j.H.useLayoutEffect(L,I)},Mt.useMemo=function(L,I){return j.H.useMemo(L,I)},Mt.useOptimistic=function(L,I){return j.H.useOptimistic(L,I)},Mt.useReducer=function(L,I,$){return j.H.useReducer(L,I,$)},Mt.useRef=function(L){return j.H.useRef(L)},Mt.useState=function(L){return j.H.useState(L)},Mt.useSyncExternalStore=function(L,I,$){return j.H.useSyncExternalStore(L,I,$)},Mt.useTransition=function(){return j.H.useTransition()},Mt.version="19.1.0",Mt}var f_;function Qb(){return f_||(f_=1,oy.exports=CR()),oy.exports}var z=Qb();const ce=Lg(z);var ly={exports:{}},ah={},cy={exports:{}},uy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function RR(){return p_||(p_=1,function(c){function t(F,X){var et=F.length;F.push(X);t:for(;0<et;){var At=et-1>>>1,L=F[At];if(0<r(L,X))F[At]=X,F[et]=L,et=At;else break t}}function e(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var X=F[0],et=F.pop();if(et!==X){F[0]=et;t:for(var At=0,L=F.length,I=L>>>1;At<I;){var $=2*(At+1)-1,W=F[$],it=$+1,gt=F[it];if(0>r(W,et))it<L&&0>r(gt,W)?(F[At]=gt,F[it]=et,At=it):(F[At]=W,F[$]=et,At=$);else if(it<L&&0>r(gt,et))F[At]=gt,F[it]=et,At=it;else break t}}return X}function r(F,X){var et=F.sortIndex-X.sortIndex;return et!==0?et:F.id-X.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();c.unstable_now=function(){return u.now()-d}}var f=[],g=[],m=1,y=null,b=3,A=!1,E=!1,w=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(F){for(var X=e(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=F)s(g),X.sortIndex=X.expirationTime,t(f,X);else break;X=e(g)}}function j(F){if(w=!1,k(F),!E)if(e(f)!==null)E=!0,q||(q=!0,mt());else{var X=e(g);X!==null&&dt(j,X.startTime-F)}}var q=!1,K=-1,Z=5,nt=-1;function at(){return M?!0:!(c.unstable_now()-nt<Z)}function st(){if(M=!1,q){var F=c.unstable_now();nt=F;var X=!0;try{t:{E=!1,w&&(w=!1,D(K),K=-1),A=!0;var et=b;try{e:{for(k(F),y=e(f);y!==null&&!(y.expirationTime>F&&at());){var At=y.callback;if(typeof At=="function"){y.callback=null,b=y.priorityLevel;var L=At(y.expirationTime<=F);if(F=c.unstable_now(),typeof L=="function"){y.callback=L,k(F),X=!0;break e}y===e(f)&&s(f),k(F)}else s(f);y=e(f)}if(y!==null)X=!0;else{var I=e(g);I!==null&&dt(j,I.startTime-F),X=!1}}break t}finally{y=null,b=et,A=!1}X=void 0}}finally{X?mt():q=!1}}}var mt;if(typeof N=="function")mt=function(){N(st)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,pt=ft.port2;ft.port1.onmessage=st,mt=function(){pt.postMessage(null)}}else mt=function(){T(st,0)};function dt(F,X){K=T(function(){F(c.unstable_now())},X)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(F){F.callback=null},c.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<F?Math.floor(1e3/F):5},c.unstable_getCurrentPriorityLevel=function(){return b},c.unstable_next=function(F){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var et=b;b=X;try{return F()}finally{b=et}},c.unstable_requestPaint=function(){M=!0},c.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var et=b;b=F;try{return X()}finally{b=et}},c.unstable_scheduleCallback=function(F,X,et){var At=c.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?At+et:At):et=At,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=et+L,F={id:m++,callback:X,priorityLevel:F,startTime:et,expirationTime:L,sortIndex:-1},et>At?(F.sortIndex=et,t(g,F),e(f)===null&&F===e(g)&&(w?(D(K),K=-1):w=!0,dt(j,et-At))):(F.sortIndex=L,t(f,F),E||A||(E=!0,q||(q=!0,mt()))),F},c.unstable_shouldYield=at,c.unstable_wrapCallback=function(F){var X=b;return function(){var et=b;b=X;try{return F.apply(this,arguments)}finally{b=et}}}}(uy)),uy}var g_;function MR(){return g_||(g_=1,cy.exports=RR()),cy.exports}var hy={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function LR(){if(m_)return mn;m_=1;var c=Qb();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:g,implementation:m}}var u=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,m)},mn.flushSync=function(f){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=g,s.p=m,s.d.f()}},mn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},mn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},mn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,y=d(m,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:A}):m==="script"&&s.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},mn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=d(m,g.crossOrigin);s.d.L(f,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},mn.requestFormReset=function(f){s.d.r(f)},mn.unstable_batchedUpdates=function(f,g){return f(g)},mn.useFormState=function(f,g,m){return u.H.useFormState(f,g,m)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var v_;function DR(){if(v_)return hy.exports;v_=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),hy.exports=LR(),hy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function OR(){if(y_)return ah;y_=1;var c=MR(),t=Qb(),e=DR();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(s(188))}function f(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var p=a.return;if(p===null)break;var v=p.alternate;if(v===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===a)return d(p),n;if(v===l)return d(p),i;v=v.sibling}throw Error(s(188))}if(a.return!==l.return)a=p,l=v;else{for(var S=!1,C=p.child;C;){if(C===a){S=!0,a=p,l=v;break}if(C===l){S=!0,l=p,a=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===a){S=!0,a=v,l=p;break}if(C===l){S=!0,l=v,a=p;break}C=C.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function mt(n){return n===null||typeof n!="object"?null:(n=st&&n[st]||n["@@iterator"],typeof n=="function"?n:null)}var ft=Symbol.for("react.client.reference");function pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ft?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case j:return"Suspense";case q:return"SuspenseList";case nt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case N:return(n.displayName||"Context")+".Provider";case D:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return i=n.displayName||null,i!==null?i:pt(n.type)||"Memo";case Z:i=n._payload,n=n._init;try{return pt(n(i))}catch{}}return null}var dt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},At=[],L=-1;function I(n){return{current:n}}function $(n){0>L||(n.current=At[L],At[L]=null,L--)}function W(n,i){L++,At[L]=n.current,n.current=i}var it=I(null),gt=I(null),ot=I(null),ct=I(null);function Et(n,i){switch(W(ot,i),W(gt,n),W(it,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?zE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=zE(i),n=HE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(it),W(it,n)}function se(){$(it),$(gt),$(ot)}function jt(n){n.memoizedState!==null&&W(ct,n);var i=it.current,a=HE(i,n.type);i!==a&&(W(gt,n),W(it,a))}function qt(n){gt.current===n&&($(it),$(gt)),ct.current===n&&($(ct),Ju._currentValue=et)}var kn=Object.prototype.hasOwnProperty,Bt=c.unstable_scheduleCallback,he=c.unstable_cancelCallback,Ye=c.unstable_shouldYield,Me=c.unstable_requestPaint,an=c.unstable_now,Cr=c.unstable_getCurrentPriorityLevel,tf=c.unstable_ImmediatePriority,ef=c.unstable_UserBlockingPriority,_s=c.unstable_NormalPriority,Vg=c.unstable_LowPriority,nf=c.unstable_IdlePriority,Yg=c.log,Xg=c.unstable_setDisableYieldValue,Rr=null,Le=null;function Xn(n){if(typeof Yg=="function"&&Xg(n),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Rr,n)}catch{}}var Xe=Math.clz32?Math.clz32:cT,ou=Math.log,lT=Math.LN2;function cT(n){return n>>>=0,n===0?32:31-(ou(n)/lT|0)|0}var sf=256,af=4194304;function Mr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function rf(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var p=0,v=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~v,l!==0?p=Mr(l):(S&=C,S!==0?p=Mr(S):a||(a=C&~n,a!==0&&(p=Mr(a))))):(C=l&~v,C!==0?p=Mr(C):S!==0?p=Mr(S):a||(a=l&~n,a!==0&&(p=Mr(a)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,a=i&-i,v>=a||v===32&&(a&4194048)!==0)?i:p}function lu(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function uT(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A0(){var n=sf;return sf<<=1,(sf&4194048)===0&&(sf=256),n}function S0(){var n=af;return af<<=1,(af&62914560)===0&&(af=4194304),n}function Kg(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function cu(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function hT(n,i,a,l,p,v){var S=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,O=n.expirationTimes,B=n.hiddenUpdates;for(a=S&~a;0<a;){var Q=31-Xe(a),tt=1<<Q;C[Q]=0,O[Q]=-1;var G=B[Q];if(G!==null)for(B[Q]=null,Q=0;Q<G.length;Q++){var Y=G[Q];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&E0(n,l,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(S&~i))}function E0(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Xe(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function _0(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Xe(a),p=1<<l;p&i|n[l]&i&&(n[l]|=i),a&=~p}}function $g(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Wg(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function w0(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:i_(n.type))}function dT(n,i){var a=X.p;try{return X.p=n,i()}finally{X.p=a}}var _a=Math.random().toString(36).slice(2),pn="__reactFiber$"+_a,Pn="__reactProps$"+_a,ol="__reactContainer$"+_a,Qg="__reactEvents$"+_a,fT="__reactListeners$"+_a,pT="__reactHandles$"+_a,x0="__reactResources$"+_a,uu="__reactMarker$"+_a;function Zg(n){delete n[pn],delete n[Pn],delete n[Qg],delete n[fT],delete n[pT]}function ll(n){var i=n[pn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[ol]||a[pn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=BE(n);n!==null;){if(a=n[pn])return a;n=BE(n)}return i}n=a,a=n.parentNode}return null}function cl(n){if(n=n[pn]||n[ol]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function hu(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function ul(n){var i=n[x0];return i||(i=n[x0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ke(n){n[uu]=!0}var T0=new Set,C0={};function Lr(n,i){hl(n,i),hl(n+"Capture",i)}function hl(n,i){for(C0[n]=i,n=0;n<i.length;n++)T0.add(i[n])}var gT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),R0={},M0={};function mT(n){return kn.call(M0,n)?!0:kn.call(R0,n)?!1:gT.test(n)?M0[n]=!0:(R0[n]=!0,!1)}function of(n,i,a){if(mT(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function lf(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function ws(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Jg,L0;function dl(n){if(Jg===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jg=i&&i[1]||"",L0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jg+n+L0}var tm=!1;function em(n,i){if(!n||tm)return"";tm=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var G=Y}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(Y){G=Y}n.call(tt.prototype)}}else{try{throw Error()}catch(Y){G=Y}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),S=v[0],C=v[1];if(S&&C){var O=S.split(`
`),B=C.split(`
`);for(p=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;if(l===O.length||p===B.length)for(l=O.length-1,p=B.length-1;1<=l&&0<=p&&O[l]!==B[p];)p--;for(;1<=l&&0<=p;l--,p--)if(O[l]!==B[p]){if(l!==1||p!==1)do if(l--,p--,0>p||O[l]!==B[p]){var Q=`
`+O[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=p);break}}}finally{tm=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?dl(a):""}function vT(n){switch(n.tag){case 26:case 27:case 5:return dl(n.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 15:return em(n.type,!1);case 11:return em(n.type.render,!1);case 1:return em(n.type,!0);case 31:return dl("Activity");default:return""}}function D0(n){try{var i="";do i+=vT(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function O0(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yT(n){var i=O0(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,v=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,v.call(this,S)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function cf(n){n._valueTracker||(n._valueTracker=yT(n))}function N0(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=O0(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function uf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bT=/[\n"\\]/g;function pi(n){return n.replace(bT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function nm(n,i,a,l,p,v,S,C){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),i!=null?S==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+fi(i)):n.value!==""+fi(i)&&(n.value=""+fi(i)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),i!=null?im(n,S,fi(i)):a!=null?im(n,S,fi(a)):l!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+fi(C):n.removeAttribute("name")}function k0(n,i,a,l,p,v,S,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),i!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;a=a!=null?""+fi(a):"",i=i!=null?""+fi(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function im(n,i,a){i==="number"&&uf(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function fl(n,i,a,l){if(n=n.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=i.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&l&&(n[a].defaultSelected=!0)}else{for(a=""+fi(a),i=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,l&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function P0(n,i,a){if(i!=null&&(i=""+fi(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+fi(a):""}function F0(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fi(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function pl(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var AT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function z0(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||AT.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function H0(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var p in i)l=i[p],i.hasOwnProperty(p)&&a[p]!==l&&z0(n,p,l)}else for(var v in i)i.hasOwnProperty(v)&&z0(n,v,i[v])}function sm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ST=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ET=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hf(n){return ET.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var am=null;function rm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gl=null,ml=null;function j0(n){var i=cl(n);if(i&&(n=i.stateNode)){var a=n[Pn]||null;t:switch(n=i.stateNode,i.type){case"input":if(nm(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pi(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var p=l[Pn]||null;if(!p)throw Error(s(90));nm(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&N0(l)}break t;case"textarea":P0(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fl(n,!!a.multiple,i,!1)}}}var om=!1;function I0(n,i,a){if(om)return n(i,a);om=!0;try{var l=n(i);return l}finally{if(om=!1,(gl!==null||ml!==null)&&(Wf(),gl&&(i=gl,n=ml,ml=gl=null,j0(i),n)))for(i=0;i<n.length;i++)j0(n[i])}}function du(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Pn]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=!1;if(xs)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){lm=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{lm=!1}var wa=null,cm=null,df=null;function U0(){if(df)return df;var n,i=cm,a=i.length,l,p="value"in wa?wa.value:wa.textContent,v=p.length;for(n=0;n<a&&i[n]===p[n];n++);var S=a-n;for(l=1;l<=S&&i[a-l]===p[v-l];l++);return df=p.slice(n,1<l?1-l:void 0)}function ff(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pf(){return!0}function B0(){return!1}function Fn(n){function i(a,l,p,v,S){this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pf:B0,this.isPropagationStopped=B0,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),i}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Fn(Dr),pu=m({},Dr,{view:0,detail:0}),_T=Fn(pu),um,hm,gu,mf=m({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gu&&(gu&&n.type==="mousemove"?(um=n.screenX-gu.screenX,hm=n.screenY-gu.screenY):hm=um=0,gu=n),um)},movementY:function(n){return"movementY"in n?n.movementY:hm}}),q0=Fn(mf),wT=m({},mf,{dataTransfer:0}),xT=Fn(wT),TT=m({},pu,{relatedTarget:0}),dm=Fn(TT),CT=m({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),RT=Fn(CT),MT=m({},Dr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LT=Fn(MT),DT=m({},Dr,{data:0}),G0=Fn(DT),OT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PT(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=kT[n])?!!i[n]:!1}function fm(){return PT}var FT=m({},pu,{key:function(n){if(n.key){var i=OT[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ff(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(n){return n.type==="keypress"?ff(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ff(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),zT=Fn(FT),HT=m({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=Fn(HT),jT=m({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),IT=Fn(jT),UT=m({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),BT=Fn(UT),qT=m({},mf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GT=Fn(qT),VT=m({},Dr,{newState:0,oldState:0}),YT=Fn(VT),XT=[9,13,27,32],pm=xs&&"CompositionEvent"in window,mu=null;xs&&"documentMode"in document&&(mu=document.documentMode);var KT=xs&&"TextEvent"in window&&!mu,Y0=xs&&(!pm||mu&&8<mu&&11>=mu),X0=" ",K0=!1;function $0(n,i){switch(n){case"keyup":return XT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vl=!1;function $T(n,i){switch(n){case"compositionend":return W0(i);case"keypress":return i.which!==32?null:(K0=!0,X0);case"textInput":return n=i.data,n===X0&&K0?null:n;default:return null}}function WT(n,i){if(vl)return n==="compositionend"||!pm&&$0(n,i)?(n=U0(),df=cm=wa=null,vl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Y0&&i.locale!=="ko"?null:i.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!QT[n.type]:i==="textarea"}function Z0(n,i,a,l){gl?ml?ml.push(l):ml=[l]:gl=l,i=np(i,"onChange"),0<i.length&&(a=new gf("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var vu=null,yu=null;function ZT(n){OE(n,0)}function vf(n){var i=hu(n);if(N0(i))return n}function J0(n,i){if(n==="change")return i}var tA=!1;if(xs){var gm;if(xs){var mm="oninput"in document;if(!mm){var eA=document.createElement("div");eA.setAttribute("oninput","return;"),mm=typeof eA.oninput=="function"}gm=mm}else gm=!1;tA=gm&&(!document.documentMode||9<document.documentMode)}function nA(){vu&&(vu.detachEvent("onpropertychange",iA),yu=vu=null)}function iA(n){if(n.propertyName==="value"&&vf(yu)){var i=[];Z0(i,yu,n,rm(n)),I0(ZT,i)}}function JT(n,i,a){n==="focusin"?(nA(),vu=i,yu=a,vu.attachEvent("onpropertychange",iA)):n==="focusout"&&nA()}function tC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vf(yu)}function eC(n,i){if(n==="click")return vf(i)}function nC(n,i){if(n==="input"||n==="change")return vf(i)}function iC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Kn=typeof Object.is=="function"?Object.is:iC;function bu(n,i){if(Kn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!kn.call(i,p)||!Kn(n[p],i[p]))return!1}return!0}function sA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function aA(n,i){var a=sA(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sA(a)}}function rA(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?rA(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function oA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=uf(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=uf(n.document)}return i}function vm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var sC=xs&&"documentMode"in document&&11>=document.documentMode,yl=null,ym=null,Au=null,bm=!1;function lA(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bm||yl==null||yl!==uf(l)||(l=yl,"selectionStart"in l&&vm(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Au&&bu(Au,l)||(Au=l,l=np(ym,"onSelect"),0<l.length&&(i=new gf("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=yl)))}function Or(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var bl={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Am={},cA={};xs&&(cA=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Nr(n){if(Am[n])return Am[n];if(!bl[n])return n;var i=bl[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in cA)return Am[n]=i[a];return n}var uA=Nr("animationend"),hA=Nr("animationiteration"),dA=Nr("animationstart"),aC=Nr("transitionrun"),rC=Nr("transitionstart"),oC=Nr("transitioncancel"),fA=Nr("transitionend"),pA=new Map,Sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sm.push("scrollEnd");function Oi(n,i){pA.set(n,i),Lr(i,[n])}var gA=new WeakMap;function gi(n,i){if(typeof n=="object"&&n!==null){var a=gA.get(n);return a!==void 0?a:(i={value:n,source:i,stack:D0(i)},gA.set(n,i),i)}return{value:n,source:i,stack:D0(i)}}var mi=[],Al=0,Em=0;function yf(){for(var n=Al,i=Em=Al=0;i<n;){var a=mi[i];mi[i++]=null;var l=mi[i];mi[i++]=null;var p=mi[i];mi[i++]=null;var v=mi[i];if(mi[i++]=null,l!==null&&p!==null){var S=l.pending;S===null?p.next=p:(p.next=S.next,S.next=p),l.pending=p}v!==0&&mA(a,p,v)}}function bf(n,i,a,l){mi[Al++]=n,mi[Al++]=i,mi[Al++]=a,mi[Al++]=l,Em|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function _m(n,i,a,l){return bf(n,i,a,l),Af(n)}function Sl(n,i){return bf(n,null,null,i),Af(n)}function mA(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var p=!1,v=n.return;v!==null;)v.childLanes|=a,l=v.alternate,l!==null&&(l.childLanes|=a),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&i!==null&&(p=31-Xe(a),n=v.hiddenUpdates,l=n[p],l===null?n[p]=[i]:l.push(i),i.lane=a|536870912),v):null}function Af(n){if(50<Vu)throw Vu=0,Mv=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var El={};function lC(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,i,a,l){return new lC(n,i,a,l)}function wm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ts(n,i){var a=n.alternate;return a===null?(a=$n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vA(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Sf(n,i,a,l,p,v){var S=0;if(l=n,typeof n=="function")wm(n)&&(S=1);else if(typeof n=="string")S=uR(n,a,it.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case nt:return n=$n(31,a,i,p),n.elementType=nt,n.lanes=v,n;case E:return kr(a.children,p,v,i);case w:S=8,p|=24;break;case M:return n=$n(12,a,i,p|2),n.elementType=M,n.lanes=v,n;case j:return n=$n(13,a,i,p),n.elementType=j,n.lanes=v,n;case q:return n=$n(19,a,i,p),n.elementType=q,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case N:S=10;break t;case D:S=9;break t;case k:S=11;break t;case K:S=14;break t;case Z:S=16,l=null;break t}S=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=$n(S,a,i,p),i.elementType=n,i.type=l,i.lanes=v,i}function kr(n,i,a,l){return n=$n(7,n,l,i),n.lanes=a,n}function xm(n,i,a){return n=$n(6,n,null,i),n.lanes=a,n}function Tm(n,i,a){return i=$n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var _l=[],wl=0,Ef=null,_f=0,vi=[],yi=0,Pr=null,Cs=1,Rs="";function Fr(n,i){_l[wl++]=_f,_l[wl++]=Ef,Ef=n,_f=i}function yA(n,i,a){vi[yi++]=Cs,vi[yi++]=Rs,vi[yi++]=Pr,Pr=n;var l=Cs;n=Rs;var p=32-Xe(l)-1;l&=~(1<<p),a+=1;var v=32-Xe(i)+p;if(30<v){var S=p-p%5;v=(l&(1<<S)-1).toString(32),l>>=S,p-=S,Cs=1<<32-Xe(i)+p|a<<p|l,Rs=v+n}else Cs=1<<v|a<<p|l,Rs=n}function Cm(n){n.return!==null&&(Fr(n,1),yA(n,1,0))}function Rm(n){for(;n===Ef;)Ef=_l[--wl],_l[wl]=null,_f=_l[--wl],_l[wl]=null;for(;n===Pr;)Pr=vi[--yi],vi[yi]=null,Rs=vi[--yi],vi[yi]=null,Cs=vi[--yi],vi[yi]=null}var xn=null,Ae=null,Vt=!1,zr=null,Qi=!1,Mm=Error(s(519));function Hr(n){var i=Error(s(418,""));throw _u(gi(i,n)),Mm}function bA(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[pn]=n,i[Pn]=l,a){case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":case"embed":zt("load",i);break;case"video":case"audio":for(a=0;a<Xu.length;a++)zt(Xu[a],i);break;case"source":zt("error",i);break;case"img":case"image":case"link":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"input":zt("invalid",i),k0(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),cf(i);break;case"select":zt("invalid",i);break;case"textarea":zt("invalid",i),F0(i,l.value,l.defaultValue,l.children),cf(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||FE(i.textContent,a)?(l.popover!=null&&(zt("beforetoggle",i),zt("toggle",i)),l.onScroll!=null&&zt("scroll",i),l.onScrollEnd!=null&&zt("scrollend",i),l.onClick!=null&&(i.onclick=ip),i=!0):i=!1,i||Hr(n)}function AA(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:xn=xn.return}}function Su(n){if(n!==xn)return!1;if(!Vt)return AA(n),Vt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Vv(n.type,n.memoizedProps)),a=!a),a&&Ae&&Hr(n),AA(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ae=ki(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ae=null}}else i===27?(i=Ae,Ia(n.type)?(n=$v,$v=null,Ae=n):Ae=i):Ae=xn?ki(n.stateNode.nextSibling):null;return!0}function Eu(){Ae=xn=null,Vt=!1}function SA(){var n=zr;return n!==null&&(jn===null?jn=n:jn.push.apply(jn,n),zr=null),n}function _u(n){zr===null?zr=[n]:zr.push(n)}var Lm=I(null),jr=null,Ms=null;function xa(n,i,a){W(Lm,i._currentValue),i._currentValue=a}function Ls(n){n._currentValue=Lm.current,$(Lm)}function Dm(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Om(n,i,a,l){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var S=p.child;v=v.firstContext;t:for(;v!==null;){var C=v;v=p;for(var O=0;O<i.length;O++)if(C.context===i[O]){v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),Dm(v.return,a,n),l||(S=null);break t}v=C.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=a,v=S.alternate,v!==null&&(v.lanes|=a),Dm(S,a,n),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===n){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function wu(n,i,a,l){n=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var C=p.type;Kn(p.pendingProps.value,S.value)||(n!==null?n.push(C):n=[C])}}else if(p===ct.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Ju):n=[Ju])}p=p.return}n!==null&&Om(i,n,a,l),i.flags|=262144}function wf(n){for(n=n.firstContext;n!==null;){if(!Kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ir(n){jr=n,Ms=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return EA(jr,n)}function xf(n,i){return jr===null&&Ir(n),EA(n,i)}function EA(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ms===null){if(n===null)throw Error(s(308));Ms=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ms=Ms.next=i;return a}var cC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},uC=c.unstable_scheduleCallback,hC=c.unstable_NormalPriority,He={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new cC,data:new Map,refCount:0}}function xu(n){n.refCount--,n.refCount===0&&uC(hC,function(){n.controller.abort()})}var Tu=null,km=0,xl=0,Tl=null;function dC(n,i){if(Tu===null){var a=Tu=[];km=0,xl=Fv(),Tl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return km++,i.then(_A,_A),i}function _A(){if(--km===0&&Tu!==null){Tl!==null&&(Tl.status="fulfilled");var n=Tu;Tu=null,xl=0,Tl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function fC(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var wA=F.S;F.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dC(n,i),wA!==null&&wA(n,i)};var Ur=I(null);function Pm(){var n=Ur.current;return n!==null?n:oe.pooledCache}function Tf(n,i){i===null?W(Ur,Ur.current):W(Ur,i.pool)}function xA(){var n=Pm();return n===null?null:{parent:He._currentValue,pool:n}}var Cu=Error(s(460)),TA=Error(s(474)),Cf=Error(s(542)),Fm={then:function(){}};function CA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Rf(){}function RA(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Rf,Rf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,LA(n),n;default:if(typeof i.status=="string")i.then(Rf,Rf);else{if(n=oe,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=l}},function(l){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,LA(n),n}throw Ru=i,Cu}}var Ru=null;function MA(){if(Ru===null)throw Error(s(459));var n=Ru;return Ru=null,n}function LA(n){if(n===Cu||n===Cf)throw Error(s(483))}var Ta=!1;function zm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ca(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ra(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var p=l.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),l.pending=i,i=Af(n),mA(n,null,a),i}return bf(n,l,i,a),Af(n)}function Mu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,_0(n,a)}}function jm(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?p=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?p=v=i:v=v.next=i}else p=v=i;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Im=!1;function Lu(){if(Im){var n=Tl;if(n!==null)throw n}}function Du(n,i,a,l){Im=!1;var p=n.updateQueue;Ta=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var O=C,B=O.next;O.next=null,S===null?v=B:S.next=B,S=O;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==S&&(C===null?Q.firstBaseUpdate=B:C.next=B,Q.lastBaseUpdate=O))}if(v!==null){var tt=p.baseState;S=0,Q=B=O=null,C=v;do{var G=C.lane&-536870913,Y=G!==C.lane;if(Y?(Ut&G)===G:(l&G)===G){G!==0&&G===xl&&(Im=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var wt=n,St=C;G=i;var ee=a;switch(St.tag){case 1:if(wt=St.payload,typeof wt=="function"){tt=wt.call(ee,tt,G);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=St.payload,G=typeof wt=="function"?wt.call(ee,tt,G):wt,G==null)break t;tt=m({},tt,G);break t;case 2:Ta=!0}}G=C.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=p.callbacks,Y===null?p.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(B=Q=Y,O=tt):Q=Q.next=Y,S|=G;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);Q===null&&(O=tt),p.baseState=O,p.firstBaseUpdate=B,p.lastBaseUpdate=Q,v===null&&(p.shared.lanes=0),Fa|=S,n.lanes=S,n.memoizedState=tt}}function DA(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function OA(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)DA(a[n],i)}var Cl=I(null),Mf=I(0);function NA(n,i){n=zs,W(Mf,n),W(Cl,i),zs=n|i.baseLanes}function Um(){W(Mf,zs),W(Cl,Cl.current)}function Bm(){zs=Mf.current,$(Cl),$(Mf)}var Ma=0,Ot=null,Jt=null,De=null,Lf=!1,Rl=!1,Br=!1,Df=0,Ou=0,Ml=null,pC=0;function we(){throw Error(s(321))}function qm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Kn(n[a],i[a]))return!1;return!0}function Gm(n,i,a,l,p,v){return Ma=v,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=n===null||n.memoizedState===null?mS:vS,Br=!1,v=a(l,p),Br=!1,Rl&&(v=PA(i,a,l,p)),kA(n),v}function kA(n){F.H=zf;var i=Jt!==null&&Jt.next!==null;if(Ma=0,De=Jt=Ot=null,Lf=!1,Ou=0,Ml=null,i)throw Error(s(300));n===null||$e||(n=n.dependencies,n!==null&&wf(n)&&($e=!0))}function PA(n,i,a,l){Ot=n;var p=0;do{if(Rl&&(Ml=null),Ou=0,Rl=!1,25<=p)throw Error(s(301));if(p+=1,De=Jt=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=SC,v=i(a,l)}while(Rl);return v}function gC(){var n=F.H,i=n.useState()[0];return i=typeof i.then=="function"?Nu(i):i,n=n.useState()[0],(Jt!==null?Jt.memoizedState:null)!==n&&(Ot.flags|=1024),i}function Vm(){var n=Df!==0;return Df=0,n}function Ym(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Xm(n){if(Lf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lf=!1}Ma=0,De=Jt=Ot=null,Rl=!1,Ou=Df=0,Ml=null}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ot.memoizedState=De=n:De=De.next=n,De}function Oe(){if(Jt===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var i=De===null?Ot.memoizedState:De.next;if(i!==null)De=i,Jt=n;else{if(n===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},De===null?Ot.memoizedState=De=n:De=De.next=n}return De}function Km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(n){var i=Ou;return Ou+=1,Ml===null&&(Ml=[]),n=RA(Ml,n,i),i=Ot,(De===null?i.memoizedState:De.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?mS:vS),n}function Of(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nu(n);if(n.$$typeof===N)return gn(n)}throw Error(s(438,String(n)))}function $m(n){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Km(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=at;return i.index++,a}function Ds(n,i){return typeof i=="function"?i(n):i}function Nf(n){var i=Oe();return Wm(i,Jt,n)}function Wm(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var p=n.baseQueue,v=l.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}i.baseQueue=p=v,l.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{i=p.next;var C=S=null,O=null,B=i,Q=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(Ut&tt)===tt:(Ma&tt)===tt){var G=B.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===xl&&(Q=!0);else if((Ma&G)===G){B=B.next,G===xl&&(Q=!0);continue}else tt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=tt,S=v):O=O.next=tt,Ot.lanes|=G,Fa|=G;tt=B.action,Br&&a(v,tt),v=B.hasEagerState?B.eagerState:a(v,tt)}else G={lane:tt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=G,S=v):O=O.next=G,Ot.lanes|=tt,Fa|=tt;B=B.next}while(B!==null&&B!==i);if(O===null?S=v:O.next=C,!Kn(v,n.memoizedState)&&($e=!0,Q&&(a=Tl,a!==null)))throw a;n.memoizedState=v,n.baseState=S,n.baseQueue=O,l.lastRenderedState=v}return p===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Qm(n){var i=Oe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,p=a.pending,v=i.memoizedState;if(p!==null){a.pending=null;var S=p=p.next;do v=n(v,S.action),S=S.next;while(S!==p);Kn(v,i.memoizedState)||($e=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),a.lastRenderedState=v}return[v,l]}function FA(n,i,a){var l=Ot,p=Oe(),v=Vt;if(v){if(a===void 0)throw Error(s(407));a=a()}else a=i();var S=!Kn((Jt||p).memoizedState,a);S&&(p.memoizedState=a,$e=!0),p=p.queue;var C=jA.bind(null,l,p,n);if(ku(2048,8,C,[n]),p.getSnapshot!==i||S||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Ll(9,kf(),HA.bind(null,l,p,a,i),null),oe===null)throw Error(s(349));v||(Ma&124)!==0||zA(l,i,a)}return a}function zA(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=Km(),Ot.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function HA(n,i,a,l){i.value=a,i.getSnapshot=l,IA(i)&&UA(n)}function jA(n,i,a){return a(function(){IA(i)&&UA(n)})}function IA(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Kn(n,a)}catch{return!0}}function UA(n){var i=Sl(n,2);i!==null&&ti(i,n,2)}function Zm(n){var i=zn();if(typeof n=="function"){var a=n;if(n=a(),Br){Xn(!0);try{a()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:n},i}function BA(n,i,a,l){return n.baseState=a,Wm(n,Jt,typeof l=="function"?l:Ds)}function mC(n,i,a,l,p){if(Ff(n))throw Error(s(485));if(n=i.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};F.T!==null?a(!0):v.isTransition=!1,l(v),a=i.pending,a===null?(v.next=i.pending=v,qA(i,v)):(v.next=a.next,i.pending=a.next=v)}}function qA(n,i){var a=i.action,l=i.payload,p=n.state;if(i.isTransition){var v=F.T,S={};F.T=S;try{var C=a(p,l),O=F.S;O!==null&&O(S,C),GA(n,i,C)}catch(B){Jm(n,i,B)}finally{F.T=v}}else try{v=a(p,l),GA(n,i,v)}catch(B){Jm(n,i,B)}}function GA(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){VA(n,i,l)},function(l){return Jm(n,i,l)}):VA(n,i,a)}function VA(n,i,a){i.status="fulfilled",i.value=a,YA(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,qA(n,a)))}function Jm(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,YA(i),i=i.next;while(i!==l)}n.action=null}function YA(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function XA(n,i){return i}function KA(n,i){if(Vt){var a=oe.formState;if(a!==null){t:{var l=Ot;if(Vt){if(Ae){e:{for(var p=Ae,v=Qi;p.nodeType!==8;){if(!v){p=null;break e}if(p=ki(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ae=ki(p.nextSibling),l=p.data==="F!";break t}}Hr(l)}l=!1}l&&(i=a[0])}}return a=zn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XA,lastRenderedState:i},a.queue=l,a=fS.bind(null,Ot,l),l.dispatch=a,l=Zm(!1),v=sv.bind(null,Ot,!1,l.queue),l=zn(),p={state:i,dispatch:null,action:n,pending:null},l.queue=p,a=mC.bind(null,Ot,p,v,a),p.dispatch=a,l.memoizedState=n,[i,a,!1]}function $A(n){var i=Oe();return WA(i,Jt,n)}function WA(n,i,a){if(i=Wm(n,i,XA)[0],n=Nf(Ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Nu(i)}catch(S){throw S===Cu?Cf:S}else l=i;i=Oe();var p=i.queue,v=p.dispatch;return a!==i.memoizedState&&(Ot.flags|=2048,Ll(9,kf(),vC.bind(null,p,a),null)),[l,v,n]}function vC(n,i){n.action=i}function QA(n){var i=Oe(),a=Jt;if(a!==null)return WA(i,a,n);Oe(),i=i.memoizedState,a=Oe();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ll(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Km(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function kf(){return{destroy:void 0,resource:void 0}}function ZA(){return Oe().memoizedState}function Pf(n,i,a,l){var p=zn();l=l===void 0?null:l,Ot.flags|=n,p.memoizedState=Ll(1|i,kf(),a,l)}function ku(n,i,a,l){var p=Oe();l=l===void 0?null:l;var v=p.memoizedState.inst;Jt!==null&&l!==null&&qm(l,Jt.memoizedState.deps)?p.memoizedState=Ll(i,v,a,l):(Ot.flags|=n,p.memoizedState=Ll(1|i,v,a,l))}function JA(n,i){Pf(8390656,8,n,i)}function tS(n,i){ku(2048,8,n,i)}function eS(n,i){return ku(4,2,n,i)}function nS(n,i){return ku(4,4,n,i)}function iS(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function sS(n,i,a){a=a!=null?a.concat([n]):null,ku(4,4,iS.bind(null,i,n),a)}function tv(){}function aS(n,i){var a=Oe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&qm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function rS(n,i){var a=Oe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&qm(i,l[1]))return l[0];if(l=n(),Br){Xn(!0);try{n()}finally{Xn(!1)}}return a.memoizedState=[l,i],l}function ev(n,i,a){return a===void 0||(Ma&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=cE(),Ot.lanes|=n,Fa|=n,a)}function oS(n,i,a,l){return Kn(a,i)?a:Cl.current!==null?(n=ev(n,a,l),Kn(n,i)||($e=!0),n):(Ma&42)===0?($e=!0,n.memoizedState=a):(n=cE(),Ot.lanes|=n,Fa|=n,i)}function lS(n,i,a,l,p){var v=X.p;X.p=v!==0&&8>v?v:8;var S=F.T,C={};F.T=C,sv(n,!1,i,a);try{var O=p(),B=F.S;if(B!==null&&B(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=fC(O,l);Pu(n,i,Q,Jn(n))}else Pu(n,i,l,Jn(n))}catch(tt){Pu(n,i,{then:function(){},status:"rejected",reason:tt},Jn())}finally{X.p=v,F.T=S}}function yC(){}function nv(n,i,a,l){if(n.tag!==5)throw Error(s(476));var p=cS(n).queue;lS(n,p,i,et,a===null?yC:function(){return uS(n),a(l)})}function cS(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:et},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function uS(n){var i=cS(n).next.queue;Pu(n,i,{},Jn())}function iv(){return gn(Ju)}function hS(){return Oe().memoizedState}function dS(){return Oe().memoizedState}function bC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Jn();n=Ca(a);var l=Ra(i,n,a);l!==null&&(ti(l,i,a),Mu(l,i,a)),i={cache:Nm()},n.payload=i;return}i=i.return}}function AC(n,i,a){var l=Jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ff(n)?pS(i,a):(a=_m(n,i,a,l),a!==null&&(ti(a,n,l),gS(a,i,l)))}function fS(n,i,a){var l=Jn();Pu(n,i,a,l)}function Pu(n,i,a,l){var p={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ff(n))pS(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,C=v(S,a);if(p.hasEagerState=!0,p.eagerState=C,Kn(C,S))return bf(n,i,p,0),oe===null&&yf(),!1}catch{}finally{}if(a=_m(n,i,p,l),a!==null)return ti(a,n,l),gS(a,i,l),!0}return!1}function sv(n,i,a,l){if(l={lane:2,revertLane:Fv(),action:l,hasEagerState:!1,eagerState:null,next:null},Ff(n)){if(i)throw Error(s(479))}else i=_m(n,a,l,2),i!==null&&ti(i,n,2)}function Ff(n){var i=n.alternate;return n===Ot||i!==null&&i===Ot}function pS(n,i){Rl=Lf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function gS(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,_0(n,a)}}var zf={readContext:gn,use:Of,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},mS={readContext:gn,use:Of,useCallback:function(n,i){return zn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:JA,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Pf(4194308,4,iS.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Pf(4194308,4,n,i)},useInsertionEffect:function(n,i){Pf(4,2,n,i)},useMemo:function(n,i){var a=zn();i=i===void 0?null:i;var l=n();if(Br){Xn(!0);try{n()}finally{Xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=zn();if(a!==void 0){var p=a(i);if(Br){Xn(!0);try{a(i)}finally{Xn(!1)}}}else p=i;return l.memoizedState=l.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},l.queue=n,n=n.dispatch=AC.bind(null,Ot,n),[l.memoizedState,n]},useRef:function(n){var i=zn();return n={current:n},i.memoizedState=n},useState:function(n){n=Zm(n);var i=n.queue,a=fS.bind(null,Ot,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:tv,useDeferredValue:function(n,i){var a=zn();return ev(a,n,i)},useTransition:function(){var n=Zm(!1);return n=lS.bind(null,Ot,n.queue,!0,!1),zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ot,p=zn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),oe===null)throw Error(s(349));(Ut&124)!==0||zA(l,i,a)}p.memoizedState=a;var v={value:a,getSnapshot:i};return p.queue=v,JA(jA.bind(null,l,v,n),[n]),l.flags|=2048,Ll(9,kf(),HA.bind(null,l,v,a,i),null),a},useId:function(){var n=zn(),i=oe.identifierPrefix;if(Vt){var a=Rs,l=Cs;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Df++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=pC++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:iv,useFormState:KA,useActionState:KA,useOptimistic:function(n){var i=zn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sv.bind(null,Ot,!0,a),a.dispatch=i,[n,i]},useMemoCache:$m,useCacheRefresh:function(){return zn().memoizedState=bC.bind(null,Ot)}},vS={readContext:gn,use:Of,useCallback:aS,useContext:gn,useEffect:tS,useImperativeHandle:sS,useInsertionEffect:eS,useLayoutEffect:nS,useMemo:rS,useReducer:Nf,useRef:ZA,useState:function(){return Nf(Ds)},useDebugValue:tv,useDeferredValue:function(n,i){var a=Oe();return oS(a,Jt.memoizedState,n,i)},useTransition:function(){var n=Nf(Ds)[0],i=Oe().memoizedState;return[typeof n=="boolean"?n:Nu(n),i]},useSyncExternalStore:FA,useId:hS,useHostTransitionStatus:iv,useFormState:$A,useActionState:$A,useOptimistic:function(n,i){var a=Oe();return BA(a,Jt,n,i)},useMemoCache:$m,useCacheRefresh:dS},SC={readContext:gn,use:Of,useCallback:aS,useContext:gn,useEffect:tS,useImperativeHandle:sS,useInsertionEffect:eS,useLayoutEffect:nS,useMemo:rS,useReducer:Qm,useRef:ZA,useState:function(){return Qm(Ds)},useDebugValue:tv,useDeferredValue:function(n,i){var a=Oe();return Jt===null?ev(a,n,i):oS(a,Jt.memoizedState,n,i)},useTransition:function(){var n=Qm(Ds)[0],i=Oe().memoizedState;return[typeof n=="boolean"?n:Nu(n),i]},useSyncExternalStore:FA,useId:hS,useHostTransitionStatus:iv,useFormState:QA,useActionState:QA,useOptimistic:function(n,i){var a=Oe();return Jt!==null?BA(a,Jt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:$m,useCacheRefresh:dS},Dl=null,Fu=0;function Hf(n){var i=Fu;return Fu+=1,Dl===null&&(Dl=[]),RA(Dl,n,i)}function zu(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function jf(n,i){throw i.$$typeof===y?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function yS(n){var i=n._init;return i(n._payload)}function bS(n){function i(H,P){if(n){var U=H.deletions;U===null?(H.deletions=[P],H.flags|=16):U.push(P)}}function a(H,P){if(!n)return null;for(;P!==null;)i(H,P),P=P.sibling;return null}function l(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function p(H,P){return H=Ts(H,P),H.index=0,H.sibling=null,H}function v(H,P,U){return H.index=U,n?(U=H.alternate,U!==null?(U=U.index,U<P?(H.flags|=67108866,P):U):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function S(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function C(H,P,U,J){return P===null||P.tag!==6?(P=xm(U,H.mode,J),P.return=H,P):(P=p(P,U),P.return=H,P)}function O(H,P,U,J){var ht=U.type;return ht===E?Q(H,P,U.props.children,J,U.key):P!==null&&(P.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Z&&yS(ht)===P.type)?(P=p(P,U.props),zu(P,U),P.return=H,P):(P=Sf(U.type,U.key,U.props,null,H.mode,J),zu(P,U),P.return=H,P)}function B(H,P,U,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=Tm(U,H.mode,J),P.return=H,P):(P=p(P,U.children||[]),P.return=H,P)}function Q(H,P,U,J,ht){return P===null||P.tag!==7?(P=kr(U,H.mode,J,ht),P.return=H,P):(P=p(P,U),P.return=H,P)}function tt(H,P,U){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=xm(""+P,H.mode,U),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return U=Sf(P.type,P.key,P.props,null,H.mode,U),zu(U,P),U.return=H,U;case A:return P=Tm(P,H.mode,U),P.return=H,P;case Z:var J=P._init;return P=J(P._payload),tt(H,P,U)}if(dt(P)||mt(P))return P=kr(P,H.mode,U,null),P.return=H,P;if(typeof P.then=="function")return tt(H,Hf(P),U);if(P.$$typeof===N)return tt(H,xf(H,P),U);jf(H,P)}return null}function G(H,P,U,J){var ht=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ht!==null?null:C(H,P,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===ht?O(H,P,U,J):null;case A:return U.key===ht?B(H,P,U,J):null;case Z:return ht=U._init,U=ht(U._payload),G(H,P,U,J)}if(dt(U)||mt(U))return ht!==null?null:Q(H,P,U,J,null);if(typeof U.then=="function")return G(H,P,Hf(U),J);if(U.$$typeof===N)return G(H,P,xf(H,U),J);jf(H,U)}return null}function Y(H,P,U,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(U)||null,C(P,H,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return H=H.get(J.key===null?U:J.key)||null,O(P,H,J,ht);case A:return H=H.get(J.key===null?U:J.key)||null,B(P,H,J,ht);case Z:var kt=J._init;return J=kt(J._payload),Y(H,P,U,J,ht)}if(dt(J)||mt(J))return H=H.get(U)||null,Q(P,H,J,ht,null);if(typeof J.then=="function")return Y(H,P,U,Hf(J),ht);if(J.$$typeof===N)return Y(H,P,U,xf(P,J),ht);jf(P,J)}return null}function wt(H,P,U,J){for(var ht=null,kt=null,yt=P,_t=P=0,Qe=null;yt!==null&&_t<U.length;_t++){yt.index>_t?(Qe=yt,yt=null):Qe=yt.sibling;var Gt=G(H,yt,U[_t],J);if(Gt===null){yt===null&&(yt=Qe);break}n&&yt&&Gt.alternate===null&&i(H,yt),P=v(Gt,P,_t),kt===null?ht=Gt:kt.sibling=Gt,kt=Gt,yt=Qe}if(_t===U.length)return a(H,yt),Vt&&Fr(H,_t),ht;if(yt===null){for(;_t<U.length;_t++)yt=tt(H,U[_t],J),yt!==null&&(P=v(yt,P,_t),kt===null?ht=yt:kt.sibling=yt,kt=yt);return Vt&&Fr(H,_t),ht}for(yt=l(yt);_t<U.length;_t++)Qe=Y(yt,H,_t,U[_t],J),Qe!==null&&(n&&Qe.alternate!==null&&yt.delete(Qe.key===null?_t:Qe.key),P=v(Qe,P,_t),kt===null?ht=Qe:kt.sibling=Qe,kt=Qe);return n&&yt.forEach(function(Va){return i(H,Va)}),Vt&&Fr(H,_t),ht}function St(H,P,U,J){if(U==null)throw Error(s(151));for(var ht=null,kt=null,yt=P,_t=P=0,Qe=null,Gt=U.next();yt!==null&&!Gt.done;_t++,Gt=U.next()){yt.index>_t?(Qe=yt,yt=null):Qe=yt.sibling;var Va=G(H,yt,Gt.value,J);if(Va===null){yt===null&&(yt=Qe);break}n&&yt&&Va.alternate===null&&i(H,yt),P=v(Va,P,_t),kt===null?ht=Va:kt.sibling=Va,kt=Va,yt=Qe}if(Gt.done)return a(H,yt),Vt&&Fr(H,_t),ht;if(yt===null){for(;!Gt.done;_t++,Gt=U.next())Gt=tt(H,Gt.value,J),Gt!==null&&(P=v(Gt,P,_t),kt===null?ht=Gt:kt.sibling=Gt,kt=Gt);return Vt&&Fr(H,_t),ht}for(yt=l(yt);!Gt.done;_t++,Gt=U.next())Gt=Y(yt,H,_t,Gt.value,J),Gt!==null&&(n&&Gt.alternate!==null&&yt.delete(Gt.key===null?_t:Gt.key),P=v(Gt,P,_t),kt===null?ht=Gt:kt.sibling=Gt,kt=Gt);return n&&yt.forEach(function(ER){return i(H,ER)}),Vt&&Fr(H,_t),ht}function ee(H,P,U,J){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:t:{for(var ht=U.key;P!==null;){if(P.key===ht){if(ht=U.type,ht===E){if(P.tag===7){a(H,P.sibling),J=p(P,U.props.children),J.return=H,H=J;break t}}else if(P.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Z&&yS(ht)===P.type){a(H,P.sibling),J=p(P,U.props),zu(J,U),J.return=H,H=J;break t}a(H,P);break}else i(H,P);P=P.sibling}U.type===E?(J=kr(U.props.children,H.mode,J,U.key),J.return=H,H=J):(J=Sf(U.type,U.key,U.props,null,H.mode,J),zu(J,U),J.return=H,H=J)}return S(H);case A:t:{for(ht=U.key;P!==null;){if(P.key===ht)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){a(H,P.sibling),J=p(P,U.children||[]),J.return=H,H=J;break t}else{a(H,P);break}else i(H,P);P=P.sibling}J=Tm(U,H.mode,J),J.return=H,H=J}return S(H);case Z:return ht=U._init,U=ht(U._payload),ee(H,P,U,J)}if(dt(U))return wt(H,P,U,J);if(mt(U)){if(ht=mt(U),typeof ht!="function")throw Error(s(150));return U=ht.call(U),St(H,P,U,J)}if(typeof U.then=="function")return ee(H,P,Hf(U),J);if(U.$$typeof===N)return ee(H,P,xf(H,U),J);jf(H,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,P!==null&&P.tag===6?(a(H,P.sibling),J=p(P,U),J.return=H,H=J):(a(H,P),J=xm(U,H.mode,J),J.return=H,H=J),S(H)):a(H,P)}return function(H,P,U,J){try{Fu=0;var ht=ee(H,P,U,J);return Dl=null,ht}catch(yt){if(yt===Cu||yt===Cf)throw yt;var kt=$n(29,yt,null,H.mode);return kt.lanes=J,kt.return=H,kt}finally{}}}var Ol=bS(!0),AS=bS(!1),bi=I(null),Zi=null;function La(n){var i=n.alternate;W(je,je.current&1),W(bi,n),Zi===null&&(i===null||Cl.current!==null||i.memoizedState!==null)&&(Zi=n)}function SS(n){if(n.tag===22){if(W(je,je.current),W(bi,n),Zi===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Zi=n)}}else Da()}function Da(){W(je,je.current),W(bi,bi.current)}function Os(n){$(bi),Zi===n&&(Zi=null),$(je)}var je=I(0);function If(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kv(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function av(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:m({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var rv={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Jn(),p=Ca(l);p.payload=i,a!=null&&(p.callback=a),i=Ra(n,p,l),i!==null&&(ti(i,n,l),Mu(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Jn(),p=Ca(l);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Ra(n,p,l),i!==null&&(ti(i,n,l),Mu(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Jn(),l=Ca(a);l.tag=2,i!=null&&(l.callback=i),i=Ra(n,l,a),i!==null&&(ti(i,n,a),Mu(i,n,a))}};function ES(n,i,a,l,p,v,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,v,S):i.prototype&&i.prototype.isPureReactComponent?!bu(a,l)||!bu(p,v):!0}function _S(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&rv.enqueueReplaceState(i,i.state,null)}function qr(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=m({},a));for(var p in n)a[p]===void 0&&(a[p]=n[p])}return a}var Uf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function wS(n){Uf(n)}function xS(n){console.error(n)}function TS(n){Uf(n)}function Bf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function CS(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ov(n,i,a){return a=Ca(a),a.tag=3,a.payload={element:null},a.callback=function(){Bf(n,i)},a}function RS(n){return n=Ca(n),n.tag=3,n}function MS(n,i,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var v=l.value;n.payload=function(){return p(v)},n.callback=function(){CS(i,a,l)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){CS(i,a,l),typeof p!="function"&&(za===null?za=new Set([this]):za.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function EC(n,i,a,l,p){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&wu(i,a,p,!0),a=bi.current,a!==null){switch(a.tag){case 13:return Zi===null?Dv():a.alternate===null&&Se===0&&(Se=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===Fm?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nv(n,l,p)),!1;case 22:return a.flags|=65536,l===Fm?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nv(n,l,p)),!1}throw Error(s(435,a.tag))}return Nv(n,l,p),Dv(),!1}if(Vt)return i=bi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,l!==Mm&&(n=Error(s(422),{cause:l}),_u(gi(n,a)))):(l!==Mm&&(i=Error(s(423),{cause:l}),_u(gi(i,a))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,l=gi(l,a),p=ov(n.stateNode,l,p),jm(n,p),Se!==4&&(Se=2)),!1;var v=Error(s(520),{cause:l});if(v=gi(v,a),Gu===null?Gu=[v]:Gu.push(v),Se!==4&&(Se=2),i===null)return!0;l=gi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=p&-p,a.lanes|=n,n=ov(a.stateNode,l,n),jm(a,n),!1;case 1:if(i=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(za===null||!za.has(v))))return a.flags|=65536,p&=-p,a.lanes|=p,p=RS(p),MS(p,n,a,l),jm(a,p),!1}a=a.return}while(a!==null);return!1}var LS=Error(s(461)),$e=!1;function rn(n,i,a,l){i.child=n===null?AS(i,null,a,l):Ol(i,n.child,a,l)}function DS(n,i,a,l,p){a=a.render;var v=i.ref;if("ref"in l){var S={};for(var C in l)C!=="ref"&&(S[C]=l[C])}else S=l;return Ir(i),l=Gm(n,i,a,S,v,p),C=Vm(),n!==null&&!$e?(Ym(n,i,p),Ns(n,i,p)):(Vt&&C&&Cm(i),i.flags|=1,rn(n,i,l,p),i.child)}function OS(n,i,a,l,p){if(n===null){var v=a.type;return typeof v=="function"&&!wm(v)&&v.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=v,NS(n,i,v,l,p)):(n=Sf(a.type,null,l,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!gv(n,p)){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:bu,a(S,l)&&n.ref===i.ref)return Ns(n,i,p)}return i.flags|=1,n=Ts(v,l),n.ref=i.ref,n.return=i,i.child=n}function NS(n,i,a,l,p){if(n!==null){var v=n.memoizedProps;if(bu(v,l)&&n.ref===i.ref)if($e=!1,i.pendingProps=l=v,gv(n,p))(n.flags&131072)!==0&&($e=!0);else return i.lanes=n.lanes,Ns(n,i,p)}return lv(n,i,a,l,p)}function kS(n,i,a){var l=i.pendingProps,p=l.children,v=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(p=i.child=n.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;i.childLanes=v&~l}else i.childLanes=0,i.child=null;return PS(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tf(i,v!==null?v.cachePool:null),v!==null?NA(i,v):Um(),SS(i);else return i.lanes=i.childLanes=536870912,PS(n,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Tf(i,v.cachePool),NA(i,v),Da(),i.memoizedState=null):(n!==null&&Tf(i,null),Um(),Da());return rn(n,i,p,a),i.child}function PS(n,i,a,l){var p=Pm();return p=p===null?null:{parent:He._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},n!==null&&Tf(i,null),Um(),SS(i),n!==null&&wu(n,i,l,!0),null}function qf(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function lv(n,i,a,l,p){return Ir(i),a=Gm(n,i,a,l,void 0,p),l=Vm(),n!==null&&!$e?(Ym(n,i,p),Ns(n,i,p)):(Vt&&l&&Cm(i),i.flags|=1,rn(n,i,a,p),i.child)}function FS(n,i,a,l,p,v){return Ir(i),i.updateQueue=null,a=PA(i,l,a,p),kA(n),l=Vm(),n!==null&&!$e?(Ym(n,i,v),Ns(n,i,v)):(Vt&&l&&Cm(i),i.flags|=1,rn(n,i,a,v),i.child)}function zS(n,i,a,l,p){if(Ir(i),i.stateNode===null){var v=El,S=a.contextType;typeof S=="object"&&S!==null&&(v=gn(S)),v=new a(l,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=rv,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=l,v.state=i.memoizedState,v.refs={},zm(i),S=a.contextType,v.context=typeof S=="object"&&S!==null?gn(S):El,v.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(av(i,a,S,l),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&rv.enqueueReplaceState(v,v.state,null),Du(i,l,v,p),Lu(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){v=i.stateNode;var C=i.memoizedProps,O=qr(a,C);v.props=O;var B=v.context,Q=a.contextType;S=El,typeof Q=="object"&&Q!==null&&(S=gn(Q));var tt=a.getDerivedStateFromProps;Q=typeof tt=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,Q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||B!==S)&&_S(i,v,l,S),Ta=!1;var G=i.memoizedState;v.state=G,Du(i,l,v,p),Lu(),B=i.memoizedState,C||G!==B||Ta?(typeof tt=="function"&&(av(i,a,tt,l),B=i.memoizedState),(O=Ta||ES(i,a,O,l,G,B,S))?(Q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),v.props=l,v.state=B,v.context=S,l=O):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{v=i.stateNode,Hm(n,i),S=i.memoizedProps,Q=qr(a,S),v.props=Q,tt=i.pendingProps,G=v.context,B=a.contextType,O=El,typeof B=="object"&&B!==null&&(O=gn(B)),C=a.getDerivedStateFromProps,(B=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==tt||G!==O)&&_S(i,v,l,O),Ta=!1,G=i.memoizedState,v.state=G,Du(i,l,v,p),Lu();var Y=i.memoizedState;S!==tt||G!==Y||Ta||n!==null&&n.dependencies!==null&&wf(n.dependencies)?(typeof C=="function"&&(av(i,a,C,l),Y=i.memoizedState),(Q=Ta||ES(i,a,Q,l,G,Y,O)||n!==null&&n.dependencies!==null&&wf(n.dependencies))?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,Y,O),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,Y,O)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),v.props=l,v.state=Y,v.context=O,l=Q):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return v=l,qf(n,i),l=(i.flags&128)!==0,v||l?(v=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,n!==null&&l?(i.child=Ol(i,n.child,null,p),i.child=Ol(i,null,a,p)):rn(n,i,a,p),i.memoizedState=v.state,n=i.child):n=Ns(n,i,p),n}function HS(n,i,a,l){return Eu(),i.flags|=256,rn(n,i,a,l),i.child}var cv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uv(n){return{baseLanes:n,cachePool:xA()}}function hv(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Ai),n}function jS(n,i,a){var l=i.pendingProps,p=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(je.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,n===null){if(Vt){if(p?La(i):Da(),Vt){var C=Ae,O;if(O=C){t:{for(O=C,C=Qi;O.nodeType!==8;){if(!C){C=null;break t}if(O=ki(O.nextSibling),O===null){C=null;break t}}C=O}C!==null?(i.memoizedState={dehydrated:C,treeContext:Pr!==null?{id:Cs,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},O=$n(18,null,null,0),O.stateNode=C,O.return=i,i.child=O,xn=i,Ae=null,O=!0):O=!1}O||Hr(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Kv(C)?i.lanes=32:i.lanes=536870912,null;Os(i)}return C=l.children,l=l.fallback,p?(Da(),p=i.mode,C=Gf({mode:"hidden",children:C},p),l=kr(l,p,a,null),C.return=i,l.return=i,C.sibling=l,i.child=C,p=i.child,p.memoizedState=uv(a),p.childLanes=hv(n,S,a),i.memoizedState=cv,l):(La(i),dv(i,C))}if(O=n.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(v)i.flags&256?(La(i),i.flags&=-257,i=fv(n,i,a)):i.memoizedState!==null?(Da(),i.child=n.child,i.flags|=128,i=null):(Da(),p=l.fallback,C=i.mode,l=Gf({mode:"visible",children:l.children},C),p=kr(p,C,a,null),p.flags|=2,l.return=i,p.return=i,l.sibling=p,i.child=l,Ol(i,n.child,null,a),l=i.child,l.memoizedState=uv(a),l.childLanes=hv(n,S,a),i.memoizedState=cv,i=p);else if(La(i),Kv(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var B=S.dgst;S=B,l=Error(s(419)),l.stack="",l.digest=S,_u({value:l,source:null,stack:null}),i=fv(n,i,a)}else if($e||wu(n,i,a,!1),S=(a&n.childLanes)!==0,$e||S){if(S=oe,S!==null&&(l=a&-a,l=(l&42)!==0?1:$g(l),l=(l&(S.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Sl(n,l),ti(S,n,l),LS;C.data==="$?"||Dv(),i=fv(n,i,a)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=O.treeContext,Ae=ki(C.nextSibling),xn=i,Vt=!0,zr=null,Qi=!1,n!==null&&(vi[yi++]=Cs,vi[yi++]=Rs,vi[yi++]=Pr,Cs=n.id,Rs=n.overflow,Pr=i),i=dv(i,l.children),i.flags|=4096);return i}return p?(Da(),p=l.fallback,C=i.mode,O=n.child,B=O.sibling,l=Ts(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,B!==null?p=Ts(B,p):(p=kr(p,C,a,null),p.flags|=2),p.return=i,l.return=i,l.sibling=p,i.child=l,l=p,p=i.child,C=n.child.memoizedState,C===null?C=uv(a):(O=C.cachePool,O!==null?(B=He._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=xA(),C={baseLanes:C.baseLanes|a,cachePool:O}),p.memoizedState=C,p.childLanes=hv(n,S,a),i.memoizedState=cv,l):(La(i),a=n.child,n=a.sibling,a=Ts(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(S=i.deletions,S===null?(i.deletions=[n],i.flags|=16):S.push(n)),i.child=a,i.memoizedState=null,a)}function dv(n,i){return i=Gf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Gf(n,i){return n=$n(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function fv(n,i,a){return Ol(i,n.child,null,a),n=dv(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function IS(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Dm(n.return,i,a)}function pv(n,i,a,l,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=p)}function US(n,i,a){var l=i.pendingProps,p=l.revealOrder,v=l.tail;if(rn(n,i,l.children,a),l=je.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&IS(n,a,i);else if(n.tag===19)IS(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(W(je,l),p){case"forwards":for(a=i.child,p=null;a!==null;)n=a.alternate,n!==null&&If(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),pv(i,!1,p,a,v);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&If(n)===null){i.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}pv(i,!0,a,null,v);break;case"together":pv(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ns(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Fa|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(wu(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ts(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ts(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function gv(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&wf(n)))}function _C(n,i,a){switch(i.tag){case 3:Et(i,i.stateNode.containerInfo),xa(i,He,n.memoizedState.cache),Eu();break;case 27:case 5:jt(i);break;case 4:Et(i,i.stateNode.containerInfo);break;case 10:xa(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(La(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jS(n,i,a):(La(i),n=Ns(n,i,a),n!==null?n.sibling:null);La(i);break;case 19:var p=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(wu(n,i,a,!1),l=(a&i.childLanes)!==0),p){if(l)return US(n,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(je,je.current),l)break;return null;case 22:case 23:return i.lanes=0,kS(n,i,a);case 24:xa(i,He,n.memoizedState.cache)}return Ns(n,i,a)}function BS(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)$e=!0;else{if(!gv(n,a)&&(i.flags&128)===0)return $e=!1,_C(n,i,a);$e=(n.flags&131072)!==0}else $e=!1,Vt&&(i.flags&1048576)!==0&&yA(i,_f,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,p=l._init;if(l=p(l._payload),i.type=l,typeof l=="function")wm(l)?(n=qr(l,n),i.tag=1,i=zS(null,i,l,n,a)):(i.tag=0,i=lv(null,i,l,n,a));else{if(l!=null){if(p=l.$$typeof,p===k){i.tag=11,i=DS(null,i,l,n,a);break t}else if(p===K){i.tag=14,i=OS(null,i,l,n,a);break t}}throw i=pt(l)||l,Error(s(306,i,""))}}return i;case 0:return lv(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,p=qr(l,i.pendingProps),zS(n,i,l,p,a);case 3:t:{if(Et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var v=i.memoizedState;p=v.element,Hm(n,i),Du(i,l,null,a);var S=i.memoizedState;if(l=S.cache,xa(i,He,l),l!==v.cache&&Om(i,[He],a,!0),Lu(),l=S.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=HS(n,i,l,a);break t}else if(l!==p){p=gi(Error(s(424)),i),_u(p),i=HS(n,i,l,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ae=ki(n.firstChild),xn=i,Vt=!0,zr=null,Qi=!0,a=AS(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Eu(),l===p){i=Ns(n,i,a);break t}rn(n,i,l,a)}i=i.child}return i;case 26:return qf(n,i),n===null?(a=YE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,n=i.pendingProps,l=sp(ot.current).createElement(a),l[pn]=i,l[Pn]=n,ln(l,a,n),Ke(l),i.stateNode=l):i.memoizedState=YE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return jt(i),n===null&&Vt&&(l=i.stateNode=qE(i.type,i.pendingProps,ot.current),xn=i,Qi=!0,p=Ae,Ia(i.type)?($v=p,Ae=ki(l.firstChild)):Ae=p),rn(n,i,i.pendingProps.children,a),qf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Vt&&((p=l=Ae)&&(l=QC(l,i.type,i.pendingProps,Qi),l!==null?(i.stateNode=l,xn=i,Ae=ki(l.firstChild),Qi=!1,p=!0):p=!1),p||Hr(i)),jt(i),p=i.type,v=i.pendingProps,S=n!==null?n.memoizedProps:null,l=v.children,Vv(p,v)?l=null:S!==null&&Vv(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=Gm(n,i,gC,null,null,a),Ju._currentValue=p),qf(n,i),rn(n,i,l,a),i.child;case 6:return n===null&&Vt&&((n=a=Ae)&&(a=ZC(a,i.pendingProps,Qi),a!==null?(i.stateNode=a,xn=i,Ae=null,n=!0):n=!1),n||Hr(i)),null;case 13:return jS(n,i,a);case 4:return Et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ol(i,null,l,a):rn(n,i,l,a),i.child;case 11:return DS(n,i,i.type,i.pendingProps,a);case 7:return rn(n,i,i.pendingProps,a),i.child;case 8:return rn(n,i,i.pendingProps.children,a),i.child;case 12:return rn(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xa(i,i.type,l.value),rn(n,i,l.children,a),i.child;case 9:return p=i.type._context,l=i.pendingProps.children,Ir(i),p=gn(p),l=l(p),i.flags|=1,rn(n,i,l,a),i.child;case 14:return OS(n,i,i.type,i.pendingProps,a);case 15:return NS(n,i,i.type,i.pendingProps,a);case 19:return US(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Gf(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ts(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return kS(n,i,a);case 24:return Ir(i),l=gn(He),n===null?(p=Pm(),p===null&&(p=oe,v=Nm(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=a),p=v),i.memoizedState={parent:l,cache:p},zm(i),xa(i,He,p)):((n.lanes&a)!==0&&(Hm(n,i),Du(i,null,null,a),Lu()),p=n.memoizedState,v=i.memoizedState,p.parent!==l?(p={parent:l,cache:l},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),xa(i,He,l)):(l=v.cache,xa(i,He,l),l!==p.cache&&Om(i,[He],a,!0))),rn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ks(n){n.flags|=4}function qS(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!QE(i)){if(i=bi.current,i!==null&&((Ut&4194048)===Ut?Zi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==Zi))throw Ru=Fm,TA;n.flags|=8192}}function Vf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?S0():536870912,n.lanes|=i,Fl|=i)}function Hu(n,i){if(!Vt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function pe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function wC(n,i,a){var l=i.pendingProps;switch(Rm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(i),null;case 1:return pe(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ls(He),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Su(i)?ks(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,SA())),pe(i),null;case 26:return a=i.memoizedState,n===null?(ks(i),a!==null?(pe(i),qS(i,a)):(pe(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ks(i),pe(i),qS(i,a)):(pe(i),i.flags&=-16777217):(n.memoizedProps!==l&&ks(i),pe(i),i.flags&=-16777217),null;case 27:qt(i),a=ot.current;var p=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ks(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return pe(i),null}n=it.current,Su(i)?bA(i):(n=qE(p,l,a),i.stateNode=n,ks(i))}return pe(i),null;case 5:if(qt(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ks(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return pe(i),null}if(n=it.current,Su(i))bA(i);else{switch(p=sp(ot.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?p.createElement(a,{is:l.is}):p.createElement(a)}}n[pn]=i,n[Pn]=l;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=n;t:switch(ln(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ks(i)}}return pe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ks(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=ot.current,Su(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,p=xn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}n[pn]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||FE(n.nodeValue,a)),n||Hr(i)}else n=sp(n).createTextNode(l),n[pn]=i,i.stateNode=n}return pe(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Su(i),l!==null&&l.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[pn]=i}else Eu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pe(i),p=!1}else p=SA(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Os(i),i):(Os(i),null)}if(Os(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool);var v=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==p&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Vf(i,i.updateQueue),pe(i),null;case 4:return se(),n===null&&Iv(i.stateNode.containerInfo),pe(i),null;case 10:return Ls(i.type),pe(i),null;case 19:if($(je),p=i.memoizedState,p===null)return pe(i),null;if(l=(i.flags&128)!==0,v=p.rendering,v===null)if(l)Hu(p,!1);else{if(Se!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=If(n),v!==null){for(i.flags|=128,Hu(p,!1),n=v.updateQueue,i.updateQueue=n,Vf(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)vA(a,n),a=a.sibling;return W(je,je.current&1|2),i.child}n=n.sibling}p.tail!==null&&an()>Kf&&(i.flags|=128,l=!0,Hu(p,!1),i.lanes=4194304)}else{if(!l)if(n=If(v),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Vf(i,n),Hu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Vt)return pe(i),null}else 2*an()-p.renderingStartTime>Kf&&a!==536870912&&(i.flags|=128,l=!0,Hu(p,!1),i.lanes=4194304);p.isBackwards?(v.sibling=i.child,i.child=v):(n=p.last,n!==null?n.sibling=v:i.child=v,p.last=v)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=an(),i.sibling=null,n=je.current,W(je,l?n&1|2:n&1),i):(pe(i),null);case 22:case 23:return Os(i),Bm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(pe(i),i.subtreeFlags&6&&(i.flags|=8192)):pe(i),a=i.updateQueue,a!==null&&Vf(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&$(Ur),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ls(He),pe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xC(n,i){switch(Rm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ls(He),se(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return qt(i),null;case 13:if(Os(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Eu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return $(je),null;case 4:return se(),null;case 10:return Ls(i.type),null;case 22:case 23:return Os(i),Bm(),n!==null&&$(Ur),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ls(He),null;case 25:return null;default:return null}}function GS(n,i){switch(Rm(i),i.tag){case 3:Ls(He),se();break;case 26:case 27:case 5:qt(i);break;case 4:se();break;case 13:Os(i);break;case 19:$(je);break;case 10:Ls(i.type);break;case 22:case 23:Os(i),Bm(),n!==null&&$(Ur);break;case 24:Ls(He)}}function ju(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var p=l.next;a=p;do{if((a.tag&n)===n){l=void 0;var v=a.create,S=a.inst;l=v(),S.destroy=l}a=a.next}while(a!==p)}}catch(C){ae(i,i.return,C)}}function Oa(n,i,a){try{var l=i.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var v=p.next;l=v;do{if((l.tag&n)===n){var S=l.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,p=i;var O=a,B=C;try{B()}catch(Q){ae(p,O,Q)}}}l=l.next}while(l!==v)}}catch(Q){ae(i,i.return,Q)}}function VS(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{OA(i,a)}catch(l){ae(n,n.return,l)}}}function YS(n,i,a){a.props=qr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ae(n,i,l)}}function Iu(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(p){ae(n,i,p)}}function Ji(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){ae(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){ae(n,i,p)}else a.current=null}function XS(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){ae(n,n.return,p)}}function mv(n,i,a){try{var l=n.stateNode;YC(l,n.type,a,i),l[Pn]=i}catch(p){ae(n,n.return,p)}}function KS(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ia(n.type)||n.tag===4}function vv(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||KS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ia(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yv(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ip));else if(l!==4&&(l===27&&Ia(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(yv(n,i,a),n=n.sibling;n!==null;)yv(n,i,a),n=n.sibling}function Yf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Ia(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yf(n,i,a),n=n.sibling;n!==null;)Yf(n,i,a),n=n.sibling}function $S(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);ln(i,l,a),i[pn]=n,i[Pn]=a}catch(v){ae(n,n.return,v)}}var Ps=!1,xe=!1,bv=!1,WS=typeof WeakSet=="function"?WeakSet:Set,We=null;function TC(n,i){if(n=n.containerInfo,qv=up,n=oA(n),vm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break t}var S=0,C=-1,O=-1,B=0,Q=0,tt=n,G=null;e:for(;;){for(var Y;tt!==a||p!==0&&tt.nodeType!==3||(C=S+p),tt!==v||l!==0&&tt.nodeType!==3||(O=S+l),tt.nodeType===3&&(S+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)G=tt,tt=Y;for(;;){if(tt===n)break e;if(G===a&&++B===p&&(C=S),G===v&&++Q===l&&(O=S),(Y=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=Y}a=C===-1||O===-1?null:{start:C,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gv={focusedElem:n,selectionRange:a},up=!1,We=i;We!==null;)if(i=We,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,We=n;else for(;We!==null;){switch(i=We,v=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,a=i,p=v.memoizedProps,v=v.memoizedState,l=a.stateNode;try{var wt=qr(a.type,p,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(wt,v),l.__reactInternalSnapshotBeforeUpdate=n}catch(St){ae(a,a.return,St)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Xv(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xv(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,We=n;break}We=i.return}}function QS(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Na(n,a),l&4&&ju(5,a);break;case 1:if(Na(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(S){ae(a,a.return,S)}else{var p=qr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(S){ae(a,a.return,S)}}l&64&&VS(a),l&512&&Iu(a,a.return);break;case 3:if(Na(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{OA(n,i)}catch(S){ae(a,a.return,S)}}break;case 27:i===null&&l&4&&$S(a);case 26:case 5:Na(n,a),i===null&&l&4&&XS(a),l&512&&Iu(a,a.return);break;case 12:Na(n,a);break;case 13:Na(n,a),l&4&&tE(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=PC.bind(null,a),JC(n,a))));break;case 22:if(l=a.memoizedState!==null||Ps,!l){i=i!==null&&i.memoizedState!==null||xe,p=Ps;var v=xe;Ps=l,(xe=i)&&!v?ka(n,a,(a.subtreeFlags&8772)!==0):Na(n,a),Ps=p,xe=v}break;case 30:break;default:Na(n,a)}}function ZS(n){var i=n.alternate;i!==null&&(n.alternate=null,ZS(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Zg(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var de=null,Hn=!1;function Fs(n,i,a){for(a=a.child;a!==null;)JS(n,i,a),a=a.sibling}function JS(n,i,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Rr,a)}catch{}switch(a.tag){case 26:xe||Ji(a,i),Fs(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Ji(a,i);var l=de,p=Hn;Ia(a.type)&&(de=a.stateNode,Hn=!1),Fs(n,i,a),$u(a.stateNode),de=l,Hn=p;break;case 5:xe||Ji(a,i);case 6:if(l=de,p=Hn,de=null,Fs(n,i,a),de=l,Hn=p,de!==null)if(Hn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(a.stateNode)}catch(v){ae(a,i,v)}else try{de.removeChild(a.stateNode)}catch(v){ae(a,i,v)}break;case 18:de!==null&&(Hn?(n=de,UE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ih(n)):UE(de,a.stateNode));break;case 4:l=de,p=Hn,de=a.stateNode.containerInfo,Hn=!0,Fs(n,i,a),de=l,Hn=p;break;case 0:case 11:case 14:case 15:xe||Oa(2,a,i),xe||Oa(4,a,i),Fs(n,i,a);break;case 1:xe||(Ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&YS(a,i,l)),Fs(n,i,a);break;case 21:Fs(n,i,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Fs(n,i,a),xe=l;break;default:Fs(n,i,a)}}function tE(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ih(n)}catch(a){ae(i,i.return,a)}}function CC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new WS),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new WS),i;default:throw Error(s(435,n.tag))}}function Av(n,i){var a=CC(n);i.forEach(function(l){var p=FC.bind(null,n,l);a.has(l)||(a.add(l),l.then(p,p))})}function Wn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],v=n,S=i,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(Ia(C.type)){de=C.stateNode,Hn=!1;break t}break;case 5:de=C.stateNode,Hn=!1;break t;case 3:case 4:de=C.stateNode.containerInfo,Hn=!0;break t}C=C.return}if(de===null)throw Error(s(160));JS(v,S,p),de=null,Hn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)eE(i,n),i=i.sibling}var Ni=null;function eE(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wn(i,n),Qn(n),l&4&&(Oa(3,n,n.return),ju(3,n),Oa(5,n,n.return));break;case 1:Wn(i,n),Qn(n),l&512&&(xe||a===null||Ji(a,a.return)),l&64&&Ps&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=Ni;if(Wn(i,n),Qn(n),l&512&&(xe||a===null||Ji(a,a.return)),l&4){var v=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,p=p.ownerDocument||p;e:switch(l){case"title":v=p.getElementsByTagName("title")[0],(!v||v[uu]||v[pn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(l),p.head.insertBefore(v,p.querySelector("head > title"))),ln(v,l,a),v[pn]=n,Ke(v),l=v;break t;case"link":var S=$E("link","href",p).get(l+(a.href||""));if(S){for(var C=0;C<S.length;C++)if(v=S[C],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(C,1);break e}}v=p.createElement(l),ln(v,l,a),p.head.appendChild(v);break;case"meta":if(S=$E("meta","content",p).get(l+(a.content||""))){for(C=0;C<S.length;C++)if(v=S[C],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(C,1);break e}}v=p.createElement(l),ln(v,l,a),p.head.appendChild(v);break;default:throw Error(s(468,l))}v[pn]=n,Ke(v),l=v}n.stateNode=l}else WE(p,n.type,n.stateNode);else n.stateNode=KE(p,l,n.memoizedProps);else v!==l?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,l===null?WE(p,n.type,n.stateNode):KE(p,l,n.memoizedProps)):l===null&&n.stateNode!==null&&mv(n,n.memoizedProps,a.memoizedProps)}break;case 27:Wn(i,n),Qn(n),l&512&&(xe||a===null||Ji(a,a.return)),a!==null&&l&4&&mv(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Wn(i,n),Qn(n),l&512&&(xe||a===null||Ji(a,a.return)),n.flags&32){p=n.stateNode;try{pl(p,"")}catch(Y){ae(n,n.return,Y)}}l&4&&n.stateNode!=null&&(p=n.memoizedProps,mv(n,p,a!==null?a.memoizedProps:p)),l&1024&&(bv=!0);break;case 6:if(Wn(i,n),Qn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Y){ae(n,n.return,Y)}}break;case 3:if(op=null,p=Ni,Ni=ap(i.containerInfo),Wn(i,n),Ni=p,Qn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ih(i.containerInfo)}catch(Y){ae(n,n.return,Y)}bv&&(bv=!1,nE(n));break;case 4:l=Ni,Ni=ap(n.stateNode.containerInfo),Wn(i,n),Qn(n),Ni=l;break;case 12:Wn(i,n),Qn(n);break;case 13:Wn(i,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tv=an()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Av(n,l)));break;case 22:p=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,B=Ps,Q=xe;if(Ps=B||p,xe=Q||O,Wn(i,n),xe=Q,Ps=B,Qn(n),l&8192)t:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(a===null||O||Ps||xe||Gr(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(v=O.stateNode,p)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=O.stateNode;var tt=O.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){ae(O,O.return,Y)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(Y){ae(O,O.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Av(n,a))));break;case 19:Wn(i,n),Qn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Av(n,l)));break;case 30:break;case 21:break;default:Wn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(KS(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var p=a.stateNode,v=vv(n);Yf(n,v,p);break;case 5:var S=a.stateNode;a.flags&32&&(pl(S,""),a.flags&=-33);var C=vv(n);Yf(n,C,S);break;case 3:case 4:var O=a.stateNode.containerInfo,B=vv(n);yv(n,B,O);break;default:throw Error(s(161))}}catch(Q){ae(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function nE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;nE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Na(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)QS(n,i.alternate,i),i=i.sibling}function Gr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Oa(4,i,i.return),Gr(i);break;case 1:Ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&YS(i,i.return,a),Gr(i);break;case 27:$u(i.stateNode);case 26:case 5:Ji(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}n=n.sibling}}function ka(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,p=n,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:ka(p,v,a),ju(4,v);break;case 1:if(ka(p,v,a),l=v,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(B){ae(l,l.return,B)}if(l=v,p=l.updateQueue,p!==null){var C=l.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)DA(O[p],C)}catch(B){ae(l,l.return,B)}}a&&S&64&&VS(v),Iu(v,v.return);break;case 27:$S(v);case 26:case 5:ka(p,v,a),a&&l===null&&S&4&&XS(v),Iu(v,v.return);break;case 12:ka(p,v,a);break;case 13:ka(p,v,a),a&&S&4&&tE(p,v);break;case 22:v.memoizedState===null&&ka(p,v,a),Iu(v,v.return);break;case 30:break;default:ka(p,v,a)}i=i.sibling}}function Sv(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xu(a))}function Ev(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xu(n))}function ts(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iE(n,i,a,l),i=i.sibling}function iE(n,i,a,l){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ts(n,i,a,l),p&2048&&ju(9,i);break;case 1:ts(n,i,a,l);break;case 3:ts(n,i,a,l),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xu(n)));break;case 12:if(p&2048){ts(n,i,a,l),n=i.stateNode;try{var v=i.memoizedProps,S=v.id,C=v.onPostCommit;typeof C=="function"&&C(S,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){ae(i,i.return,O)}}else ts(n,i,a,l);break;case 13:ts(n,i,a,l);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?ts(n,i,a,l):Uu(n,i):v._visibility&2?ts(n,i,a,l):(v._visibility|=2,Nl(n,i,a,l,(i.subtreeFlags&10256)!==0)),p&2048&&Sv(S,i);break;case 24:ts(n,i,a,l),p&2048&&Ev(i.alternate,i);break;default:ts(n,i,a,l)}}function Nl(n,i,a,l,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=n,S=i,C=a,O=l,B=S.flags;switch(S.tag){case 0:case 11:case 15:Nl(v,S,C,O,p),ju(8,S);break;case 23:break;case 22:var Q=S.stateNode;S.memoizedState!==null?Q._visibility&2?Nl(v,S,C,O,p):Uu(v,S):(Q._visibility|=2,Nl(v,S,C,O,p)),p&&B&2048&&Sv(S.alternate,S);break;case 24:Nl(v,S,C,O,p),p&&B&2048&&Ev(S.alternate,S);break;default:Nl(v,S,C,O,p)}i=i.sibling}}function Uu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,p=l.flags;switch(l.tag){case 22:Uu(a,l),p&2048&&Sv(l.alternate,l);break;case 24:Uu(a,l),p&2048&&Ev(l.alternate,l);break;default:Uu(a,l)}i=i.sibling}}var Bu=8192;function kl(n){if(n.subtreeFlags&Bu)for(n=n.child;n!==null;)sE(n),n=n.sibling}function sE(n){switch(n.tag){case 26:kl(n),n.flags&Bu&&n.memoizedState!==null&&dR(Ni,n.memoizedState,n.memoizedProps);break;case 5:kl(n);break;case 3:case 4:var i=Ni;Ni=ap(n.stateNode.containerInfo),kl(n),Ni=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Bu,Bu=16777216,kl(n),Bu=i):kl(n));break;default:kl(n)}}function aE(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function qu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];We=l,oE(l,n)}aE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rE(n),n=n.sibling}function rE(n){switch(n.tag){case 0:case 11:case 15:qu(n),n.flags&2048&&Oa(9,n,n.return);break;case 3:qu(n);break;case 12:qu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Xf(n)):qu(n);break;default:qu(n)}}function Xf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];We=l,oE(l,n)}aE(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Oa(8,i,i.return),Xf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xf(i));break;default:Xf(i)}n=n.sibling}}function oE(n,i){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:Oa(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,We=l;else t:for(a=n;We!==null;){l=We;var p=l.sibling,v=l.return;if(ZS(l),l===a){We=null;break t}if(p!==null){p.return=v,We=p;break t}We=v}}}var RC={getCacheForType:function(n){var i=gn(He),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},MC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,oe=null,Ft=null,Ut=0,$t=0,Zn=null,Pa=!1,Pl=!1,_v=!1,zs=0,Se=0,Fa=0,Vr=0,wv=0,Ai=0,Fl=0,Gu=null,jn=null,xv=!1,Tv=0,Kf=1/0,$f=null,za=null,on=0,Ha=null,zl=null,Hl=0,Cv=0,Rv=null,lE=null,Vu=0,Mv=null;function Jn(){if((Kt&2)!==0&&Ut!==0)return Ut&-Ut;if(F.T!==null){var n=xl;return n!==0?n:Fv()}return w0()}function cE(){Ai===0&&(Ai=(Ut&536870912)===0||Vt?A0():536870912);var n=bi.current;return n!==null&&(n.flags|=32),Ai}function ti(n,i,a){(n===oe&&($t===2||$t===9)||n.cancelPendingCommit!==null)&&(jl(n,0),ja(n,Ut,Ai,!1)),cu(n,a),((Kt&2)===0||n!==oe)&&(n===oe&&((Kt&2)===0&&(Vr|=a),Se===4&&ja(n,Ut,Ai,!1)),es(n))}function uE(n,i,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||lu(n,i),p=l?OC(n,i):Ov(n,i,!0),v=l;do{if(p===0){Pl&&!l&&ja(n,i,0,!1);break}else{if(a=n.current.alternate,v&&!LC(a)){p=Ov(n,i,!1),v=!1;continue}if(p===2){if(v=i,n.errorRecoveryDisabledLanes&v)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var C=n;p=Gu;var O=C.current.memoizedState.isDehydrated;if(O&&(jl(C,S).flags|=256),S=Ov(C,S,!1),S!==2){if(_v&&!O){C.errorRecoveryDisabledLanes|=v,Vr|=v,p=4;break t}v=jn,jn=p,v!==null&&(jn===null?jn=v:jn.push.apply(jn,v))}p=S}if(v=!1,p!==2)continue}}if(p===1){jl(n,0),ja(n,i,0,!0);break}t:{switch(l=n,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ja(l,i,Ai,!Pa);break t;case 2:jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Tv+300-an(),10<p)){if(ja(l,i,Ai,!Pa),rf(l,0,!0)!==0)break t;l.timeoutHandle=jE(hE.bind(null,l,a,jn,$f,xv,i,Ai,Vr,Fl,Pa,v,2,-0,0),p);break t}hE(l,a,jn,$f,xv,i,Ai,Vr,Fl,Pa,v,0,-0,0)}}break}while(!0);es(n)}function hE(n,i,a,l,p,v,S,C,O,B,Q,tt,G,Y){if(n.timeoutHandle=-1,tt=i.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Zu={stylesheets:null,count:0,unsuspend:hR},sE(i),tt=fR(),tt!==null)){n.cancelPendingCommit=tt(yE.bind(null,n,i,v,a,l,p,S,C,O,Q,1,G,Y)),ja(n,v,S,!B);return}yE(n,i,v,a,l,p,S,C,O)}function LC(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],v=p.getSnapshot;p=p.value;try{if(!Kn(v(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ja(n,i,a,l){i&=~wv,i&=~Vr,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var p=i;0<p;){var v=31-Xe(p),S=1<<v;l[v]=-1,p&=~S}a!==0&&E0(n,a,i)}function Wf(){return(Kt&6)===0?(Yu(0),!1):!0}function Lv(){if(Ft!==null){if($t===0)var n=Ft.return;else n=Ft,Ms=jr=null,Xm(n),Dl=null,Fu=0,n=Ft;for(;n!==null;)GS(n.alternate,n),n=n.return;Ft=null}}function jl(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,KC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Lv(),oe=n,Ft=a=Ts(n.current,null),Ut=i,$t=0,Zn=null,Pa=!1,Pl=lu(n,i),_v=!1,Fl=Ai=wv=Vr=Fa=Se=0,jn=Gu=null,xv=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var p=31-Xe(l),v=1<<p;i|=n[p],l&=~v}return zs=i,yf(),a}function dE(n,i){Ot=null,F.H=zf,i===Cu||i===Cf?(i=MA(),$t=3):i===TA?(i=MA(),$t=4):$t=i===LS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Ft===null&&(Se=1,Bf(n,gi(i,n.current)))}function fE(){var n=F.H;return F.H=zf,n===null?zf:n}function pE(){var n=F.A;return F.A=RC,n}function Dv(){Se=4,Pa||(Ut&4194048)!==Ut&&bi.current!==null||(Pl=!0),(Fa&134217727)===0&&(Vr&134217727)===0||oe===null||ja(oe,Ut,Ai,!1)}function Ov(n,i,a){var l=Kt;Kt|=2;var p=fE(),v=pE();(oe!==n||Ut!==i)&&($f=null,jl(n,i)),i=!1;var S=Se;t:do try{if($t!==0&&Ft!==null){var C=Ft,O=Zn;switch($t){case 8:Lv(),S=6;break t;case 3:case 2:case 9:case 6:bi.current===null&&(i=!0);var B=$t;if($t=0,Zn=null,Il(n,C,O,B),a&&Pl){S=0;break t}break;default:B=$t,$t=0,Zn=null,Il(n,C,O,B)}}DC(),S=Se;break}catch(Q){dE(n,Q)}while(!0);return i&&n.shellSuspendCounter++,Ms=jr=null,Kt=l,F.H=p,F.A=v,Ft===null&&(oe=null,Ut=0,yf()),S}function DC(){for(;Ft!==null;)gE(Ft)}function OC(n,i){var a=Kt;Kt|=2;var l=fE(),p=pE();oe!==n||Ut!==i?($f=null,Kf=an()+500,jl(n,i)):Pl=lu(n,i);t:do try{if($t!==0&&Ft!==null){i=Ft;var v=Zn;e:switch($t){case 1:$t=0,Zn=null,Il(n,i,v,1);break;case 2:case 9:if(CA(v)){$t=0,Zn=null,mE(i);break}i=function(){$t!==2&&$t!==9||oe!==n||($t=7),es(n)},v.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:CA(v)?($t=0,Zn=null,mE(i)):($t=0,Zn=null,Il(n,i,v,7));break;case 5:var S=null;switch(Ft.tag){case 26:S=Ft.memoizedState;case 5:case 27:var C=Ft;if(!S||QE(S)){$t=0,Zn=null;var O=C.sibling;if(O!==null)Ft=O;else{var B=C.return;B!==null?(Ft=B,Qf(B)):Ft=null}break e}}$t=0,Zn=null,Il(n,i,v,5);break;case 6:$t=0,Zn=null,Il(n,i,v,6);break;case 8:Lv(),Se=6;break t;default:throw Error(s(462))}}NC();break}catch(Q){dE(n,Q)}while(!0);return Ms=jr=null,F.H=l,F.A=p,Kt=a,Ft!==null?0:(oe=null,Ut=0,yf(),Se)}function NC(){for(;Ft!==null&&!Ye();)gE(Ft)}function gE(n){var i=BS(n.alternate,n,zs);n.memoizedProps=n.pendingProps,i===null?Qf(n):Ft=i}function mE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=FS(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=FS(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Xm(i);default:GS(a,i),i=Ft=vA(i,zs),i=BS(a,i,zs)}n.memoizedProps=n.pendingProps,i===null?Qf(n):Ft=i}function Il(n,i,a,l){Ms=jr=null,Xm(i),Dl=null,Fu=0;var p=i.return;try{if(EC(n,p,i,a,Ut)){Se=1,Bf(n,gi(a,n.current)),Ft=null;return}}catch(v){if(p!==null)throw Ft=p,v;Se=1,Bf(n,gi(a,n.current)),Ft=null;return}i.flags&32768?(Vt||l===1?n=!0:Pl||(Ut&536870912)!==0?n=!1:(Pa=n=!0,(l===2||l===9||l===3||l===6)&&(l=bi.current,l!==null&&l.tag===13&&(l.flags|=16384))),vE(i,n)):Qf(i)}function Qf(n){var i=n;do{if((i.flags&32768)!==0){vE(i,Pa);return}n=i.return;var a=wC(i.alternate,i,zs);if(a!==null){Ft=a;return}if(i=i.sibling,i!==null){Ft=i;return}Ft=i=n}while(i!==null);Se===0&&(Se=5)}function vE(n,i){do{var a=xC(n.alternate,n);if(a!==null){a.flags&=32767,Ft=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ft=n;return}Ft=n=a}while(n!==null);Se=6,Ft=null}function yE(n,i,a,l,p,v,S,C,O){n.cancelPendingCommit=null;do Zf();while(on!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=Em,hT(n,a,v,S,C,O),n===oe&&(Ft=oe=null,Ut=0),zl=i,Ha=n,Hl=a,Cv=v,Rv=p,lE=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,zC(_s,function(){return _E(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,p=X.p,X.p=2,S=Kt,Kt|=4;try{TC(n,i,a)}finally{Kt=S,X.p=p,F.T=l}}on=1,bE(),AE(),SE()}}function bE(){if(on===1){on=0;var n=Ha,i=zl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=X.p;X.p=2;var p=Kt;Kt|=4;try{eE(i,n);var v=Gv,S=oA(n.containerInfo),C=v.focusedElem,O=v.selectionRange;if(S!==C&&C&&C.ownerDocument&&rA(C.ownerDocument.documentElement,C)){if(O!==null&&vm(C)){var B=O.start,Q=O.end;if(Q===void 0&&(Q=B),"selectionStart"in C)C.selectionStart=B,C.selectionEnd=Math.min(Q,C.value.length);else{var tt=C.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var Y=G.getSelection(),wt=C.textContent.length,St=Math.min(O.start,wt),ee=O.end===void 0?St:Math.min(O.end,wt);!Y.extend&&St>ee&&(S=ee,ee=St,St=S);var H=aA(C,St),P=aA(C,ee);if(H&&P&&(Y.rangeCount!==1||Y.anchorNode!==H.node||Y.anchorOffset!==H.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var U=tt.createRange();U.setStart(H.node,H.offset),Y.removeAllRanges(),St>ee?(Y.addRange(U),Y.extend(P.node,P.offset)):(U.setEnd(P.node,P.offset),Y.addRange(U))}}}}for(tt=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&tt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<tt.length;C++){var J=tt[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}up=!!qv,Gv=qv=null}finally{Kt=p,X.p=l,F.T=a}}n.current=i,on=2}}function AE(){if(on===2){on=0;var n=Ha,i=zl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=X.p;X.p=2;var p=Kt;Kt|=4;try{QS(n,i.alternate,i)}finally{Kt=p,X.p=l,F.T=a}}on=3}}function SE(){if(on===4||on===3){on=0,Me();var n=Ha,i=zl,a=Hl,l=lE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,zl=Ha=null,EE(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(za=null),Wg(a),i=i.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Rr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,p=X.p,X.p=2,F.T=null;try{for(var v=n.onRecoverableError,S=0;S<l.length;S++){var C=l[S];v(C.value,{componentStack:C.stack})}}finally{F.T=i,X.p=p}}(Hl&3)!==0&&Zf(),es(n),p=n.pendingLanes,(a&4194090)!==0&&(p&42)!==0?n===Mv?Vu++:(Vu=0,Mv=n):Vu=0,Yu(0)}}function EE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,xu(i)))}function Zf(n){return bE(),AE(),SE(),_E()}function _E(){if(on!==5)return!1;var n=Ha,i=Cv;Cv=0;var a=Wg(Hl),l=F.T,p=X.p;try{X.p=32>a?32:a,F.T=null,a=Rv,Rv=null;var v=Ha,S=Hl;if(on=0,zl=Ha=null,Hl=0,(Kt&6)!==0)throw Error(s(331));var C=Kt;if(Kt|=4,rE(v.current),iE(v,v.current,S,a),Kt=C,Yu(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Rr,v)}catch{}return!0}finally{X.p=p,F.T=l,EE(n,i)}}function wE(n,i,a){i=gi(a,i),i=ov(n.stateNode,i,2),n=Ra(n,i,2),n!==null&&(cu(n,2),es(n))}function ae(n,i,a){if(n.tag===3)wE(n,n,a);else for(;i!==null;){if(i.tag===3){wE(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){n=gi(a,n),a=RS(2),l=Ra(i,a,2),l!==null&&(MS(a,l,i,n),cu(l,2),es(l));break}}i=i.return}}function Nv(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new MC;var p=new Set;l.set(i,p)}else p=l.get(i),p===void 0&&(p=new Set,l.set(i,p));p.has(a)||(_v=!0,p.add(a),n=kC.bind(null,n,i,a),i.then(n,n))}function kC(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,oe===n&&(Ut&a)===a&&(Se===4||Se===3&&(Ut&62914560)===Ut&&300>an()-Tv?(Kt&2)===0&&jl(n,0):wv|=a,Fl===Ut&&(Fl=0)),es(n)}function xE(n,i){i===0&&(i=S0()),n=Sl(n,i),n!==null&&(cu(n,i),es(n))}function PC(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),xE(n,a)}function FC(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),xE(n,a)}function zC(n,i){return Bt(n,i)}var Jf=null,Ul=null,kv=!1,tp=!1,Pv=!1,Yr=0;function es(n){n!==Ul&&n.next===null&&(Ul===null?Jf=Ul=n:Ul=Ul.next=n),tp=!0,kv||(kv=!0,jC())}function Yu(n,i){if(!Pv&&tp){Pv=!0;do for(var a=!1,l=Jf;l!==null;){if(n!==0){var p=l.pendingLanes;if(p===0)var v=0;else{var S=l.suspendedLanes,C=l.pingedLanes;v=(1<<31-Xe(42|n)+1)-1,v&=p&~(S&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,ME(l,v))}else v=Ut,v=rf(l,l===oe?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||lu(l,v)||(a=!0,ME(l,v));l=l.next}while(a);Pv=!1}}function HC(){TE()}function TE(){tp=kv=!1;var n=0;Yr!==0&&(XC()&&(n=Yr),Yr=0);for(var i=an(),a=null,l=Jf;l!==null;){var p=l.next,v=CE(l,i);v===0?(l.next=null,a===null?Jf=p:a.next=p,p===null&&(Ul=a)):(a=l,(n!==0||(v&3)!==0)&&(tp=!0)),l=p}Yu(n)}function CE(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var S=31-Xe(v),C=1<<S,O=p[S];O===-1?((C&a)===0||(C&l)!==0)&&(p[S]=uT(C,i)):O<=i&&(n.expiredLanes|=C),v&=~C}if(i=oe,a=Ut,a=rf(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&($t===2||$t===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&he(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||lu(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&he(l),Wg(a)){case 2:case 8:a=ef;break;case 32:a=_s;break;case 268435456:a=nf;break;default:a=_s}return l=RE.bind(null,n),a=Bt(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&he(l),n.callbackPriority=2,n.callbackNode=null,2}function RE(n,i){if(on!==0&&on!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Zf()&&n.callbackNode!==a)return null;var l=Ut;return l=rf(n,n===oe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(uE(n,l,i),CE(n,an()),n.callbackNode!=null&&n.callbackNode===a?RE.bind(null,n):null)}function ME(n,i){if(Zf())return null;uE(n,i,!0)}function jC(){$C(function(){(Kt&6)!==0?Bt(tf,HC):TE()})}function Fv(){return Yr===0&&(Yr=A0()),Yr}function LE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hf(""+n)}function DE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function IC(n,i,a,l,p){if(i==="submit"&&a&&a.stateNode===p){var v=LE((p[Pn]||null).action),S=l.submitter;S&&(i=(i=S[Pn]||null)?LE(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var C=new gf("action","action",null,l,p);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var O=S?DE(p,S):new FormData(p);nv(a,{pending:!0,data:O,method:p.method,action:v},null,O)}}else typeof v=="function"&&(C.preventDefault(),O=S?DE(p,S):new FormData(p),nv(a,{pending:!0,data:O,method:p.method,action:v},v,O))},currentTarget:p}]})}}for(var zv=0;zv<Sm.length;zv++){var Hv=Sm[zv],UC=Hv.toLowerCase(),BC=Hv[0].toUpperCase()+Hv.slice(1);Oi(UC,"on"+BC)}Oi(uA,"onAnimationEnd"),Oi(hA,"onAnimationIteration"),Oi(dA,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(aC,"onTransitionRun"),Oi(rC,"onTransitionStart"),Oi(oC,"onTransitionCancel"),Oi(fA,"onTransitionEnd"),hl("onMouseEnter",["mouseout","mouseover"]),hl("onMouseLeave",["mouseout","mouseover"]),hl("onPointerEnter",["pointerout","pointerover"]),hl("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function OE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],p=l.event;l=l.listeners;t:{var v=void 0;if(i)for(var S=l.length-1;0<=S;S--){var C=l[S],O=C.instance,B=C.currentTarget;if(C=C.listener,O!==v&&p.isPropagationStopped())break t;v=C,p.currentTarget=B;try{v(p)}catch(Q){Uf(Q)}p.currentTarget=null,v=O}else for(S=0;S<l.length;S++){if(C=l[S],O=C.instance,B=C.currentTarget,C=C.listener,O!==v&&p.isPropagationStopped())break t;v=C,p.currentTarget=B;try{v(p)}catch(Q){Uf(Q)}p.currentTarget=null,v=O}}}}function zt(n,i){var a=i[Qg];a===void 0&&(a=i[Qg]=new Set);var l=n+"__bubble";a.has(l)||(NE(i,n,2,!1),a.add(l))}function jv(n,i,a){var l=0;i&&(l|=4),NE(a,n,l,i)}var ep="_reactListening"+Math.random().toString(36).slice(2);function Iv(n){if(!n[ep]){n[ep]=!0,T0.forEach(function(a){a!=="selectionchange"&&(qC.has(a)||jv(a,!1,n),jv(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ep]||(i[ep]=!0,jv("selectionchange",!1,i))}}function NE(n,i,a,l){switch(i_(i)){case 2:var p=mR;break;case 8:p=vR;break;default:p=ty}a=p.bind(null,i,a,n),p=void 0,!lm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),l?p!==void 0?n.addEventListener(i,a,{capture:!0,passive:p}):n.addEventListener(i,a,!0):p!==void 0?n.addEventListener(i,a,{passive:p}):n.addEventListener(i,a,!1)}function Uv(n,i,a,l,p){var v=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var C=l.stateNode.containerInfo;if(C===p)break;if(S===4)for(S=l.return;S!==null;){var O=S.tag;if((O===3||O===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;C!==null;){if(S=ll(C),S===null)return;if(O=S.tag,O===5||O===6||O===26||O===27){l=v=S;continue t}C=C.parentNode}}l=l.return}I0(function(){var B=v,Q=rm(a),tt=[];t:{var G=pA.get(n);if(G!==void 0){var Y=gf,wt=n;switch(n){case"keypress":if(ff(a)===0)break t;case"keydown":case"keyup":Y=zT;break;case"focusin":wt="focus",Y=dm;break;case"focusout":wt="blur",Y=dm;break;case"beforeblur":case"afterblur":Y=dm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=xT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=IT;break;case uA:case hA:case dA:Y=RT;break;case fA:Y=BT;break;case"scroll":case"scrollend":Y=_T;break;case"wheel":Y=GT;break;case"copy":case"cut":case"paste":Y=LT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=V0;break;case"toggle":case"beforetoggle":Y=YT}var St=(i&4)!==0,ee=!St&&(n==="scroll"||n==="scrollend"),H=St?G!==null?G+"Capture":null:G;St=[];for(var P=B,U;P!==null;){var J=P;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||H===null||(J=du(P,H),J!=null&&St.push(Ku(P,J,U))),ee)break;P=P.return}0<St.length&&(G=new Y(G,wt,null,a,Q),tt.push({event:G,listeners:St}))}}if((i&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==am&&(wt=a.relatedTarget||a.fromElement)&&(ll(wt)||wt[ol]))break t;if((Y||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(wt=a.relatedTarget||a.toElement,Y=B,wt=wt?ll(wt):null,wt!==null&&(ee=o(wt),St=wt.tag,wt!==ee||St!==5&&St!==27&&St!==6)&&(wt=null)):(Y=null,wt=B),Y!==wt)){if(St=q0,J="onMouseLeave",H="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(St=V0,J="onPointerLeave",H="onPointerEnter",P="pointer"),ee=Y==null?G:hu(Y),U=wt==null?G:hu(wt),G=new St(J,P+"leave",Y,a,Q),G.target=ee,G.relatedTarget=U,J=null,ll(Q)===B&&(St=new St(H,P+"enter",wt,a,Q),St.target=U,St.relatedTarget=ee,J=St),ee=J,Y&&wt)e:{for(St=Y,H=wt,P=0,U=St;U;U=Bl(U))P++;for(U=0,J=H;J;J=Bl(J))U++;for(;0<P-U;)St=Bl(St),P--;for(;0<U-P;)H=Bl(H),U--;for(;P--;){if(St===H||H!==null&&St===H.alternate)break e;St=Bl(St),H=Bl(H)}St=null}else St=null;Y!==null&&kE(tt,G,Y,St,!1),wt!==null&&ee!==null&&kE(tt,ee,wt,St,!0)}}t:{if(G=B?hu(B):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var ht=J0;else if(Q0(G))if(tA)ht=nC;else{ht=tC;var kt=JT}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&sm(B.elementType)&&(ht=J0):ht=eC;if(ht&&(ht=ht(n,B))){Z0(tt,ht,a,Q);break t}kt&&kt(n,G,B),n==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&im(G,"number",G.value)}switch(kt=B?hu(B):window,n){case"focusin":(Q0(kt)||kt.contentEditable==="true")&&(yl=kt,ym=B,Au=null);break;case"focusout":Au=ym=yl=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,lA(tt,a,Q);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":lA(tt,a,Q)}var yt;if(pm)t:{switch(n){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else vl?$0(n,a)&&(_t="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(Y0&&a.locale!=="ko"&&(vl||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&vl&&(yt=U0()):(wa=Q,cm="value"in wa?wa.value:wa.textContent,vl=!0)),kt=np(B,_t),0<kt.length&&(_t=new G0(_t,n,null,a,Q),tt.push({event:_t,listeners:kt}),yt?_t.data=yt:(yt=W0(a),yt!==null&&(_t.data=yt)))),(yt=KT?$T(n,a):WT(n,a))&&(_t=np(B,"onBeforeInput"),0<_t.length&&(kt=new G0("onBeforeInput","beforeinput",null,a,Q),tt.push({event:kt,listeners:_t}),kt.data=yt)),IC(tt,n,B,a,Q)}OE(tt,i)})}function Ku(n,i,a){return{instance:n,listener:i,currentTarget:a}}function np(n,i){for(var a=i+"Capture",l=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=du(n,a),p!=null&&l.unshift(Ku(n,p,v)),p=du(n,i),p!=null&&l.push(Ku(n,p,v))),n.tag===3)return l;n=n.return}return[]}function Bl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kE(n,i,a,l,p){for(var v=i._reactName,S=[];a!==null&&a!==l;){var C=a,O=C.alternate,B=C.stateNode;if(C=C.tag,O!==null&&O===l)break;C!==5&&C!==26&&C!==27||B===null||(O=B,p?(B=du(a,v),B!=null&&S.unshift(Ku(a,B,O))):p||(B=du(a,v),B!=null&&S.push(Ku(a,B,O)))),a=a.return}S.length!==0&&n.push({event:i,listeners:S})}var GC=/\r\n?/g,VC=/\u0000|\uFFFD/g;function PE(n){return(typeof n=="string"?n:""+n).replace(GC,`
`).replace(VC,"")}function FE(n,i){return i=PE(i),PE(n)===i}function ip(){}function te(n,i,a,l,p,v){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||pl(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&pl(n,""+l);break;case"className":lf(n,"class",l);break;case"tabIndex":lf(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lf(n,a,l);break;case"style":H0(n,l,v);break;case"data":if(i!=="object"){lf(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=hf(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(i!=="input"&&te(n,i,"name",p.name,p,null),te(n,i,"formEncType",p.formEncType,p,null),te(n,i,"formMethod",p.formMethod,p,null),te(n,i,"formTarget",p.formTarget,p,null)):(te(n,i,"encType",p.encType,p,null),te(n,i,"method",p.method,p,null),te(n,i,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=hf(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ip);break;case"onScroll":l!=null&&zt("scroll",n);break;case"onScrollEnd":l!=null&&zt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=hf(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":zt("beforetoggle",n),zt("toggle",n),of(n,"popover",l);break;case"xlinkActuate":ws(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ws(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ws(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ws(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ws(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ws(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ws(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ws(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ws(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":of(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ST.get(a)||a,of(n,a,l))}}function Bv(n,i,a,l,p,v){switch(a){case"style":H0(n,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?pl(n,l):(typeof l=="number"||typeof l=="bigint")&&pl(n,""+l);break;case"onScroll":l!=null&&zt("scroll",n);break;case"onScrollEnd":l!=null&&zt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ip);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),v=n[Pn]||null,v=v!=null?v[a]:null,typeof v=="function"&&n.removeEventListener(i,v,p),typeof l=="function")){typeof v!="function"&&v!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,p);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):of(n,a,l)}}}function ln(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",n),zt("load",n);var l=!1,p=!1,v;for(v in a)if(a.hasOwnProperty(v)){var S=a[v];if(S!=null)switch(v){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(n,i,v,S,a,null)}}p&&te(n,i,"srcSet",a.srcSet,a,null),l&&te(n,i,"src",a.src,a,null);return;case"input":zt("invalid",n);var C=v=S=p=null,O=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":p=Q;break;case"type":S=Q;break;case"checked":O=Q;break;case"defaultChecked":B=Q;break;case"value":v=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:te(n,i,l,Q,a,null)}}k0(n,v,C,O,B,S,p,!1),cf(n);return;case"select":zt("invalid",n),l=S=v=null;for(p in a)if(a.hasOwnProperty(p)&&(C=a[p],C!=null))switch(p){case"value":v=C;break;case"defaultValue":S=C;break;case"multiple":l=C;default:te(n,i,p,C,a,null)}i=v,a=S,n.multiple=!!l,i!=null?fl(n,!!l,i,!1):a!=null&&fl(n,!!l,a,!0);return;case"textarea":zt("invalid",n),v=p=l=null;for(S in a)if(a.hasOwnProperty(S)&&(C=a[S],C!=null))switch(S){case"value":l=C;break;case"defaultValue":p=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:te(n,i,S,C,a,null)}F0(n,l,p,v),cf(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(n,i,O,l,a,null)}return;case"dialog":zt("beforetoggle",n),zt("toggle",n),zt("cancel",n),zt("close",n);break;case"iframe":case"object":zt("load",n);break;case"video":case"audio":for(l=0;l<Xu.length;l++)zt(Xu[l],n);break;case"image":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"embed":case"source":case"link":zt("error",n),zt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(n,i,B,l,a,null)}return;default:if(sm(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Bv(n,i,Q,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&te(n,i,C,l,a,null))}function YC(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,S=null,C=null,O=null,B=null,Q=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=tt;default:l.hasOwnProperty(Y)||te(n,i,Y,null,l,tt)}}for(var G in l){var Y=l[G];if(tt=a[G],l.hasOwnProperty(G)&&(Y!=null||tt!=null))switch(G){case"type":v=Y;break;case"name":p=Y;break;case"checked":B=Y;break;case"defaultChecked":Q=Y;break;case"value":S=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==tt&&te(n,i,G,Y,l,tt)}}nm(n,S,C,O,B,Q,v,p);return;case"select":Y=S=C=G=null;for(v in a)if(O=a[v],a.hasOwnProperty(v)&&O!=null)switch(v){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(v)||te(n,i,v,null,l,O)}for(p in l)if(v=l[p],O=a[p],l.hasOwnProperty(p)&&(v!=null||O!=null))switch(p){case"value":G=v;break;case"defaultValue":C=v;break;case"multiple":S=v;default:v!==O&&te(n,i,p,v,l,O)}i=C,a=S,l=Y,G!=null?fl(n,!!a,G,!1):!!l!=!!a&&(i!=null?fl(n,!!a,i,!0):fl(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(C in a)if(p=a[C],a.hasOwnProperty(C)&&p!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:te(n,i,C,null,l,p)}for(S in l)if(p=l[S],v=a[S],l.hasOwnProperty(S)&&(p!=null||v!=null))switch(S){case"value":G=p;break;case"defaultValue":Y=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&te(n,i,S,p,l,v)}P0(n,G,Y);return;case"option":for(var wt in a)if(G=a[wt],a.hasOwnProperty(wt)&&G!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":n.selected=!1;break;default:te(n,i,wt,null,l,G)}for(O in l)if(G=l[O],Y=a[O],l.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null))switch(O){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:te(n,i,O,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)G=a[St],a.hasOwnProperty(St)&&G!=null&&!l.hasOwnProperty(St)&&te(n,i,St,null,l,G);for(B in l)if(G=l[B],Y=a[B],l.hasOwnProperty(B)&&G!==Y&&(G!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:te(n,i,B,G,l,Y)}return;default:if(sm(i)){for(var ee in a)G=a[ee],a.hasOwnProperty(ee)&&G!==void 0&&!l.hasOwnProperty(ee)&&Bv(n,i,ee,void 0,l,G);for(Q in l)G=l[Q],Y=a[Q],!l.hasOwnProperty(Q)||G===Y||G===void 0&&Y===void 0||Bv(n,i,Q,G,l,Y);return}}for(var H in a)G=a[H],a.hasOwnProperty(H)&&G!=null&&!l.hasOwnProperty(H)&&te(n,i,H,null,l,G);for(tt in l)G=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||G===Y||G==null&&Y==null||te(n,i,tt,G,l,Y)}var qv=null,Gv=null;function sp(n){return n.nodeType===9?n:n.ownerDocument}function zE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Vv(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yv=null;function XC(){var n=window.event;return n&&n.type==="popstate"?n===Yv?!1:(Yv=n,!0):(Yv=null,!1)}var jE=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(n){return IE.resolve(null).then(n).catch(WC)}:jE;function WC(n){setTimeout(function(){throw n})}function Ia(n){return n==="head"}function UE(n,i){var a=i,l=0,p=0;do{var v=a.nextSibling;if(n.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<l&&8>l){a=l;var S=n.ownerDocument;if(a&1&&$u(S.documentElement),a&2&&$u(S.body),a&4)for(a=S.head,$u(a),S=a.firstChild;S;){var C=S.nextSibling,O=S.nodeName;S[uu]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=C}}if(p===0){n.removeChild(v),ih(i);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:l=a.charCodeAt(0)-48;else l=0;a=v}while(a);ih(i)}function Xv(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xv(a),Zg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function QC(n,i,a,l){for(;n.nodeType===1;){var p=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[uu])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function ZC(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ki(n.nextSibling),n===null))return null;return n}function Kv(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function JC(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ki(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var $v=null;function BE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function qE(n,i,a){switch(i=sp(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function $u(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Zg(n)}var Si=new Map,GE=new Set;function ap(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hs=X.d;X.d={f:tR,r:eR,D:nR,C:iR,L:sR,m:aR,X:oR,S:rR,M:lR};function tR(){var n=Hs.f(),i=Wf();return n||i}function eR(n){var i=cl(n);i!==null&&i.tag===5&&i.type==="form"?uS(i):Hs.r(n)}var ql=typeof document>"u"?null:document;function VE(n,i,a){var l=ql;if(l&&typeof i=="string"&&i){var p=pi(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),GE.has(p)||(GE.add(p),n={rel:n,crossOrigin:a,href:i},l.querySelector(p)===null&&(i=l.createElement("link"),ln(i,"link",n),Ke(i),l.head.appendChild(i)))}}function nR(n){Hs.D(n),VE("dns-prefetch",n,null)}function iR(n,i){Hs.C(n,i),VE("preconnect",n,i)}function sR(n,i,a){Hs.L(n,i,a);var l=ql;if(l&&n&&i){var p='link[rel="preload"][as="'+pi(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+pi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+pi(a.imageSizes)+'"]')):p+='[href="'+pi(n)+'"]';var v=p;switch(i){case"style":v=Gl(n);break;case"script":v=Vl(n)}Si.has(v)||(n=m({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Si.set(v,n),l.querySelector(p)!==null||i==="style"&&l.querySelector(Wu(v))||i==="script"&&l.querySelector(Qu(v))||(i=l.createElement("link"),ln(i,"link",n),Ke(i),l.head.appendChild(i)))}}function aR(n,i){Hs.m(n,i);var a=ql;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+pi(l)+'"][href="'+pi(n)+'"]',v=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Vl(n)}if(!Si.has(v)&&(n=m({rel:"modulepreload",href:n},i),Si.set(v,n),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Qu(v)))return}l=a.createElement("link"),ln(l,"link",n),Ke(l),a.head.appendChild(l)}}}function rR(n,i,a){Hs.S(n,i,a);var l=ql;if(l&&n){var p=ul(l).hoistableStyles,v=Gl(n);i=i||"default";var S=p.get(v);if(!S){var C={loading:0,preload:null};if(S=l.querySelector(Wu(v)))C.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Si.get(v))&&Wv(n,a);var O=S=l.createElement("link");Ke(O),ln(O,"link",n),O._p=new Promise(function(B,Q){O.onload=B,O.onerror=Q}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,rp(S,i,l)}S={type:"stylesheet",instance:S,count:1,state:C},p.set(v,S)}}}function oR(n,i){Hs.X(n,i);var a=ql;if(a&&n){var l=ul(a).hoistableScripts,p=Vl(n),v=l.get(p);v||(v=a.querySelector(Qu(p)),v||(n=m({src:n,async:!0},i),(i=Si.get(p))&&Qv(n,i),v=a.createElement("script"),Ke(v),ln(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(p,v))}}function lR(n,i){Hs.M(n,i);var a=ql;if(a&&n){var l=ul(a).hoistableScripts,p=Vl(n),v=l.get(p);v||(v=a.querySelector(Qu(p)),v||(n=m({src:n,async:!0,type:"module"},i),(i=Si.get(p))&&Qv(n,i),v=a.createElement("script"),Ke(v),ln(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(p,v))}}function YE(n,i,a,l){var p=(p=ot.current)?ap(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Gl(a.href),a=ul(p).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Gl(a.href);var v=ul(p).hoistableStyles,S=v.get(n);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,S),(v=p.querySelector(Wu(n)))&&!v._p&&(S.instance=v,S.state.loading=5),Si.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Si.set(n,a),v||cR(p,n,a,S.state))),i&&l===null)throw Error(s(528,""));return S}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vl(a),a=ul(p).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Gl(n){return'href="'+pi(n)+'"'}function Wu(n){return'link[rel="stylesheet"]['+n+"]"}function XE(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function cR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),Ke(i),n.head.appendChild(i))}function Vl(n){return'[src="'+pi(n)+'"]'}function Qu(n){return"script[async]"+n}function KE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+pi(a.href)+'"]');if(l)return i.instance=l,Ke(l),l;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ke(l),ln(l,"style",p),rp(l,a.precedence,n),i.instance=l;case"stylesheet":p=Gl(a.href);var v=n.querySelector(Wu(p));if(v)return i.state.loading|=4,i.instance=v,Ke(v),v;l=XE(a),(p=Si.get(p))&&Wv(l,p),v=(n.ownerDocument||n).createElement("link"),Ke(v);var S=v;return S._p=new Promise(function(C,O){S.onload=C,S.onerror=O}),ln(v,"link",l),i.state.loading|=4,rp(v,a.precedence,n),i.instance=v;case"script":return v=Vl(a.src),(p=n.querySelector(Qu(v)))?(i.instance=p,Ke(p),p):(l=a,(p=Si.get(v))&&(l=m({},a),Qv(l,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ke(p),ln(p,"link",l),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rp(l,a.precedence,n));return i.instance}function rp(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,v=p,S=0;S<l.length;S++){var C=l[S];if(C.dataset.precedence===i)v=C;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Wv(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Qv(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var op=null;function $E(n,i,a){if(op===null){var l=new Map,p=op=new Map;p.set(a,l)}else p=op,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),p=0;p<a.length;p++){var v=a[p];if(!(v[uu]||v[pn]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=n+S;var C=l.get(S);C?C.push(v):l.set(S,[v])}}return l}function WE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function uR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function QE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Zu=null;function hR(){}function dR(n,i,a){if(Zu===null)throw Error(s(475));var l=Zu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Gl(a.href),v=n.querySelector(Wu(p));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=lp.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=v,Ke(v);return}v=n.ownerDocument||n,a=XE(a),(p=Si.get(p))&&Wv(a,p),v=v.createElement("link"),Ke(v);var S=v;S._p=new Promise(function(C,O){S.onload=C,S.onerror=O}),ln(v,"link",a),i.instance=v}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=lp.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function fR(){if(Zu===null)throw Error(s(475));var n=Zu;return n.stylesheets&&n.count===0&&Zv(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Zv(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function lp(){if(this.count--,this.count===0){if(this.stylesheets)Zv(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var cp=null;function Zv(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,cp=new Map,i.forEach(pR,n),cp=null,lp.call(n))}function pR(n,i){if(!(i.state.loading&4)){var a=cp.get(n);if(a)var l=a.get(null);else{a=new Map,cp.set(n,a);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var S=p[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),l=S)}l&&a.set(null,l)}p=i.instance,S=p.getAttribute("data-precedence"),v=a.get(S)||l,v===l&&a.set(null,p),a.set(S,p),this.count++,l=lp.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var Ju={$$typeof:N,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function gR(n,i,a,l,p,v,S,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kg(0),this.hiddenUpdates=Kg(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ZE(n,i,a,l,p,v,S,C,O,B,Q,tt){return n=new gR(n,i,a,S,C,O,B,tt),i=1,v===!0&&(i|=24),v=$n(3,null,null,i),n.current=v,v.stateNode=n,i=Nm(),i.refCount++,n.pooledCache=i,i.refCount++,v.memoizedState={element:l,isDehydrated:a,cache:i},zm(v),n}function JE(n){return n?(n=El,n):El}function t_(n,i,a,l,p,v){p=JE(p),l.context===null?l.context=p:l.pendingContext=p,l=Ca(i),l.payload={element:a},v=v===void 0?null:v,v!==null&&(l.callback=v),a=Ra(n,l,i),a!==null&&(ti(a,n,i),Mu(a,n,i))}function e_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Jv(n,i){e_(n,i),(n=n.alternate)&&e_(n,i)}function n_(n){if(n.tag===13){var i=Sl(n,67108864);i!==null&&ti(i,n,67108864),Jv(n,67108864)}}var up=!0;function mR(n,i,a,l){var p=F.T;F.T=null;var v=X.p;try{X.p=2,ty(n,i,a,l)}finally{X.p=v,F.T=p}}function vR(n,i,a,l){var p=F.T;F.T=null;var v=X.p;try{X.p=8,ty(n,i,a,l)}finally{X.p=v,F.T=p}}function ty(n,i,a,l){if(up){var p=ey(l);if(p===null)Uv(n,i,l,hp,a),s_(n,l);else if(bR(p,n,i,a,l))l.stopPropagation();else if(s_(n,l),i&4&&-1<yR.indexOf(n)){for(;p!==null;){var v=cl(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Mr(v.pendingLanes);if(S!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var O=1<<31-Xe(S);C.entanglements[1]|=O,S&=~O}es(v),(Kt&6)===0&&(Kf=an()+500,Yu(0))}}break;case 13:C=Sl(v,2),C!==null&&ti(C,v,2),Wf(),Jv(v,2)}if(v=ey(l),v===null&&Uv(n,i,l,hp,a),v===p)break;p=v}p!==null&&l.stopPropagation()}else Uv(n,i,l,null,a)}}function ey(n){return n=rm(n),ny(n)}var hp=null;function ny(n){if(hp=null,n=ll(n),n!==null){var i=o(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return hp=n,null}function i_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cr()){case tf:return 2;case ef:return 8;case _s:case Vg:return 32;case nf:return 268435456;default:return 32}default:return 32}}var iy=!1,Ua=null,Ba=null,qa=null,th=new Map,eh=new Map,Ga=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(n,i){switch(n){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":th.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(i.pointerId)}}function nh(n,i,a,l,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:v,targetContainers:[p]},i!==null&&(i=cl(i),i!==null&&n_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function bR(n,i,a,l,p){switch(i){case"focusin":return Ua=nh(Ua,n,i,a,l,p),!0;case"dragenter":return Ba=nh(Ba,n,i,a,l,p),!0;case"mouseover":return qa=nh(qa,n,i,a,l,p),!0;case"pointerover":var v=p.pointerId;return th.set(v,nh(th.get(v)||null,n,i,a,l,p)),!0;case"gotpointercapture":return v=p.pointerId,eh.set(v,nh(eh.get(v)||null,n,i,a,l,p)),!0}return!1}function a_(n){var i=ll(n.target);if(i!==null){var a=o(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,dT(n.priority,function(){if(a.tag===13){var l=Jn();l=$g(l);var p=Sl(a,l);p!==null&&ti(p,a,l),Jv(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ey(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);am=l,a.target.dispatchEvent(l),am=null}else return i=cl(a),i!==null&&n_(i),n.blockedOn=a,!1;i.shift()}return!0}function r_(n,i,a){dp(n)&&a.delete(i)}function AR(){iy=!1,Ua!==null&&dp(Ua)&&(Ua=null),Ba!==null&&dp(Ba)&&(Ba=null),qa!==null&&dp(qa)&&(qa=null),th.forEach(r_),eh.forEach(r_)}function fp(n,i){n.blockedOn===i&&(n.blockedOn=null,iy||(iy=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,AR)))}var pp=null;function o_(n){pp!==n&&(pp=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){pp===n&&(pp=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],p=n[i+2];if(typeof l!="function"){if(ny(l||a)===null)continue;break}var v=cl(a);v!==null&&(n.splice(i,3),i-=3,nv(v,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function ih(n){function i(O){return fp(O,n)}Ua!==null&&fp(Ua,n),Ba!==null&&fp(Ba,n),qa!==null&&fp(qa,n),th.forEach(i),eh.forEach(i);for(var a=0;a<Ga.length;a++){var l=Ga[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ga.length&&(a=Ga[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&Ga.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],v=a[l+1],S=p[Pn]||null;if(typeof v=="function")S||o_(a);else if(S){var C=null;if(v&&v.hasAttribute("formAction")){if(p=v,S=v[Pn]||null)C=S.formAction;else if(ny(p)!==null)continue}else C=S.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),o_(a)}}}function sy(n){this._internalRoot=n}gp.prototype.render=sy.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Jn();t_(a,l,n,i,null,null)},gp.prototype.unmount=sy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;t_(n.current,2,null,n,null,null),Wf(),i[ol]=null}};function gp(n){this._internalRoot=n}gp.prototype.unstable_scheduleHydration=function(n){if(n){var i=w0();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ga.length&&i!==0&&i<Ga[a].priority;a++);Ga.splice(a,0,n),a===0&&a_(n)}};var l_=t.version;if(l_!=="19.1.0")throw Error(s(527,l_,"19.1.0"));X.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var SR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{Rr=mp.inject(SR),Le=mp}catch{}}return ah.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,l="",p=wS,v=xS,S=TS,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=ZE(n,1,!1,null,null,a,l,p,v,S,C,null),n[ol]=i.current,Iv(n),new sy(i)},ah.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var l=!1,p="",v=wS,S=xS,C=TS,O=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=ZE(n,1,!0,i,a??null,l,p,v,S,C,O,B),i.context=JE(null),a=i.current,l=Jn(),l=$g(l),p=Ca(l),p.callback=null,Ra(a,p,l),a=l,i.current.lanes=a,cu(i,a),es(i),n[ol]=i.current,Iv(n),new gp(i)},ah.version="19.1.0",ah}var b_;function NR(){if(b_)return ly.exports;b_=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),ly.exports=OR(),ly.exports}var kR=NR();const PR=Lg(kR);var rh={},A_;function FR(){if(A_)return rh;A_=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.parse=u,rh.serialize=g;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,A){const E=new o,w=b.length;if(w<2)return E;const M=(A==null?void 0:A.decode)||m;let T=0;do{const D=b.indexOf("=",T);if(D===-1)break;const N=b.indexOf(";",T),k=N===-1?w:N;if(D>k){T=b.lastIndexOf(";",D-1)+1;continue}const j=d(b,T,D),q=f(b,D,j),K=b.slice(j,q);if(E[K]===void 0){let Z=d(b,D+1,k),nt=f(b,k,Z);const at=M(b.slice(Z,nt));E[K]=at}T=k+1}while(T<w);return E}function d(b,A,E){do{const w=b.charCodeAt(A);if(w!==32&&w!==9)return A}while(++A<E);return E}function f(b,A,E){for(;A>E;){const w=b.charCodeAt(--A);if(w!==32&&w!==9)return A+1}return E}function g(b,A,E){const w=(E==null?void 0:E.encode)||encodeURIComponent;if(!c.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=w(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let T=b+"="+M;if(!E)return T;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);T+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);T+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);T+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);T+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(T+="; HttpOnly"),E.secure&&(T+="; Secure"),E.partitioned&&(T+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return T}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return r.call(b)==="[object Date]"}return rh}FR();var S_="popstate";function zR(c={}){function t(s,r){let{pathname:o,search:u,hash:d}=s.location;return Cy("",{pathname:o,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){return typeof r=="string"?r:Lh(r)}return jR(t,e,null,c)}function be(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}function Ss(c,t){if(!c){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HR(){return Math.random().toString(36).substring(2,10)}function E_(c,t){return{usr:c.state,key:c.key,idx:t}}function Cy(c,t,e=null,s){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof t=="string"?su(t):t,state:e,key:t&&t.key||s||HR()}}function Lh({pathname:c="/",search:t="",hash:e=""}){return t&&t!=="?"&&(c+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(c+=e.charAt(0)==="#"?e:"#"+e),c}function su(c){let t={};if(c){let e=c.indexOf("#");e>=0&&(t.hash=c.substring(e),c=c.substring(0,e));let s=c.indexOf("?");s>=0&&(t.search=c.substring(s),c=c.substring(0,s)),c&&(t.pathname=c)}return t}function jR(c,t,e,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,u=r.history,d="POP",f=null,g=m();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function m(){return(u.state||{idx:null}).idx}function y(){d="POP";let M=m(),T=M==null?null:M-g;g=M,f&&f({action:d,location:w.location,delta:T})}function b(M,T){d="PUSH";let D=Cy(w.location,M,T);g=m()+1;let N=E_(D,g),k=w.createHref(D);try{u.pushState(N,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(k)}o&&f&&f({action:d,location:w.location,delta:1})}function A(M,T){d="REPLACE";let D=Cy(w.location,M,T);g=m();let N=E_(D,g),k=w.createHref(D);u.replaceState(N,"",k),o&&f&&f({action:d,location:w.location,delta:0})}function E(M){return IR(M)}let w={get action(){return d},get location(){return c(r,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(S_,y),f=M,()=>{r.removeEventListener(S_,y),f=null}},createHref(M){return t(r,M)},createURL:E,encodeLocation(M){let T=E(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:A,go(M){return u.go(M)}};return w}function IR(c,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),be(e,"No window.location.(origin|href) available to create URL");let s=typeof c=="string"?c:Lh(c);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function b1(c,t,e="/"){return UR(c,t,e,!1)}function UR(c,t,e,s){let r=typeof t=="string"?su(t):t,o=ba(r.pathname||"/",e);if(o==null)return null;let u=A1(c);BR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let g=JR(o);d=QR(u[f],g,s)}return d}function A1(c,t=[],e=[],s=""){let r=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(be(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=ga([s,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),A1(o.children,t,m,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:$R(g,o.index),routesMeta:m})};return c.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))r(o,u);else for(let f of S1(o.path))r(o,u,f)}),t}function S1(c){let t=c.split("/");if(t.length===0)return[];let[e,...s]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let u=S1(s.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&d.push(...u),d.map(f=>c.startsWith("/")&&f===""?"/":f)}function BR(c){c.sort((t,e)=>t.score!==e.score?e.score-t.score:WR(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var qR=/^:[\w-]+$/,GR=3,VR=2,YR=1,XR=10,KR=-2,__=c=>c==="*";function $R(c,t){let e=c.split("/"),s=e.length;return e.some(__)&&(s+=KR),t&&(s+=VR),e.filter(r=>!__(r)).reduce((r,o)=>r+(qR.test(o)?GR:o===""?YR:XR),s)}function WR(c,t){return c.length===t.length&&c.slice(0,-1).every((s,r)=>s===t[r])?c[c.length-1]-t[t.length-1]:0}function QR(c,t,e=!1){let{routesMeta:s}=c,r={},o="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],g=d===s.length-1,m=o==="/"?t:t.slice(o.length)||"/",y=sg({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),b=f.route;if(!y&&g&&e&&!s[s.length-1].route.index&&(y=sg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),u.push({params:r,pathname:ga([o,y.pathname]),pathnameBase:i2(ga([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=ga([o,y.pathnameBase]))}return u}function sg(c,t){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[e,s]=ZR(c.path,c.caseSensitive,c.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((g,{paramName:m,isOptional:y},b)=>{if(m==="*"){let E=d[b]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const A=d[b];return y&&!A?g[m]=void 0:g[m]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:c}}function ZR(c,t=!1,e=!0){Ss(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let s=[],r="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(s.push({paramName:"*"}),r+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":c!==""&&c!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function JR(c){try{return c.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ss(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),c}}function ba(c,t){if(t==="/")return c;if(!c.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=c.charAt(e);return s&&s!=="/"?null:c.slice(e)||"/"}function t2(c,t="/"){let{pathname:e,search:s="",hash:r=""}=typeof c=="string"?su(c):c;return{pathname:e?e.startsWith("/")?e:e2(e,t):t,search:s2(s),hash:a2(r)}}function e2(c,t){let e=t.replace(/\/+$/,"").split("/");return c.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function dy(c,t,e,s){return`Cannot include a '${c}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n2(c){return c.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function E1(c){let t=n2(c);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function _1(c,t,e,s=!1){let r;typeof c=="string"?r=su(c):(r={...c},be(!r.pathname||!r.pathname.includes("?"),dy("?","pathname","search",r)),be(!r.pathname||!r.pathname.includes("#"),dy("#","pathname","hash",r)),be(!r.search||!r.search.includes("#"),dy("#","search","hash",r)));let o=c===""||r.pathname==="",u=o?"/":r.pathname,d;if(u==null)d=e;else{let y=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;r.pathname=b.join("/")}d=y>=0?t[y]:"/"}let f=t2(r,d),g=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var ga=c=>c.join("/").replace(/\/\/+/g,"/"),i2=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),s2=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,a2=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function r2(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var w1=["POST","PUT","PATCH","DELETE"];new Set(w1);var o2=["GET",...w1];new Set(o2);var au=z.createContext(null);au.displayName="DataRouter";var Dg=z.createContext(null);Dg.displayName="DataRouterState";var x1=z.createContext({isTransitioning:!1});x1.displayName="ViewTransition";var l2=z.createContext(new Map);l2.displayName="Fetchers";var c2=z.createContext(null);c2.displayName="Await";var Es=z.createContext(null);Es.displayName="Navigation";var Xd=z.createContext(null);Xd.displayName="Location";var Ea=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var Zb=z.createContext(null);Zb.displayName="RouteError";function u2(c,{relative:t}={}){be(Kd(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=z.useContext(Es),{hash:r,pathname:o,search:u}=$d(c,{relative:t}),d=o;return e!=="/"&&(d=o==="/"?e:ga([e,o])),s.createHref({pathname:d,search:u,hash:r})}function Kd(){return z.useContext(Xd)!=null}function il(){return be(Kd(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Xd).location}var T1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C1(c){z.useContext(Es).static||z.useLayoutEffect(c)}function h2(){let{isDataRoute:c}=z.useContext(Ea);return c?w2():d2()}function d2(){be(Kd(),"useNavigate() may be used only in the context of a <Router> component.");let c=z.useContext(au),{basename:t,navigator:e}=z.useContext(Es),{matches:s}=z.useContext(Ea),{pathname:r}=il(),o=JSON.stringify(E1(s)),u=z.useRef(!1);return C1(()=>{u.current=!0}),z.useCallback((f,g={})=>{if(Ss(u.current,T1),!u.current)return;if(typeof f=="number"){e.go(f);return}let m=_1(f,JSON.parse(o),r,g.relative==="path");c==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ga([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,o,r,c])}z.createContext(null);function $d(c,{relative:t}={}){let{matches:e}=z.useContext(Ea),{pathname:s}=il(),r=JSON.stringify(E1(e));return z.useMemo(()=>_1(c,JSON.parse(r),s,t==="path"),[c,r,s,t])}function f2(c,t){return R1(c,t)}function R1(c,t,e,s){var T;be(Kd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=z.useContext(Es),{matches:o}=z.useContext(Ea),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let D=m&&m.path||"";M1(f,!m||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=il(),b;if(t){let D=typeof t=="string"?su(t):t;be(g==="/"||((T=D.pathname)==null?void 0:T.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=y;let A=b.pathname||"/",E=A;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=b1(c,{pathname:E});Ss(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ss(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=y2(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:ga([g,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ga([g,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,e,s);return t&&M?z.createElement(Xd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function p2(){let c=_2(),t=r2(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),e=c instanceof Error?c.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",c),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:r},e):null,u)}var g2=z.createElement(p2,null),m2=class extends z.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,t){return t.location!==c.location||t.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:t.error,location:t.location,revalidation:c.revalidation||t.revalidation}}componentDidCatch(c,t){console.error("React Router caught the following error during render",c,t)}render(){return this.state.error!==void 0?z.createElement(Ea.Provider,{value:this.props.routeContext},z.createElement(Zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v2({routeContext:c,match:t,children:e}){let s=z.useContext(au);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Ea.Provider,{value:c},e)}function y2(c,t=[],e=null,s=null){if(c==null){if(!e)return null;if(e.errors)c=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)c=e.matches;else return null}let r=c,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);be(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:m,errors:y}=e,b=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||b){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,g,m)=>{let y,b=!1,A=null,E=null;e&&(y=o&&g.route.id?o[g.route.id]:void 0,A=g.route.errorElement||g2,u&&(d<0&&m===0?(M1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):d===m&&(b=!0,E=g.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,m+1)),M=()=>{let T;return y?T=A:b?T=E:g.route.Component?T=z.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=f,z.createElement(v2,{match:g,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:T})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?z.createElement(m2,{location:e.location,revalidation:e.revalidation,component:A,error:y,children:M(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):M()},null)}function Jb(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(c){let t=z.useContext(au);return be(t,Jb(c)),t}function A2(c){let t=z.useContext(Dg);return be(t,Jb(c)),t}function S2(c){let t=z.useContext(Ea);return be(t,Jb(c)),t}function t0(c){let t=S2(c),e=t.matches[t.matches.length-1];return be(e.route.id,`${c} can only be used on routes that contain a unique "id"`),e.route.id}function E2(){return t0("useRouteId")}function _2(){var s;let c=z.useContext(Zb),t=A2("useRouteError"),e=t0("useRouteError");return c!==void 0?c:(s=t.errors)==null?void 0:s[e]}function w2(){let{router:c}=b2("useNavigate"),t=t0("useNavigate"),e=z.useRef(!1);return C1(()=>{e.current=!0}),z.useCallback(async(r,o={})=>{Ss(e.current,T1),e.current&&(typeof r=="number"?c.navigate(r):await c.navigate(r,{fromRouteId:t,...o}))},[c,t])}var w_={};function M1(c,t,e){!t&&!w_[c]&&(w_[c]=!0,Ss(!1,e))}z.memo(x2);function x2({routes:c,future:t,state:e}){return R1(c,void 0,e,t)}function Ry(c){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T2({basename:c="/",children:t=null,location:e,navigationType:s="POP",navigator:r,static:o=!1}){be(!Kd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=c.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=su(e));let{pathname:f="/",search:g="",hash:m="",state:y=null,key:b="default"}=e,A=z.useMemo(()=>{let E=ba(f,u);return E==null?null:{location:{pathname:E,search:g,hash:m,state:y,key:b},navigationType:s}},[u,f,g,m,y,b,s]);return Ss(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:z.createElement(Es.Provider,{value:d},z.createElement(Xd.Provider,{children:t,value:A}))}function C2({children:c,location:t}){return f2(My(c),t)}function My(c,t=[]){let e=[];return z.Children.forEach(c,(s,r)=>{if(!z.isValidElement(s))return;let o=[...t,r];if(s.type===z.Fragment){e.push.apply(e,My(s.props.children,o));return}be(s.type===Ry,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=My(s.props.children,o)),e.push(u)}),e}var xp="get",Tp="application/x-www-form-urlencoded";function Og(c){return c!=null&&typeof c.tagName=="string"}function R2(c){return Og(c)&&c.tagName.toLowerCase()==="button"}function M2(c){return Og(c)&&c.tagName.toLowerCase()==="form"}function L2(c){return Og(c)&&c.tagName.toLowerCase()==="input"}function D2(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function O2(c,t){return c.button===0&&(!t||t==="_self")&&!D2(c)}var vp=null;function N2(){if(vp===null)try{new FormData(document.createElement("form"),0),vp=!1}catch{vp=!0}return vp}var k2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fy(c){return c!=null&&!k2.has(c)?(Ss(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tp}"`),null):c}function P2(c,t){let e,s,r,o,u;if(M2(c)){let d=c.getAttribute("action");s=d?ba(d,t):null,e=c.getAttribute("method")||xp,r=fy(c.getAttribute("enctype"))||Tp,o=new FormData(c)}else if(R2(c)||L2(c)&&(c.type==="submit"||c.type==="image")){let d=c.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=c.getAttribute("formaction")||d.getAttribute("action");if(s=f?ba(f,t):null,e=c.getAttribute("formmethod")||d.getAttribute("method")||xp,r=fy(c.getAttribute("formenctype"))||fy(d.getAttribute("enctype"))||Tp,o=new FormData(d,c),!N2()){let{name:g,type:m,value:y}=c;if(m==="image"){let b=g?`${g}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else g&&o.append(g,y)}}else{if(Og(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=xp,s=null,r=Tp,u=c}return o&&r==="text/plain"&&(u=o,o=void 0),{action:s,method:e.toLowerCase(),encType:r,formData:o,body:u}}function e0(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}async function F2(c,t){if(c.id in t)return t[c.id];try{let e=await import(c.module);return t[c.id]=e,e}catch(e){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z2(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function H2(c,t,e){let s=await Promise.all(c.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await F2(o,e);return u.links?u.links():[]}return[]}));return B2(s.flat(1).filter(z2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function x_(c,t,e,s,r,o){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,d=(f,g)=>{var m;return e[g].pathname!==f.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,g)=>u(f,g)||d(f,g)):o==="data"?t.filter((f,g)=>{var y;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(c,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function j2(c,t,{includeHydrateFallback:e}={}){return I2(c.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function I2(c){return[...new Set(c)]}function U2(c){let t={},e=Object.keys(c).sort();for(let s of e)t[s]=c[s];return t}function B2(c,t){let e=new Set;return new Set(t),c.reduce((s,r)=>{let o=JSON.stringify(U2(r));return e.has(o)||(e.add(o),s.push({key:o,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q2=new Set([100,101,204,205]);function G2(c,t){let e=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return e.pathname==="/"?e.pathname="_root.data":t&&ba(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function L1(){let c=z.useContext(au);return e0(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function V2(){let c=z.useContext(Dg);return e0(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var n0=z.createContext(void 0);n0.displayName="FrameworkContext";function D1(){let c=z.useContext(n0);return e0(c,"You must render this element inside a <HydratedRouter> element"),c}function Y2(c,t){let e=z.useContext(n0),[s,r]=z.useState(!1),[o,u]=z.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:y}=t,b=z.useRef(null);z.useEffect(()=>{if(c==="render"&&u(!0),c==="viewport"){let w=T=>{T.forEach(D=>{u(D.isIntersecting)})},M=new IntersectionObserver(w,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[c]),z.useEffect(()=>{if(s){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[s]);let A=()=>{r(!0)},E=()=>{r(!1),u(!1)};return e?c!=="intent"?[o,b,{}]:[o,b,{onFocus:oh(d,A),onBlur:oh(f,E),onMouseEnter:oh(g,A),onMouseLeave:oh(m,E),onTouchStart:oh(y,A)}]:[!1,b,{}]}function oh(c,t){return e=>{c&&c(e),e.defaultPrevented||t(e)}}function X2({page:c,...t}){let{router:e}=L1(),s=z.useMemo(()=>b1(e.routes,c,e.basename),[e.routes,c,e.basename]);return s?z.createElement($2,{page:c,matches:s,...t}):null}function K2(c){let{manifest:t,routeModules:e}=D1(),[s,r]=z.useState([]);return z.useEffect(()=>{let o=!1;return H2(c,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[c,t,e]),s}function $2({page:c,matches:t,...e}){let s=il(),{manifest:r,routeModules:o}=D1(),{basename:u}=L1(),{loaderData:d,matches:f}=V2(),g=z.useMemo(()=>x_(c,t,f,r,s,"data"),[c,t,f,r,s]),m=z.useMemo(()=>x_(c,t,f,r,s,"assets"),[c,t,f,r,s]),y=z.useMemo(()=>{if(c===s.pathname+s.search+s.hash)return[];let E=new Set,w=!1;if(t.forEach(T=>{var N;let D=r.routes[T.route.id];!D||!D.hasLoader||(!g.some(k=>k.route.id===T.route.id)&&T.route.id in d&&((N=o[T.route.id])!=null&&N.shouldRevalidate)||D.hasClientLoader?w=!0:E.add(T.route.id))}),E.size===0)return[];let M=G2(c,u);return w&&E.size>0&&M.searchParams.set("_routes",t.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[M.pathname+M.search]},[u,d,s,r,g,t,c,o]),b=z.useMemo(()=>j2(m,r),[m,r]),A=K2(m);return z.createElement(z.Fragment,null,y.map(E=>z.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),b.map(E=>z.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),A.map(({key:E,link:w})=>z.createElement("link",{key:E,...w})))}function W2(...c){return t=>{c.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O1&&(window.__reactRouterVersion="7.6.2")}catch{}function Q2({basename:c,children:t,window:e}){let s=z.useRef();s.current==null&&(s.current=zR({window:e,v5Compat:!0}));let r=s.current,[o,u]=z.useState({action:r.action,location:r.location}),d=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>r.listen(d),[r,d]),z.createElement(T2,{basename:c,children:t,location:o.location,navigationType:o.action,navigator:r})}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k1=z.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:r,reloadDocument:o,replace:u,state:d,target:f,to:g,preventScrollReset:m,viewTransition:y,...b},A){let{basename:E}=z.useContext(Es),w=typeof g=="string"&&N1.test(g),M,T=!1;if(typeof g=="string"&&w&&(M=g,O1))try{let nt=new URL(window.location.href),at=g.startsWith("//")?new URL(nt.protocol+g):new URL(g),st=ba(at.pathname,E);at.origin===nt.origin&&st!=null?g=st+at.search+at.hash:T=!0}catch{Ss(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=u2(g,{relative:r}),[N,k,j]=Y2(s,b),q=eM(g,{replace:u,state:d,target:f,preventScrollReset:m,relative:r,viewTransition:y});function K(nt){t&&t(nt),nt.defaultPrevented||q(nt)}let Z=z.createElement("a",{...b,...j,href:M||D,onClick:T||o?t:K,ref:W2(A,k),target:f,"data-discover":!w&&e==="render"?"true":void 0});return N&&!w?z.createElement(z.Fragment,null,Z,z.createElement(X2,{page:D})):Z});k1.displayName="Link";var Z2=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:r=!1,style:o,to:u,viewTransition:d,children:f,...g},m){let y=$d(u,{relative:g.relative}),b=il(),A=z.useContext(Dg),{navigator:E,basename:w}=z.useContext(Es),M=A!=null&&rM(y)&&d===!0,T=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,D=b.pathname,N=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(D=D.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&w&&(N=ba(N,w)||N);const k=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let j=D===T||!r&&D.startsWith(T)&&D.charAt(k)==="/",q=N!=null&&(N===T||!r&&N.startsWith(T)&&N.charAt(T.length)==="/"),K={isActive:j,isPending:q,isTransitioning:M},Z=j?t:void 0,nt;typeof s=="function"?nt=s(K):nt=[s,j?"active":null,q?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let at=typeof o=="function"?o(K):o;return z.createElement(k1,{...g,"aria-current":Z,className:nt,ref:m,style:at,to:u,viewTransition:d},typeof f=="function"?f(K):f)});Z2.displayName="NavLink";var J2=z.forwardRef(({discover:c="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:r,state:o,method:u=xp,action:d,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:y,...b},A)=>{let E=sM(),w=aM(d,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&N1.test(d),D=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,j=(k==null?void 0:k.getAttribute("formmethod"))||u;E(k||N.currentTarget,{fetcherKey:t,method:j,navigate:e,replace:r,state:o,relative:g,preventScrollReset:m,viewTransition:y})};return z.createElement("form",{ref:A,method:M,action:w,onSubmit:s?f:D,...b,"data-discover":!T&&c==="render"?"true":void 0})});J2.displayName="Form";function tM(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(c){let t=z.useContext(au);return be(t,tM(c)),t}function eM(c,{target:t,replace:e,state:s,preventScrollReset:r,relative:o,viewTransition:u}={}){let d=h2(),f=il(),g=$d(c,{relative:o});return z.useCallback(m=>{if(O2(m,t)){m.preventDefault();let y=e!==void 0?e:Lh(f)===Lh(g);d(c,{replace:y,state:s,preventScrollReset:r,relative:o,viewTransition:u})}},[f,d,g,e,s,t,c,r,o,u])}var nM=0,iM=()=>`__${String(++nM)}__`;function sM(){let{router:c}=P1("useSubmit"),{basename:t}=z.useContext(Es),e=E2();return z.useCallback(async(s,r={})=>{let{action:o,method:u,encType:d,formData:f,body:g}=P2(s,t);if(r.navigate===!1){let m=r.fetcherKey||iM();await c.fetch(m,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await c.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[c,t,e])}function aM(c,{relative:t}={}){let{basename:e}=z.useContext(Es),s=z.useContext(Ea);be(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...$d(c||".",{relative:t})},u=il();if(c==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let m=d.toString();o.search=m?`?${m}`:""}}return(!c||c===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ga([e,o.pathname])),Lh(o)}function rM(c,t={}){let e=z.useContext(x1);be(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P1("useViewTransitionState"),r=$d(c,{relative:t.relative});if(!e.isTransitioning)return!1;let o=ba(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=ba(e.nextLocation.pathname,s)||e.nextLocation.pathname;return sg(r.pathname,u)!=null||sg(r.pathname,o)!=null}[...q2];var F1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T_=ce.createContext&&ce.createContext(F1),oM=["attr","size","title"];function lM(c,t){if(c==null)return{};var e=cM(c,t),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(c);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(c,s)&&(e[s]=c[s])}return e}function cM(c,t){if(c==null)return{};var e={};for(var s in c)if(Object.prototype.hasOwnProperty.call(c,s)){if(t.indexOf(s)>=0)continue;e[s]=c[s]}return e}function ag(){return ag=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(c[s]=e[s])}return c},ag.apply(this,arguments)}function C_(c,t){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(c);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(c,r).enumerable})),e.push.apply(e,s)}return e}function rg(c){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(e),!0).forEach(function(s){uM(c,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):C_(Object(e)).forEach(function(s){Object.defineProperty(c,s,Object.getOwnPropertyDescriptor(e,s))})}return c}function uM(c,t,e){return t=hM(t),t in c?Object.defineProperty(c,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[t]=e,c}function hM(c){var t=dM(c,"string");return typeof t=="symbol"?t:t+""}function dM(c,t){if(typeof c!="object"||!c)return c;var e=c[Symbol.toPrimitive];if(e!==void 0){var s=e.call(c,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(c)}function z1(c){return c&&c.map((t,e)=>ce.createElement(t.tag,rg({key:e},t.attr),z1(t.child)))}function ru(c){return t=>ce.createElement(fM,ag({attr:rg({},c.attr)},t),z1(c.child))}function fM(c){var t=e=>{var{attr:s,size:r,title:o}=c,u=lM(c,oM),d=r||e.size||"1em",f;return e.className&&(f=e.className),c.className&&(f=(f?f+" ":"")+c.className),ce.createElement("svg",ag({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:f,style:rg(rg({color:c.color||e.color},e.style),c.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&ce.createElement("title",null,o),c.children)};return T_!==void 0?ce.createElement(T_.Consumer,null,e=>t(e)):t(F1)}function pM(c){return ru({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(c)}function H1(c){return ru({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(c)}function gM(c){return ru({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(c)}function mM(c){return ru({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(c)}function vM(c){return ru({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(c)}function yM(c){return ru({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(c)}function bM(){const[c,t]=z.useState(!1),e=()=>{t(!c)},s=()=>{t(!1)};return V.jsxs("header",{children:[V.jsxs("a",{href:"#hero",className:"logo",onClick:s,children:[V.jsx("span",{className:"logo-last-name",children:"Delmotte"}),V.jsx("span",{className:"logo-first-name",children:"Jean-Franois"})]}),V.jsx("button",{className:"menu-toggle",onClick:e,children:c?V.jsx(yM,{}):V.jsx(gM,{})}),V.jsxs("nav",{className:`nav-links ${c?"open":""}`,children:[V.jsx("a",{href:"#about",className:"nav-button",onClick:s,children:"Prsentation"}),V.jsx("a",{href:"#skills",className:"nav-button",onClick:s,children:"Comptences"}),V.jsx("a",{href:"#projects",className:"nav-button",onClick:s,children:"Projets"}),V.jsx("a",{href:"#Services",className:"nav-button",onClick:s,children:"Mes services"}),V.jsx("a",{href:"#offres",className:"nav-button",onClick:s,children:"Mes tarifs"}),V.jsx("a",{href:"#contact",className:"nav-button",onClick:s,children:"Contact"}),V.jsxs("a",{href:"/cv.pdf",target:"_blank",rel:"noopener noreferrer",className:"nav-button",onClick:s,children:[V.jsx(vM,{className:"download-icon"})," Mon CV"]})]})]})}function AM(){return V.jsx("section",{id:"hero",children:V.jsxs("div",{className:"hero-background",children:[V.jsxs("div",{className:"hero-content",children:[V.jsxs("h1",{className:"hero-title",children:["Delmotte",V.jsx("br",{}),"Jean-Franois"]}),V.jsx("h2",{className:"hero-subtitle",children:"Dveloppeur web/intgrateur web"})]}),V.jsxs("div",{className:"hero-buttons",children:[V.jsx("a",{href:"https://github.com/jeff397?tab=repositories",className:"github-button",target:"_blank",rel:"noopener noreferrer",children:"Github"}),V.jsx("a",{href:"#contact",children:V.jsx("button",{className:"contact-button",children:"Contactez moi"})})]})]})})}function SM(){const[c,t]=z.useState(!1);return z.useEffect(()=>{const e=new IntersectionObserver(r=>{t(r[0].isIntersecting)},{threshold:.3}),s=document.querySelector("#about");return s&&e.observe(s),()=>{s&&e.unobserve(s)}},[]),V.jsx("section",{id:"about",children:V.jsxs("div",{className:`about-content ${c?"rotate":""}`,children:[V.jsx("h3",{children:" propos de moi"}),V.jsx("p",{children:"Afin de me reconvertir professionnellement, j'ai dcid de me spcialiser dans le dveloppement web. Aprs avoir travaill dans un autre domaine, j'ai dcid de me rorienter vers un mtier qui me passionne : la cration de sites web et d'applications. Afin d'acqurir les comptences ncessaires, j'ai suivi une formation complte sur OpenClassrooms, une plateforme de qualit qui m'a permis de matriser les technologies modernes du dveloppement web, notamment React, HTML, CSS, JavaScript, ainsi que les principes de conception d'interface utilisateur. Grce  cette formation, j'ai dvelopp une solide base technique et une comprhension approfondie des bonnes pratiques en dveloppement. Bien que je n'aie pas encore d'exprience professionnelle dans le domaine, mon parcours d'apprentissage m'a permis de raliser plusieurs projets personnels o j'ai appliqu mes comptences pour crer des sites web interactifs et responsive. Je suis motiv, curieux et toujours prt  relever de nouveaux dfis. Aujourd'hui, je cherche  mettre mes comptences en pratique et  travailler dans un environnement stimulant, o je pourrais continuer  apprendre et  contribuer  des projets passionnants. Mon objectif est de devenir un dveloppeur web comptent et de construire une carrire durable dans ce domaine."})]})})}const EM=[{id:1,title:"Intgration et dynamisation",description:["HTML5.","CSS3.","SASS pour la structure et le style.","Javascript native."," et sa bibliothque React pour des interfaces modernes et adaptables.","Redux pour la gestion des tats des applications."]},{id:2,title:"Requtes aux API et backends",description:["Swagger pour rdiger la documentation des routes.","MongoDB pour les bases de donnes."]},{id:3,title:"Utilitaires",description:["VSCode comme diteur de code.","Figma pour tudier les maquettes issues du design.","Git pour l'organisation et la collaboration.","GitHub pour le versionnage ainsi que Vercel pour le dploiement de projets."]}];function _M(){const[c,t]=z.useState([]);return z.useEffect(()=>{t(EM)},[]),V.jsxs("section",{id:"skills",children:[V.jsx("h2",{className:"skills-title",children:"Mes Comptences"}),V.jsx("div",{className:"skills-container",children:c.map(e=>V.jsxs("div",{className:"skill-card",children:[V.jsx("h3",{children:e.title}),V.jsx("ul",{children:e.description.map((s,r)=>V.jsxs("li",{children:[V.jsx(mM,{className:"icon"})," ",s]},r))})]},e.id))})]})}const wM=[{id:1,title:"Riding Cities",image:"images/riding-cities.webp",description:"Pour cette mission, il m'a t demand d'actualiser la page internet de Riding Cities, une association sportive qui promeut le skate en rgion. Il a donc fallu crer une nouvelle section, Les membres fondateurs, avec les noms et photos des crateurs de lassociation. Puis modifier la section comprenant le bouton Tlcharger le planning de cours pour ajouter un titre et deux boutons permettant de tlcharger deux plannings de cours diffrents (un pour les enfants et un pour les adultes).",link:"https://jeff397.github.io/openclassroom-projet2/",codeLink:"https://github.com/jeff397/openclassroom-projet2",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"}]},{id:2,title:"Booki",image:"images/booki.webp",description:"Lentreprise Booki a souhait dvelopper un site Internet qui permette aux usagers de trouver des hbergements et des activits dans la ville de leur choix. J'ai t charg d'intgrer l'interface du site avec du code HTML et CSS. Afin d'accomplir ma mission, j'ai d dcouper la maquette figma pour trouver la structure HTML adquat. Puis  partir de cette structure, j'ai pu dvelopper un code HTML en prenant en compte toute les spcifications techniques et procder  la mise en forme et  la stylisation du site.",link:"https://jeff397.github.io/openclassroom-projet-3/",codeLink:"https://github.com/jeff397/openclassroom-projet-3",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"}]},{id:3,title:"OhMyFood",image:"images/ohmyfood.webp",description:"Cette mission a consist  dvelopper un site qui rpertorie les menus de restaurants gastronomiques. Dans un esprit de simplification du code, j'ai utilis SASS pour dcouper le code CSS en diffrents composants. Il m'a t demand de dvelopper ce site en mobile-first. J'ai donc commenc par la version mobile, puis tablette et enfin desktop. Il a fallu aussi intgrer des animations Css. ",link:"https://jeff397.github.io/openclassroom-ohmyfood/index.html",codeLink:"https://github.com/jeff397/openclassroom-ohmyfood",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"},{name:"sass",icon:"https://img.icons8.com/?size=100&id=axPniFSugeXC&format=png&color=000000"}]},{id:4,title:"Print-it",image:"images/print-it.webp",description:"Une petite imprimerie familiale, Print-It, m'a demand de dynamiser son site internet statique. Il m'a donc fallu crer un caroussel d'image en dfilement infini en utilisant le langage Javascript. J'ai insr des flches cliquables gauche et droite permettant d'avancer ou de reculer. Puis, j'ai intgr des bullets points permettant de connatre la position de l'image affich par rapport  l'image de dpart.",link:"https://jeff397.github.io/openclassroom-print-it/",codeLink:"https://github.com/jeff397/openclassroom-print-it",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"javascript",icon:"https://img.icons8.com/?size=100&id=108784&format=png&color=000000"}]},{id:5,title:"Sophie Bluel",image:"images/sophie bluel.webp",description:"La mission a consist  concevoir un site portfolio pour une architecte d'intrieur. Avec l'aide de Figma et d'un kanban, j'ai pu raliser la page de prsentation des travaux de l'architecte, la page de connexion de l'administrateur du site et enfin la modale permettant d'uploader de nouveaux mdias. De plus grce  Swagger, j'ai pu communiquer avec une API afin d'uploader ou effacer les travaux.",codeLink:"https://github.com/jeff397/Sophie-Bluel",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"javascript",icon:"https://img.icons8.com/?size=100&id=108784&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"},{name:"node",icon:"https://img.icons8.com/?size=100&id=54087&format=png&color=000000"}]},{id:6,title:"Kasa",image:"images/kasa.webp",description:"Kasa est une agence de location d'appartements entre particuliers. Le site ayant plus de 10 ans, une refonte totale a t lanc avec javascript et node.js ct backend et React cot front-end. L'objectif a donc t de dmarrer le projet React et dvelopper lensemble de lapplication, les composants React, les routes React Router, en suivant les maquettes Figma.",codeLink:"https://github.com/jeff397/openclassroom-kasa",technologies:[{name:"HTML",icon:"https://img.icons8.com/?size=100&id=EAUyKy3IwmqM&format=png&color=000000"},{name:"css",icon:"https://img.icons8.com/?size=100&id=B5O03w2IoQSa&format=png&color=000000"},{name:"react",icon:"https://img.icons8.com/?size=100&id=asWSSTBrDlTW&format=png&color=000000"},{name:"figma",icon:"https://img.icons8.com/?size=100&id=WOEYzdYCr1UZ&format=png&color=000000"}]}];function xM({project:c,onClose:t}){return c?V.jsx("div",{className:"modal",children:V.jsxs("div",{className:"modal-content",children:[V.jsx("span",{className:"close",onClick:t,children:""}),V.jsx("h2",{children:c.title}),V.jsx("p",{children:c.description}),V.jsxs("div",{className:"modal-buttons",children:[c.link&&V.jsx("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",className:"button",children:"Voir le projet"}),c.codeLink&&V.jsx("a",{href:c.codeLink,target:"_blank",rel:"noopener noreferrer",className:"button",children:"Voir le code"})]}),V.jsx("div",{className:"technology-icons",children:c.technologies.map(e=>V.jsx("img",{src:e.icon,alt:e.name,className:"tech-icon"},e.name))})]})}):null}function TM(){const[c,t]=z.useState(null),e=r=>{t(r)},s=()=>{t(null)};return V.jsxs("section",{id:"projects",children:[V.jsx("h2",{className:"projects-title",children:"Mes projets"}),V.jsx("div",{className:"projects-container",children:wM.map(r=>V.jsxs("div",{className:"project-card",onClick:()=>e(r),children:[V.jsx("div",{className:"project-image-container",children:V.jsx("img",{src:r.image,alt:r.title,className:"project-image"})}),V.jsx("h3",{className:"project-title",children:r.title})]},r.id))}),c&&V.jsx(xM,{project:c,onClose:s})]})}const CM=[{title:"Cration de site web",description:"Sites vitrine, landing pages ou portfolios adapts aux indpendants et petites structures."},{title:"Rfrencement (SEO)",description:"Optimisation du contenu, structure et vitesse pour mieux vous positionner sur Google."},{title:"Maintenance",description:"Mises  jour rgulires, corrections de bugs, sauvegardes et suivi technique."},{title:"Intgration Figma",description:"Intgration fidle de vos maquettes Figma, responsive et performante."}];function RM(){return V.jsxs("section",{id:"Services",className:"services-section",children:[V.jsx("h2",{className:"services-title",children:"Mes services"}),V.jsx("div",{className:"services-grid",children:CM.map((c,t)=>V.jsxs("div",{className:"service-card-modern",children:[V.jsx("h3",{className:"service-card-title",children:c.title}),V.jsx("p",{className:"service-card-desc",children:c.description})]},t))})]})}const MM=[{title:" Site Vitrine Cl en Main",price:"1 100  HT",description:"Idal pour indpendants, artisans et petites entreprises souhaitant une prsence professionnelle en ligne.",inclus:["5 pages (Accueil,  propos, Services, Contact, etc.)","Design responsive et moderne","Formulaire de contact","Optimisation SEO de base","2 retouches incluses + support 15 jours"],delai:"7  14 jours"},{title:" Offre Personnalise",price:"Sur devis",description:"Un site 100% sur mesure selon vos besoins, votre contenu et vos objectifs spcifiques.",inclus:["Pages & fonctionnalits illimites","Accompagnement stratgique","Dveloppement spcifique (blog, carte, agenda, etc.)","Intgration API ou outils externes","Design unique ou sur maquette fournie"],delai:" dfinir selon projet"},{title:" Site Commercial / Boutique",price:" partir de 1 800  HT",description:"Vendez vos produits ou services en ligne via un site e-commerce complet et professionnel.",inclus:["Catalogue produits (jusqu 50 articles)","Paiement en ligne (Stripe, PayPal)","Gestion de commandes et stocks","SEO & scurit renforcs","Formation  la prise en main incluse"],delai:"10  20 jours"},{title:" Forfait Maintenance Mensuel",price:" partir de 49  HT/mois",description:"Gardez un site scuris,  jour et fonctionnel sans vous en soucier.",inclus:["Mises  jour techniques & scurit","Sauvegardes rgulires","Corrections mineures (1h incluse)","Assistance par mail sous 48h","Vrification des formulaires et liens"],delai:"Engagement mensuel ou annuel"}],LM=()=>V.jsx("section",{className:"offres-section",id:"offres",children:V.jsxs("div",{className:"offres-container",children:[V.jsx("h2",{className:"offres-title",children:" Mes Offres Web"}),V.jsx("p",{className:"offres-subtitle",children:"Des solutions adaptes  vos besoins et  votre budget"}),V.jsx("div",{className:"offres-grid",children:MM.map((c,t)=>V.jsxs("div",{className:"offre-card",children:[V.jsx("h3",{children:c.title}),V.jsx("p",{className:"offre-price",children:c.price}),V.jsx("p",{className:"offre-desc",children:c.description}),V.jsx("ul",{children:c.inclus.map((e,s)=>V.jsxs("li",{children:[" ",e]},s))}),V.jsxs("p",{className:"offre-delai",children:[" Dlai : ",c.delai]}),V.jsx("a",{href:"#contact",className:"offre-btn",children:"Demander un devis"})]},t))})]})});var py={exports:{}},gy,R_;function DM(){if(R_)return gy;R_=1;var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gy=c,gy}var my,M_;function OM(){if(M_)return my;M_=1;var c=DM();function t(){}function e(){}return e.resetWarningCache=t,my=function(){function s(u,d,f,g,m,y){if(y!==c){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function r(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},my}var L_;function NM(){return L_||(L_=1,py.exports=OM()()),py.exports}var kM=NM();const Te=Lg(kM);function D_(c,t){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(c);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(c,r).enumerable})),e.push.apply(e,s)}return e}function O_(c){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(e),!0).forEach(function(s){j1(c,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):D_(Object(e)).forEach(function(s){Object.defineProperty(c,s,Object.getOwnPropertyDescriptor(e,s))})}return c}function Cp(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cp=function(t){return typeof t}:Cp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(c)}function j1(c,t,e){return t in c?Object.defineProperty(c,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[t]=e,c}function PM(c,t){return FM(c)||zM(c,t)||HM(c,t)||jM()}function FM(c){if(Array.isArray(c))return c}function zM(c,t){var e=c&&(typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"]);if(e!=null){var s=[],r=!0,o=!1,u,d;try{for(e=e.call(c);!(r=(u=e.next()).done)&&(s.push(u.value),!(t&&s.length===t));r=!0);}catch(f){o=!0,d=f}finally{try{!r&&e.return!=null&&e.return()}finally{if(o)throw d}}return s}}function HM(c,t){if(c){if(typeof c=="string")return N_(c,t);var e=Object.prototype.toString.call(c).slice(8,-1);if(e==="Object"&&c.constructor&&(e=c.constructor.name),e==="Map"||e==="Set")return Array.from(c);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return N_(c,t)}}function N_(c,t){(t==null||t>c.length)&&(t=c.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=c[e];return s}function jM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IM=function(t){var e=ce.useRef(t);return ce.useEffect(function(){e.current=t},[t]),e.current},og=function(t){return t!==null&&Cp(t)==="object"},k_="[object Object]",UM=function c(t,e){if(!og(t)||!og(e))return t===e;var s=Array.isArray(t),r=Array.isArray(e);if(s!==r)return!1;var o=Object.prototype.toString.call(t)===k_,u=Object.prototype.toString.call(e)===k_;if(o!==u)return!1;if(!o&&!s)return t===e;var d=Object.keys(t),f=Object.keys(e);if(d.length!==f.length)return!1;for(var g={},m=0;m<d.length;m+=1)g[d[m]]=!0;for(var y=0;y<f.length;y+=1)g[f[y]]=!0;var b=Object.keys(g);if(b.length!==d.length)return!1;var A=t,E=e,w=function(T){return c(A[T],E[T])};return b.every(w)},BM=function(t,e,s){return og(t)?Object.keys(t).reduce(function(r,o){var u=!og(e)||!UM(t[o],e[o]);return s.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),r):u?O_(O_({},r||{}),{},j1({},o,t[o])):r},null):null},I1=ce.createContext(null);I1.displayName="ElementsContext";var qM=function(t,e){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(e," in an <Elements> provider."));return t},U1=ce.createContext(null);U1.displayName="CartElementContext";var GM=function(t,e){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(e," in an <Elements> provider."));return t};Te.any,Te.object;var P_=function(t){var e=ce.useContext(I1);return qM(e,t)},F_=function(t){var e=ce.useContext(U1);return GM(e,t)};Te.func.isRequired;var Cn=function(t,e,s){var r=!!s,o=ce.useRef(s);ce.useEffect(function(){o.current=s},[s]),ce.useEffect(function(){if(!r||!t)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return t.on(e,u),function(){t.off(e,u)}},[r,e,t,o])},VM=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Fe=function(t,e){var s="".concat(VM(t),"Element"),r=function(f){var g=f.id,m=f.className,y=f.options,b=y===void 0?{}:y,A=f.onBlur,E=f.onFocus,w=f.onReady,M=f.onChange,T=f.onEscape,D=f.onClick,N=f.onLoadError,k=f.onLoaderStart,j=f.onNetworksChange,q=f.onCheckout,K=f.onLineItemClick,Z=f.onConfirm,nt=f.onCancel,at=f.onShippingAddressChange,st=f.onShippingRateChange,mt=P_("mounts <".concat(s,">")),ft=mt.elements,pt=ce.useState(null),dt=PM(pt,2),F=dt[0],X=dt[1],et=ce.useRef(null),At=ce.useRef(null),L=F_("mounts <".concat(s,">")),I=L.setCart,$=L.setCartState;Cn(F,"blur",A),Cn(F,"focus",E),Cn(F,"escape",T),Cn(F,"click",D),Cn(F,"loaderror",N),Cn(F,"loaderstart",k),Cn(F,"networkschange",j),Cn(F,"lineitemclick",K),Cn(F,"confirm",Z),Cn(F,"cancel",nt),Cn(F,"shippingaddresschange",at),Cn(F,"shippingratechange",st);var W;t==="cart"?W=function(Et){$(Et),w&&w(Et)}:w&&(t==="payButton"?W=w:W=function(){w(F)}),Cn(F,"ready",W);var it=t==="cart"?function(ct){$(ct),M&&M(ct)}:M;Cn(F,"change",it);var gt=t==="cart"?function(ct){$(ct),q&&q(ct)}:q;Cn(F,"checkout",gt),ce.useLayoutEffect(function(){if(et.current===null&&ft&&At.current!==null){var ct=ft.create(t,b);t==="cart"&&I&&I(ct),et.current=ct,X(ct),ct.mount(At.current)}},[ft,b,I]);var ot=IM(b);return ce.useEffect(function(){if(et.current){var ct=BM(b,ot,["paymentRequest"]);ct&&et.current.update(ct)}},[b,ot]),ce.useLayoutEffect(function(){return function(){et.current&&(et.current.destroy(),et.current=null)}},[]),ce.createElement("div",{id:g,className:m,ref:At})},o=function(f){P_("mounts <".concat(s,">")),F_("mounts <".concat(s,">"));var g=f.id,m=f.className;return ce.createElement("div",{id:g,className:m})},u=e?o:r;return u.propTypes={id:Te.string,className:Te.string,onChange:Te.func,onBlur:Te.func,onFocus:Te.func,onReady:Te.func,onEscape:Te.func,onClick:Te.func,onLoadError:Te.func,onLoaderStart:Te.func,onNetworksChange:Te.func,onCheckout:Te.func,onLineItemClick:Te.func,onConfirm:Te.func,onCancel:Te.func,onShippingAddressChange:Te.func,onShippingRateChange:Te.func,options:Te.object},u.displayName=s,u.__elementType=t,u},ze=typeof window>"u";Fe("auBankAccount",ze);var YM=Fe("card",ze);Fe("cardNumber",ze);Fe("cardExpiry",ze);Fe("cardCvc",ze);Fe("fpxBank",ze);Fe("iban",ze);Fe("idealBank",ze);Fe("p24Bank",ze);Fe("epsBank",ze);Fe("payment",ze);Fe("payButton",ze);Fe("paymentRequestButton",ze);Fe("linkAuthentication",ze);Fe("address",ze);Fe("shippingAddress",ze);Fe("cart",ze);Fe("paymentMethodMessaging",ze);Fe("affirmMessage",ze);Fe("afterpayClearpayMessage",ze);var vy,z_;function XM(){if(z_)return vy;z_=1;var c=Object.defineProperty,t=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,r=(L,I)=>{for(var $ in I)c(L,$,{get:I[$],enumerable:!0})},o=(L,I,$,W)=>{if(I&&typeof I=="object"||typeof I=="function")for(let it of e(I))!s.call(L,it)&&it!==$&&c(L,it,{get:()=>I[it],enumerable:!(W=t(I,it))||W.enumerable});return L},u=L=>o(c({},"__esModule",{value:!0}),L),d=(L,I,$)=>new Promise((W,it)=>{var gt=Et=>{try{ct($.next(Et))}catch(se){it(se)}},ot=Et=>{try{ct($.throw(Et))}catch(se){it(se)}},ct=Et=>Et.done?W(Et.value):Promise.resolve(Et.value).then(gt,ot);ct(($=$.apply(L,I)).next())}),f={};r(f,{SubmissionError:()=>k,appendExtraData:()=>ft,createClient:()=>X,getDefaultClient:()=>et,isSubmissionError:()=>N}),vy=u(f);var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function y(L){L=String(L);for(var I,$,W,it,gt="",ot=0,ct=L.length%3;ot<L.length;){if(($=L.charCodeAt(ot++))>255||(W=L.charCodeAt(ot++))>255||(it=L.charCodeAt(ot++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");I=$<<16|W<<8|it,gt+=g.charAt(I>>18&63)+g.charAt(I>>12&63)+g.charAt(I>>6&63)+g.charAt(I&63)}return ct?gt.slice(0,ct-3)+"===".substring(ct):gt}function b(L){if(L=String(L).replace(/[\t\n\f\r ]+/g,""),!m.test(L))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");L+="==".slice(2-(L.length&3));for(var I,$="",W,it,gt=0;gt<L.length;)I=g.indexOf(L.charAt(gt++))<<18|g.indexOf(L.charAt(gt++))<<12|(W=g.indexOf(L.charAt(gt++)))<<6|(it=g.indexOf(L.charAt(gt++))),$+=W===64?String.fromCharCode(I>>16&255):it===64?String.fromCharCode(I>>16&255,I>>8&255):String.fromCharCode(I>>16&255,I>>8&255,I&255);return $}var A=()=>navigator.webdriver||!!document.documentElement.getAttribute(b("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,E=class{constructor(){this.loadedAt=Date.now(),this.webdriver=A()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},w=class{constructor(L){this.kind="success",this.next=L.next}};function M(L){return"next"in L&&typeof L.next=="string"}var T=class{constructor(L,I){this.paymentIntentClientSecret=L,this.resubmitKey=I,this.kind="stripePluginPending"}};function D(L){if("stripe"in L&&"resubmitKey"in L&&typeof L.resubmitKey=="string"){let{stripe:I}=L;return typeof I=="object"&&I!=null&&"paymentIntentClientSecret"in I&&typeof I.paymentIntentClientSecret=="string"}return!1}function N(L){return L.kind==="error"}var k=class{constructor(...L){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var I;for(let $ of L){if(!$.field){this.formErrors.push({code:$.code&&j($.code)?$.code:"UNSPECIFIED",message:$.message});continue}let W=(I=this.fieldErrors.get($.field))!=null?I:[];W.push({code:$.code&&K($.code)?$.code:"UNSPECIFIED",message:$.message}),this.fieldErrors.set($.field,W)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(L){var I;return(I=this.fieldErrors.get(L))!=null?I:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function j(L){return L in q}var q={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function K(L){return L in Z}var Z={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function nt(L){return"errors"in L&&Array.isArray(L.errors)&&L.errors.every(I=>typeof I.message=="string")||"error"in L&&typeof L.error=="string"}var at="3.0.4",st=L=>y(JSON.stringify(L)),mt=L=>{let I=`@formspree/core@${at}`;return L?`${L} ${I}`:I};function ft(L,I,$){L instanceof FormData?L.append(I,$):L[I]=$}function pt(L){return L!==null&&typeof L=="object"}var dt=class{constructor(L={}){this.project=L.project,this.stripe=L.stripe,typeof window<"u"&&(this.session=new E)}submitForm(L,I){return d(this,arguments,function*($,W,it={}){let gt=it.endpoint||"https://formspree.io",ot=this.project?`${gt}/p/${this.project}/f/${$}`:`${gt}/f/${$}`,ct={Accept:"application/json","Formspree-Client":mt(it.clientName)};this.session&&(ct["Formspree-Session-Data"]=st(this.session.data())),W instanceof FormData||(ct["Content-Type"]="application/json");function Et(jt){return d(this,null,function*(){try{let qt=yield(yield fetch(ot,{method:"POST",mode:"cors",body:jt instanceof FormData?jt:JSON.stringify(jt),headers:ct})).json();if(pt(qt)){if(nt(qt))return Array.isArray(qt.errors)?new k(...qt.errors):new k({message:qt.error});if(D(qt))return new T(qt.stripe.paymentIntentClientSecret,qt.resubmitKey);if(M(qt))return new w({next:qt.next})}return new k({message:"Unexpected response format"})}catch(qt){let kn=qt instanceof Error?qt.message:`Unknown error while posting to Formspree: ${JSON.stringify(qt)}`;return new k({message:kn})}})}if(this.stripe&&it.createPaymentMethod){let jt=yield it.createPaymentMethod();if(jt.error)return new k({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});ft(W,"paymentMethod",jt.paymentMethod.id);let qt=yield Et(W);if(qt.kind==="error")return qt;if(qt.kind==="stripePluginPending"){let kn=yield this.stripe.handleCardAction(qt.paymentIntentClientSecret);if(kn.error)return new k({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});W instanceof FormData?W.delete("paymentMethod"):delete W.paymentMethod,ft(W,"paymentIntent",kn.paymentIntent.id),ft(W,"resubmitKey",qt.resubmitKey);let Bt=yield Et(W);return F(Bt),Bt}return qt}let se=yield Et(W);return F(se),se})}};function F(L){let{kind:I}=L;if(I!=="success"&&I!=="error")throw new Error(`Unexpected submission result (kind: ${I})`)}var X=L=>new dt(L),et=()=>(At||(At=X()),At),At;return vy}var Ly=XM(),yp={},H_;function KM(){if(H_)return yp;H_=1,Object.defineProperty(yp,"__esModule",{value:!0});function c(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(w){return typeof w}:c=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(E)}var t="https://js.stripe.com/v3",e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",r=function(){for(var w=document.querySelectorAll('script[src^="'.concat(t,'"]')),M=0;M<w.length;M++){var T=w[M];if(e.test(T.src))return T}return null},o=function(w){var M=w&&!w.advancedFraudSignals?"?advancedFraudSignals=false":"",T=document.createElement("script");T.src="".concat(t).concat(M);var D=document.head||document.body;if(!D)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return D.appendChild(T),T},u=function(w,M){!w||!w._registerWrapper||w._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:M})},d=null,f=function(w){return d!==null||(d=new Promise(function(M,T){if(typeof window>"u"||typeof document>"u"){M(null);return}if(window.Stripe&&w&&console.warn(s),window.Stripe){M(window.Stripe);return}try{var D=r();D&&w?console.warn(s):D||(D=o(w)),D.addEventListener("load",function(){window.Stripe?M(window.Stripe):T(new Error("Stripe.js not available"))}),D.addEventListener("error",function(){T(new Error("Failed to load Stripe.js"))})}catch(N){T(N);return}})),d},g=function(w,M,T){if(w===null)return null;var D=w.apply(void 0,M);return u(D,T),D},m=function(w){var M=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(w),`
`);if(w===null||c(w)!=="object")throw new Error(M);if(Object.keys(w).length===1&&typeof w.advancedFraudSignals=="boolean")return w;throw new Error(M)},y,b=!1,A=function(){for(var w=arguments.length,M=new Array(w),T=0;T<w;T++)M[T]=arguments[T];b=!0;var D=Date.now();return f(y).then(function(N){return g(N,M,D)})};return A.setLoadParameters=function(E){if(b&&y){var w=m(E),M=Object.keys(w),T=M.reduce(function(D,N){var k;return D&&E[N]===((k=y)===null||k===void 0?void 0:k[N])},!0);if(T)return}if(b)throw new Error("You cannot change load parameters after calling loadStripe");y=m(E)},yp.loadStripe=A,yp}var yy,j_;function $M(){return j_||(j_=1,yy=KM()),yy}$M();function by(c){let{prefix:t,field:e,errors:s,...r}=c;if(s==null)return null;let o=e?s.getFieldErrors(e):s.getFormErrors();return o.length===0?null:ce.createElement("div",{...r},t?`${t} `:null,o.map(u=>u.message).join(", "))}var WM=z.createContext({elements:null});function QM(){return z.useContext(WM)}var ZM=ce.createContext(null);function JM(){return z.useContext(ZM)??{client:Ly.getDefaultClient()}}var tL="2.5.5",eL=`@formspree/react@${tL}`;function nL(c,t={}){let e=JM(),{elements:s}=QM(),{client:r=e.client,extraData:o,onError:u,onSuccess:d,origin:f}=t,{stripe:g}=r;return async function(m){let y=iL(m)?sL(m):m;if(typeof o=="object")for(let[w,M]of Object.entries(o)){let T;typeof M=="function"?T=await M():T=M,T!==void 0&&Ly.appendExtraData(y,w,T)}let b=s==null?void 0:s.getElement(YM),A=g&&b?()=>g.createPaymentMethod({type:"card",card:b,billing_details:aL(y)}):void 0,E=await r.submitForm(c,y,{endpoint:f,clientName:eL,createPaymentMethod:A});Ly.isSubmissionError(E)?u==null||u(E):d==null||d(E)}}function iL(c){return"preventDefault"in c&&typeof c.preventDefault=="function"}function sL(c){c.preventDefault();let t=c.currentTarget;if(t.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(t)}function aL(c){let t={address:rL(c)};for(let e of["name","email","phone"]){let s=c instanceof FormData?c.get(e):c[e];s&&typeof s=="string"&&(t[e]=s)}return t}function rL(c){let t={};for(let[e,s]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let r=c instanceof FormData?c.get(e):c[e];r&&typeof r=="string"&&(t[s]=r)}return t}function oL(c,t={}){let[e,s]=z.useState(null),[r,o]=z.useState(null),[u,d]=z.useState(!1),[f,g]=z.useState(!1),m=nL(c,{client:t.client,extraData:t.data,onError(y){s(y),d(!1),g(!1)},onSuccess(y){s(null),o(y),d(!1),g(!0)},origin:t.endpoint});return[{errors:e,result:r,submitting:u,succeeded:f},async function(y){d(!0),await m(y)},function(){s(null),o(null),d(!1),g(!1)}]}const lL=({onSuccess:c})=>{const[t,e]=oL("xldjdred"),s=async r=>{await e(r),t.succeeded&&c()};return V.jsxs("form",{onSubmit:s,className:"contact-form",children:[V.jsxs("label",{children:["Nom :",V.jsx("input",{type:"text",name:"name",required:!0})]}),V.jsxs("label",{children:["Email :",V.jsx("input",{type:"email",name:"email",required:!0})]}),V.jsxs("label",{children:["Message :",V.jsx("textarea",{name:"message",required:!0})]}),V.jsx("button",{type:"submit",disabled:t.submitting,children:"Envoyer"}),V.jsx("div",{className:"linkedin-container",children:V.jsx("a",{href:"https://www.linkedin.com/in/votreprofil",target:"_blank",rel:"noopener noreferrer",className:"linkedin-link",children:V.jsx(H1,{className:"linkedin-icon"})})}),V.jsx(by,{field:"name",prefix:"Nom",errors:t.errors}),V.jsx(by,{field:"email",prefix:"Email",errors:t.errors}),V.jsx(by,{field:"message",prefix:"Message",errors:t.errors})]})},cL=()=>{const[c,t]=z.useState(!1);return V.jsxs("section",{id:"contact",className:"contact-section",children:[V.jsx("h2",{children:"Contactez-moi"}),c?V.jsxs("p",{className:"success-message",onClick:()=>t(!1),children:["Merci pour votre message ! ",V.jsx("br",{}),"(Cliquez ici pour fermer)"]}):V.jsxs("div",{className:"contact-container",children:[V.jsx("div",{className:"contact-text",children:V.jsx("p",{children:"Vous pouvez me contacter via ce formulaire ou directement sur mon LinkedIn."})}),V.jsx(lL,{onSuccess:()=>t(!0)})]})]})};function uL(){return V.jsxs("footer",{className:"footer",children:[V.jsx("p",{children:" 2024 Jean-Franois Delmotte - Tous droits rservs"}),V.jsxs("div",{className:"social-links",children:[V.jsx("a",{href:"https://github.com/jeff397",target:"_blank",rel:"noopener noreferrer",children:V.jsx(pM,{className:"social-icon"})}),V.jsx("a",{href:"https://linkedin.com/in/jean-francois-delmotte",target:"_blank",rel:"noopener noreferrer",children:V.jsx(H1,{className:"social-icon"})})]})]})}const hL="modulepreload",dL=function(c){return"/"+c},I_={},bp=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){let u=function(g){return Promise.all(g.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=u(e.map(g=>{if(g=dL(g),g in I_)return;I_[g]=!0;const m=g.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":hL,m||(b.as="script"),b.crossOrigin="",b.href=g,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((A,E)=>{b.addEventListener("load",A),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Ch={};Ch.d=(c,t)=>{for(var e in t)Ch.o(t,e)&&!Ch.o(c,e)&&Object.defineProperty(c,e,{enumerable:!0,get:t[e]})};Ch.o=(c,t)=>Object.prototype.hasOwnProperty.call(c,t);var Ct=globalThis.pdfjsLib={};Ch.d(Ct,{AbortException:()=>al,AnnotationEditorLayer:()=>Bb,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Lt,AnnotationEditorUIManager:()=>Zo,AnnotationLayer:()=>uO,AnnotationMode:()=>Ka,ColorPicker:()=>hg,DOMSVGFactory:()=>p0,DrawLayer:()=>Yb,FeatureTest:()=>Dn,GlobalWorkerOptions:()=>pa,ImageKind:()=>Rp,InvalidPDFException:()=>q1,MissingPDFException:()=>sl,OPS:()=>Fi,OutputScale:()=>Py,PDFDataRangeTransport:()=>jw,PDFDateString:()=>o0,PDFWorker:()=>nc,PasswordResponses:()=>mL,PermissionFlag:()=>gL,PixelsPerInch:()=>Er,RenderingCancelledException:()=>a0,TextLayer:()=>cb,UnexpectedResponseException:()=>Fg,Util:()=>vt,VerbosityLevel:()=>Ng,XfaLayer:()=>Uw,build:()=>GD,createValidAbsoluteUrl:()=>AL,fetchData:()=>Hg,getDocument:()=>PD,getFilenameFromUrl:()=>ML,getPdfFilenameFromUrl:()=>LL,getXfaPageViewport:()=>DL,isDataScheme:()=>jg,isPdfFile:()=>r0,noContextMenu:()=>Di,normalizeUnicode:()=>TL,setLayerDimensions:()=>Qo,shadow:()=>It,version:()=>qD});const wn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),B1=[1,0,0,1,0,0],Dy=[.001,0,0,.001,0,0],fL=1e7,Ay=1.35,ui={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ka={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},pL="pdfjs_internal_editor_",Lt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},gL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Rp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ie={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},lh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ng={ERRORS:0,WARNINGS:1,INFOS:5},Fi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},mL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let kg=Ng.WARNINGS;function vL(c){Number.isInteger(c)&&(kg=c)}function yL(){return kg}function Pg(c){kg>=Ng.INFOS&&console.log(`Info: ${c}`)}function Nt(c){kg>=Ng.WARNINGS&&console.log(`Warning: ${c}`)}function ue(c){throw new Error(c)}function Ge(c,t){c||ue(t)}function bL(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function AL(c,t=null,e=null){if(!c)return null;try{if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const r=c.match(/\./g);(r==null?void 0:r.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=xL(c)}catch{}}const s=t?new URL(c,t):new URL(c);if(bL(s))return s}catch{}return null}function It(c,t,e,s=!1){return Object.defineProperty(c,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Tr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Oy extends Tr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ny extends Tr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class q1 extends Tr{constructor(t){super(t,"InvalidPDFException")}}class sl extends Tr{constructor(t){super(t,"MissingPDFException")}}class Fg extends Tr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class SL extends Tr{constructor(t){super(t,"FormatError")}}class al extends Tr{constructor(t){super(t,"AbortException")}}function G1(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&ue("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const s=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),u=c.subarray(r,o);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function zg(c){typeof c!="string"&&ue("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=c.charCodeAt(s)&255;return e}function EL(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function i0(c){const t=Object.create(null);for(const[e,s]of c)t[e]=s;return t}function _L(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function wL(){try{return new Function(""),!0}catch{return!1}}class Dn{static get isLittleEndian(){return It(this,"isLittleEndian",_L())}static get isEvalSupported(){return It(this,"isEvalSupported",wL())}static get isOffscreenCanvasSupported(){return It(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?It(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):It(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return It(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Sy=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var va,Mp,ky;class vt{static makeHexColor(t,e,s){return`#${Sy[t]}${Sy[e]}${Sy[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],o[0],u[0]),Math.min(s[1],r[1],o[1],u[1]),Math.max(s[0],r[0],o[0],u[0]),Math.max(s[1],r[1],o[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],d=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-o*r))/2,g=d+f||1,m=d-f||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>u?null:[s,o,r,u]}static bezierBoundingBox(t,e,s,r,o,u,d,f,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,f),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,f)):g=[Math.min(t,d),Math.min(e,f),Math.max(t,d),Math.max(e,f)],x(this,va,ky).call(this,t,s,o,d,e,r,u,f,3*(-t+3*(s-o)+d),6*(t-2*s+o),3*(s-t),g),x(this,va,ky).call(this,t,s,o,d,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),g),g}}va=new WeakSet,Mp=function(t,e,s,r,o,u,d,f,g,m){if(g<=0||g>=1)return;const y=1-g,b=g*g,A=b*g,E=y*(y*(y*t+3*g*e)+3*b*s)+A*r,w=y*(y*(y*o+3*g*u)+3*b*d)+A*f;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],w)},ky=function(t,e,s,r,o,u,d,f,g,m,y,b){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&x(this,va,Mp).call(this,t,e,s,r,o,u,d,f,-y/m,b);return}const A=m**2-4*y*g;if(A<0)return;const E=Math.sqrt(A),w=2*g;x(this,va,Mp).call(this,t,e,s,r,o,u,d,f,(-m+E)/w,b),x(this,va,Mp).call(this,t,e,s,r,o,u,d,f,(-m-E)/w,b)},R(vt,va);function xL(c){return decodeURIComponent(escape(c))}let Ey=null,U_=null;function TL(c){return Ey||(Ey=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,U_=new Map([["","t"]])),c.replaceAll(Ey,(t,e,s)=>e?e.normalize("NFKC"):U_.get(s))}function CL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const c=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(c);else for(let t=0;t<32;t++)c[t]=Math.floor(Math.random()*255);return G1(c)}const s0="pdfjs_internal_id_",js={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function RL(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(G1(c))}const Us="http://www.w3.org/2000/svg",Zr=class Zr{};xt(Zr,"CSS",96),xt(Zr,"PDF",72),xt(Zr,"PDF_TO_CSS_UNITS",Zr.CSS/Zr.PDF);let Er=Zr;async function Hg(c,t="text"){if(hh(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",c,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Wd{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,m,y,b;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,y=0,b=1;break;case 90:g=0,m=1,y=1,b=0;break;case 270:g=0,m=-1,y=-1,b=0;break;case 0:g=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,b=-b);let A,E,w,M;g===0?(A=Math.abs(f-t[1])*e+r,E=Math.abs(d-t[0])*e+o,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(d-t[0])*e+r,E=Math.abs(f-t[1])*e+o,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,y*e,b*e,A-g*e*d-y*e*f,E-m*e*d-b*e*f],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return It(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Wd({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return vt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=vt.applyTransform([t[0],t[1]],this.transform),s=vt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return vt.applyInverseTransform([t,e],this.transform)}}class a0 extends Tr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function jg(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function r0(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function ML(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function LL(c,t="document.pdf"){if(typeof c!="string")return t;if(jg(c))return Nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(c);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class B_{constructor(){xt(this,"started",Object.create(null));xt(this,"times",[])}time(t){t in this.started&&Nt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Nt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-r}ms
`);return t.join("")}}function hh(c,t){try{const{protocol:e}=t?new URL(c,t):new URL(c);return e==="http:"||e==="https:"}catch{return!1}}function Di(c){c.preventDefault()}function q_(c){console.log("Deprecated API usage: "+c)}var Oh;class o0{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Oh)||_(this,Oh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Oh).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,g==="-"?(u+=m,d+=y):g==="+"&&(u-=m,d-=y),new Date(Date.UTC(s,r,o,u,d,f))}}Oh=new WeakMap,R(o0,Oh);function DL(c,{scale:t=1,rotation:e=0}){const{width:s,height:r}=c.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new Wd({viewBox:o,scale:t,rotation:e})}function l0(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Nt(`Not a valid color format: "${c}"`),[0,0,0])}function OL(c){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of c.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;c.set(e,l0(s))}t.remove()}function ye(c){const{a:t,b:e,c:s,d:r,e:o,f:u}=c.getTransform();return[t,e,s,r,o,u]}function Is(c){const{a:t,b:e,c:s,d:r,e:o,f:u}=c.getTransform().invertSelf();return[t,e,s,r,o,u]}function Qo(c,t,e=!1,s=!0){if(t instanceof Wd){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:u}=c,d=Dn.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,y=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(u.width=m,u.height=y):(u.width=y,u.height=m)}s&&c.setAttribute("data-main-rotation",t.rotation)}class Py{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var $a,to,zi,eo,Nh,kh,fg,V1,On,Y1,X1,Lp,K1,zy;const Bs=class Bs{constructor(t){R(this,On);R(this,$a,null);R(this,to,null);R(this,zi);R(this,eo,null);R(this,Nh,null);_(this,zi,t),h(Bs,kh)||_(Bs,kh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,$a,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,zi)._uiManager._signal;t.addEventListener("contextmenu",Di,{signal:e}),t.addEventListener("pointerdown",x(Bs,fg,V1),{signal:e});const s=_(this,eo,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,zi).toolbarPosition;if(r){const{style:o}=t,u=h(this,zi)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,On,K1).call(this),t}get div(){return h(this,$a)}hide(){var t;h(this,$a).classList.add("hidden"),(t=h(this,to))==null||t.hideDropdown()}show(){var t;h(this,$a).classList.remove("hidden"),(t=h(this,Nh))==null||t.shown()}async addAltText(t){const e=await t.render();x(this,On,Lp).call(this,e),h(this,eo).prepend(e,h(this,On,zy)),_(this,Nh,t)}addColorPicker(t){_(this,to,t);const e=t.renderButton();x(this,On,Lp).call(this,e),h(this,eo).prepend(e,h(this,On,zy))}remove(){var t;h(this,$a).remove(),(t=h(this,to))==null||t.destroy(),_(this,to,null)}};$a=new WeakMap,to=new WeakMap,zi=new WeakMap,eo=new WeakMap,Nh=new WeakMap,kh=new WeakMap,fg=new WeakSet,V1=function(t){t.stopPropagation()},On=new WeakSet,Y1=function(t){h(this,zi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},X1=function(t){h(this,zi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Lp=function(t){const e=h(this,zi)._uiManager._signal;t.addEventListener("focusin",x(this,On,Y1).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",x(this,On,X1).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Di,{signal:e})},K1=function(){const{editorType:t,_uiManager:e}=h(this,zi),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Bs,kh)[t]),x(this,On,Lp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,eo).append(s)},zy=function(){const t=document.createElement("div");return t.className="divider",t},R(Bs,fg),R(Bs,kh,null);let Fy=Bs;var Ph,no,io,wr,$1,W1,Q1;class NL{constructor(t){R(this,wr);R(this,Ph,null);R(this,no,null);R(this,io);_(this,io,t)}show(t,e,s){const[r,o]=x(this,wr,W1).call(this,e,s),{style:u}=h(this,no)||_(this,no,x(this,wr,$1).call(this));t.append(h(this,no)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,no).remove()}}Ph=new WeakMap,no=new WeakMap,io=new WeakMap,wr=new WeakSet,$1=function(){const t=_(this,no,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Di,{signal:h(this,io)._signal});const e=_(this,Ph,document.createElement("div"));return e.className="buttons",t.append(e),x(this,wr,Q1).call(this),t},W1=function(t,e){let s=0,r=0;for(const o of t){const u=o.y+o.height;if(u<s)continue;const d=o.x+(e?o.width:0);if(u>s){r=d,s=u;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},Q1=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,io)._signal;t.addEventListener("contextmenu",Di,{signal:s}),t.addEventListener("click",()=>{h(this,io).highlightSelection("floating_button")},{signal:s}),h(this,Ph).append(t)};function lg(c,t,e){for(const s of e)t.addEventListener(s,c[s].bind(c))}function kL(c){return Math.round(Math.min(255,Math.max(1,255*c))).toString(16).padStart(2,"0")}var pg;class PL{constructor(){R(this,pg,0)}get id(){return`${pL}${Tn(this,pg)._++}`}}pg=new WeakMap;var ac,Fh,bn,rc,Dp;const v0=class v0{constructor(){R(this,rc);R(this,ac,CL());R(this,Fh,0);R(this,bn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return It(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:o}=t;return x(this,rc,Dp).call(this,`${e}_${s}_${r}_${o}`,t)}async getFromUrl(t){return x(this,rc,Dp).call(this,t,t)}async getFromBlob(t,e){const s=await e;return x(this,rc,Dp).call(this,t,s)}async getFromId(t){h(this,bn)||_(this,bn,new Map);const e=h(this,bn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,bn)||_(this,bn,new Map);let s=h(this,bn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,ac)}_${Tn(this,Fh)._++}`,refCounter:1,isSvg:!1},h(this,bn).set(t,s),h(this,bn).set(s.id,s),s}getSvgUrl(t){const e=h(this,bn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,bn)||_(this,bn,new Map);const e=h(this,bn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,ac)}_`)}};ac=new WeakMap,Fh=new WeakMap,bn=new WeakMap,rc=new WeakSet,Dp=async function(t,e){h(this,bn)||_(this,bn,new Map);let s=h(this,bn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,ac)}_${Tn(this,Fh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Hg(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=v0._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},u.onload=async()=>{const y=s.svgUrl=u.result;d.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},d.onerror=u.onerror=m});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,bn).set(t,s),s&&h(this,bn).set(s.id,s),s};let Hy=v0;var Je,Wa,zh,tn;class FL{constructor(t=128){R(this,Je,[]);R(this,Wa,!1);R(this,zh);R(this,tn,-1);_(this,zh,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(r&&t(),h(this,Wa))return;const f={cmd:t,undo:e,post:s,type:o};if(h(this,tn)===-1){h(this,Je).length>0&&(h(this,Je).length=0),_(this,tn,0),h(this,Je).push(f);return}if(u&&h(this,Je)[h(this,tn)].type===o){d&&(f.undo=h(this,Je)[h(this,tn)].undo),h(this,Je)[h(this,tn)]=f;return}const g=h(this,tn)+1;g===h(this,zh)?h(this,Je).splice(0,1):(_(this,tn,g),g<h(this,Je).length&&h(this,Je).splice(g)),h(this,Je).push(f)}undo(){if(h(this,tn)===-1)return;_(this,Wa,!0);const{undo:t,post:e}=h(this,Je)[h(this,tn)];t(),e==null||e(),_(this,Wa,!1),_(this,tn,h(this,tn)-1)}redo(){if(h(this,tn)<h(this,Je).length-1){_(this,tn,h(this,tn)+1),_(this,Wa,!0);const{cmd:t,post:e}=h(this,Je)[h(this,tn)];t(),e==null||e(),_(this,Wa,!1)}}hasSomethingToUndo(){return h(this,tn)!==-1}hasSomethingToRedo(){return h(this,tn)<h(this,Je).length-1}destroy(){_(this,Je,null)}}Je=new WeakMap,Wa=new WeakMap,zh=new WeakMap,tn=new WeakMap;var gg,Z1;class Qd{constructor(t){R(this,gg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Dn.platform;for(const[s,r,o={}]of t)for(const u of s){const d=u.startsWith("mac+");e&&d?(this.callbacks.set(u.slice(4),{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1))):!e&&!d&&(this.callbacks.set(u,{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(x(this,gg,Z1).call(this,e));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:u=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...u,e)(),o||(e.stopPropagation(),e.preventDefault()))}}gg=new WeakSet,Z1=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const mg=class mg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return OL(t),It(this,"_colors",t)}convert(t){const e=l0(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((o,u)=>o===e[u]))return mg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?vt.makeHexColor(...e):t}};xt(mg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let jy=mg;var oc,ni,Ue,un,lc,Gs,cc,Hi,Qa,uc,so,is,ji,ao,Hh,jh,hc,Ih,ss,Za,dc,Ja,as,vg,tr,Uh,er,ro,Bh,qh,en,Wt,Vs,oo,Gh,Vh,nr,rs,Ys,Yh,_i,lt,Op,Iy,J1,tw,Np,ew,nw,iw,Uy,sw,By,qy,aw,Rn,Ya,rw,ow,Gy,lw,dh,Vy;const tc=class tc{constructor(t,e,s,r,o,u,d,f,g,m,y){R(this,lt);R(this,oc,new AbortController);R(this,ni,null);R(this,Ue,new Map);R(this,un,new Map);R(this,lc,null);R(this,Gs,null);R(this,cc,null);R(this,Hi,new FL);R(this,Qa,null);R(this,uc,0);R(this,so,new Set);R(this,is,null);R(this,ji,null);R(this,ao,new Set);R(this,Hh,!1);R(this,jh,!1);R(this,hc,!1);R(this,Ih,null);R(this,ss,null);R(this,Za,null);R(this,dc,null);R(this,Ja,!1);R(this,as,null);R(this,vg,new PL);R(this,tr,!1);R(this,Uh,!1);R(this,er,null);R(this,ro,null);R(this,Bh,null);R(this,qh,null);R(this,en,Lt.NONE);R(this,Wt,new Set);R(this,Vs,null);R(this,oo,null);R(this,Gh,null);R(this,Vh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,nr,[0,0]);R(this,rs,null);R(this,Ys,null);R(this,Yh,null);R(this,_i,null);const b=this._signal=h(this,oc).signal;_(this,Ys,t),_(this,Yh,e),_(this,lc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),x(this,lt,ew).call(this),x(this,lt,aw).call(this),x(this,lt,Uy).call(this),_(this,Gs,o.annotationStorage),_(this,Ih,o.filterFactory),_(this,oo,u),_(this,dc,d||null),_(this,Hh,f),_(this,jh,g),_(this,hc,m),_(this,qh,y||null),this.viewParameters={realScale:Er.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=tc.prototype,e=u=>h(u,Ys).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return It(this,"_keyboardManager",new Qd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Ys).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Ys).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,_i))==null||t.resolve(),_(this,_i,null),(e=h(this,oc))==null||e.abort(),_(this,oc,null),this._signal=null;for(const o of h(this,un).values())o.destroy();h(this,un).clear(),h(this,Ue).clear(),h(this,ao).clear(),_(this,ni,null),h(this,Wt).clear(),h(this,Hi).destroy(),(s=h(this,lc))==null||s.destroy(),(r=h(this,as))==null||r.hide(),_(this,as,null),h(this,ss)&&(clearTimeout(h(this,ss)),_(this,ss,null)),h(this,rs)&&(clearTimeout(h(this,rs)),_(this,rs,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,qh)}get useNewAltTextFlow(){return h(this,jh)}get useNewAltTextWhenAddingImage(){return h(this,hc)}get hcmFilter(){return It(this,"hcmFilter",h(this,oo)?h(this,Ih).addHCMFilter(h(this,oo).foreground,h(this,oo).background):"none")}get direction(){return It(this,"direction",getComputedStyle(h(this,Ys)).direction)}get highlightColors(){return It(this,"highlightColors",h(this,dc)?new Map(h(this,dc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return It(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,Bh,t)}editAltText(t,e=!1){var s;(s=h(this,lc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,hc,e);break}}onPageChanging({pageNumber:t}){_(this,uc,t-1)}focusMainContainer(){h(this,Ys).focus()}findParent(t,e){for(const s of h(this,un).values()){const{x:r,y:o,width:u,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=o&&e<=o+d)return s}return null}disableUserSelect(t=!1){h(this,Yh).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,ao).add(t)}removeShouldRescale(t){h(this,ao).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Er.PDF_TO_CSS_UNITS;for(const e of h(this,ao))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u}=e,d=e.toString(),g=x(this,lt,Op).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const y=x(this,lt,Iy).call(this,g),b=h(this,en)===Lt.NONE,A=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u,text:d}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Lt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Gs)&&!h(this,Gs).has(t.id)&&h(this,Gs).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Ja)&&(_(this,Ja,!1),x(this,lt,Np).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Wt))if(e.div.contains(t)){_(this,ro,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,ro))return;const[t,e]=h(this,ro);_(this,ro,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){x(this,lt,Uy).call(this),x(this,lt,By).call(this)}removeEditListeners(){x(this,lt,sw).call(this),x(this,lt,qy).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,ji))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,ji))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,ni))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Wt)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const u of h(this,ji))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Nt(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of s){const g=await r.deserialize(f);if(!g)return;o.push(g)}const u=()=>{for(const f of o)x(this,lt,Gy).call(this,f);x(this,lt,Vy).call(this,o)},d=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(o){Nt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,en)!==Lt.NONE&&!this.isEditorHandlingKeyboard&&tc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Ja)&&(_(this,Ja,!1),x(this,lt,Np).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(x(this,lt,nw).call(this),x(this,lt,By).call(this),x(this,lt,Rn).call(this,{isEditing:h(this,en)!==Lt.NONE,isEmpty:x(this,lt,dh).call(this),hasSomethingToUndo:h(this,Hi).hasSomethingToUndo(),hasSomethingToRedo:h(this,Hi).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,lt,iw).call(this),x(this,lt,qy).call(this),x(this,lt,Rn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,ji)){_(this,ji,t);for(const e of h(this,ji))x(this,lt,Ya).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,vg).id}get currentLayer(){return h(this,un).get(h(this,uc))}getLayer(t){return h(this,un).get(t)}get currentPageIndex(){return h(this,uc)}addLayer(t){h(this,un).set(t.pageIndex,t),h(this,tr)?t.enable():t.disable()}removeLayer(t){h(this,un).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,en)!==t&&!(h(this,_i)&&(await h(this,_i).promise,!h(this,_i)))){if(_(this,_i,Promise.withResolvers()),_(this,en,t),t===Lt.NONE){this.setEditingState(!1),x(this,lt,ow).call(this),h(this,_i).resolve();return}this.setEditingState(!0),await x(this,lt,rw).call(this),this.unselectAll();for(const r of h(this,un).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,_i).resolve();return}for(const r of h(this,Ue).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,_i).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,en)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,ji)){switch(t){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,Bh))==null||s.updateColor(e);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Gh)||_(this,Gh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Wt))r.updateParams(t,e);for(const r of h(this,ji))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var o;for(const u of h(this,Ue).values())u.editorType===t&&u.show(e);(((o=h(this,Gh))==null?void 0:o.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&x(this,lt,Ya).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Uh)!==t){_(this,Uh,t);for(const e of h(this,un).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,Ue).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,Ue).get(t)}addEditor(t){h(this,Ue).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,ss)&&clearTimeout(h(this,ss)),_(this,ss,setTimeout(()=>{this.focusMainContainer(),_(this,ss,null)},0))),h(this,Ue).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,so).has(t.annotationElementId))&&((e=h(this,Gs))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,so).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,so).has(t)}removeDeletedAnnotationElement(t){h(this,so).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,ni)!==t&&(_(this,ni,t),t&&x(this,lt,Ya).call(this,t.propertiesToUpdate))}updateUI(t){h(this,lt,lw)===t&&x(this,lt,Ya).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Wt).has(t)){h(this,Wt).delete(t),t.unselect(),x(this,lt,Rn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Wt).add(t),t.select(),x(this,lt,Ya).call(this,t.propertiesToUpdate),x(this,lt,Rn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Wt))e!==t&&e.unselect();h(this,Wt).clear(),h(this,Wt).add(t),t.select(),x(this,lt,Ya).call(this,t.propertiesToUpdate),x(this,lt,Rn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Wt).has(t)}get firstSelectedEditor(){return h(this,Wt).values().next().value}unselect(t){t.unselect(),h(this,Wt).delete(t),x(this,lt,Rn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Wt).size!==0}get isEnterHandled(){return h(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Hi).undo(),x(this,lt,Rn).call(this,{hasSomethingToUndo:h(this,Hi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,lt,dh).call(this)})}redo(){h(this,Hi).redo(),x(this,lt,Rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Hi).hasSomethingToRedo(),isEmpty:x(this,lt,dh).call(this)})}addCommands(t){h(this,Hi).add(t),x(this,lt,Rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,lt,dh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Wt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)x(this,lt,Gy).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,ni))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,ni)||this.hasSelection}selectAll(){for(const t of h(this,Wt))t.commit();x(this,lt,Vy).call(this,h(this,Ue).values())}unselectAll(){if(!(h(this,ni)&&(h(this,ni).commitOrRemove(),h(this,en)!==Lt.NONE))&&this.hasSelection){for(const t of h(this,Wt))t.unselect();h(this,Wt).clear(),x(this,lt,Rn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,nr)[0]+=t,h(this,nr)[1]+=e;const[r,o]=h(this,nr),u=[...h(this,Wt)],d=1e3;h(this,rs)&&clearTimeout(h(this,rs)),_(this,rs,setTimeout(()=>{_(this,rs,null),h(this,nr)[0]=h(this,nr)[1]=0,this.addCommands({cmd:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},d));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,is,new Map);for(const t of h(this,Wt))h(this,is).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,is))return!1;this.disableUserSelect(!1);const t=h(this,is);_(this,is,null);let e=!1;for(const[{x:r,y:o,pageIndex:u},d]of t)d.newX=r,d.newY=o,d.newPageIndex=u,e||(e=r!==d.savedX||o!==d.savedY||u!==d.savedPageIndex);if(!e)return!1;const s=(r,o,u,d)=>{if(h(this,Ue).has(r.id)){const f=h(this,un).get(d);f?r._setParentAndPosition(f,o,u):(r.pageIndex=d,r.x=o,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:u,newPageIndex:d}]of t)s(r,o,u,d)},undo:()=>{for(const[r,{savedX:o,savedY:u,savedPageIndex:d}]of t)s(r,o,u,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,is))for(const s of h(this,is).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,ni)===t}getActive(){return h(this,ni)}getMode(){return h(this,en)}get imageManager(){return It(this,"imageManager",new Hy)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:u}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,y,b)=>({x:(m-r)/u,y:1-(g+y-s)/o,width:b/u,height:y/o});break;case"180":d=(g,m,y,b)=>({x:1-(g+y-s)/o,y:1-(m+b-r)/u,width:y/o,height:b/u});break;case"270":d=(g,m,y,b)=>({x:1-(m+b-r)/u,y:(g-s)/o,width:b/u,height:y/o});break;default:d=(g,m,y,b)=>({x:(g-s)/o,y:(m-r)/u,width:y/o,height:b/u});break}const f=[];for(let g=0,m=e.rangeCount;g<m;g++){const y=e.getRangeAt(g);if(!y.collapsed)for(const{x:b,y:A,width:E,height:w}of y.getClientRects())E===0||w===0||f.push(d(b,A,E,w))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,cc)||_(this,cc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,cc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,cc))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,Gs).getRawValue(e);s&&(h(this,en)===Lt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};oc=new WeakMap,ni=new WeakMap,Ue=new WeakMap,un=new WeakMap,lc=new WeakMap,Gs=new WeakMap,cc=new WeakMap,Hi=new WeakMap,Qa=new WeakMap,uc=new WeakMap,so=new WeakMap,is=new WeakMap,ji=new WeakMap,ao=new WeakMap,Hh=new WeakMap,jh=new WeakMap,hc=new WeakMap,Ih=new WeakMap,ss=new WeakMap,Za=new WeakMap,dc=new WeakMap,Ja=new WeakMap,as=new WeakMap,vg=new WeakMap,tr=new WeakMap,Uh=new WeakMap,er=new WeakMap,ro=new WeakMap,Bh=new WeakMap,qh=new WeakMap,en=new WeakMap,Wt=new WeakMap,Vs=new WeakMap,oo=new WeakMap,Gh=new WeakMap,Vh=new WeakMap,nr=new WeakMap,rs=new WeakMap,Ys=new WeakMap,Yh=new WeakMap,_i=new WeakMap,lt=new WeakSet,Op=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Iy=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,un).values())if(s.hasTextLayer(t))return s;return null},J1=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=x(this,lt,Op).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,as)||_(this,as,new NL(this)),h(this,as).show(s,r,this.direction==="ltr"))},tw=function(){var o,u,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Vs)&&((o=h(this,as))==null||o.hide(),_(this,Vs,null),x(this,lt,Rn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Vs))return;const r=x(this,lt,Op).call(this,t).closest(".textLayer");if(!r){h(this,Vs)&&((u=h(this,as))==null||u.hide(),_(this,Vs,null),x(this,lt,Rn).call(this,{hasSelectedText:!1}));return}if((d=h(this,as))==null||d.hide(),_(this,Vs,e),x(this,lt,Rn).call(this,{hasSelectedText:!0}),!(h(this,en)!==Lt.HIGHLIGHT&&h(this,en)!==Lt.NONE)&&(h(this,en)===Lt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Ja,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=h(this,en)===Lt.HIGHLIGHT?x(this,lt,Iy).call(this,r):null;f==null||f.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),y=b=>{b.type==="pointerup"&&b.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&x(this,lt,Np).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},Np=function(t=""){h(this,en)===Lt.HIGHLIGHT?this.highlightSelection(t):h(this,Hh)&&x(this,lt,J1).call(this)},ew=function(){document.addEventListener("selectionchange",x(this,lt,tw).bind(this),{signal:this._signal})},nw=function(){if(h(this,Za))return;_(this,Za,new AbortController);const t=this.combinedSignal(h(this,Za));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},iw=function(){var t;(t=h(this,Za))==null||t.abort(),_(this,Za,null)},Uy=function(){if(h(this,er))return;_(this,er,new AbortController);const t=this.combinedSignal(h(this,er));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},sw=function(){var t;(t=h(this,er))==null||t.abort(),_(this,er,null)},By=function(){if(h(this,Qa))return;_(this,Qa,new AbortController);const t=this.combinedSignal(h(this,Qa));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},qy=function(){var t;(t=h(this,Qa))==null||t.abort(),_(this,Qa,null)},aw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Rn=function(t){Object.entries(t).some(([s,r])=>h(this,Vh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Vh),t)}),h(this,en)===Lt.HIGHLIGHT&&t.hasSelectedEditor===!1&&x(this,lt,Ya).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},Ya=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},rw=async function(){if(!h(this,tr)){_(this,tr,!0);const t=[];for(const e of h(this,un).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,Ue).values())e.enable()}},ow=function(){if(this.unselectAll(),h(this,tr)){_(this,tr,!1);for(const t of h(this,un).values())t.disable();for(const t of h(this,Ue).values())t.disable()}},Gy=function(t){const e=h(this,un).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},lw=function(){let t=null;for(t of h(this,Wt));return t},dh=function(){if(h(this,Ue).size===0)return!0;if(h(this,Ue).size===1)for(const t of h(this,Ue).values())return t.isEmpty();return!1},Vy=function(t){for(const e of h(this,Wt))e.unselect();h(this,Wt).clear();for(const e of t)e.isEmpty()||(h(this,Wt).add(e),e.select());x(this,lt,Rn).call(this,{hasSelectedEditor:this.hasSelection})},xt(tc,"TRANSLATE_SMALL",1),xt(tc,"TRANSLATE_BIG",10);let Zo=tc;var nn,os,Ii,fc,ls,ii,pc,cs,Bn,Xs,lo,us,ir,Wi,fh,kp;const Mn=class Mn{constructor(t){R(this,Wi);R(this,nn,null);R(this,os,!1);R(this,Ii,null);R(this,fc,null);R(this,ls,null);R(this,ii,null);R(this,pc,!1);R(this,cs,null);R(this,Bn,null);R(this,Xs,null);R(this,lo,null);R(this,us,!1);_(this,Bn,t),_(this,us,t._uiManager.useNewAltTextFlow),h(Mn,ir)||_(Mn,ir,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Mn._l10n??(Mn._l10n=t)}async render(){const t=_(this,Ii,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=_(this,fc,document.createElement("span"));t.append(e),h(this,us)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Mn,ir).missing),e.setAttribute("data-l10n-id",h(Mn,ir)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,Bn)._uiManager._signal;t.addEventListener("contextmenu",Di,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),h(this,Bn)._uiManager.editAltText(h(this,Bn)),h(this,us)&&h(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Wi,fh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(_(this,pc,!0),r(o))},{signal:s}),await x(this,Wi,kp).call(this),t}finish(){h(this,Ii)&&(h(this,Ii).focus({focusVisible:h(this,pc)}),_(this,pc,!1))}isEmpty(){return h(this,us)?h(this,nn)===null:!h(this,nn)&&!h(this,os)}hasData(){return h(this,us)?h(this,nn)!==null||!!h(this,Xs):this.isEmpty()}get guessedText(){return h(this,Xs)}async setGuessedText(t){h(this,nn)===null&&(_(this,Xs,t),_(this,lo,await Mn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),x(this,Wi,kp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,us)||h(this,nn)){(e=h(this,cs))==null||e.remove(),_(this,cs,null);return}if(!h(this,cs)){const s=_(this,cs,document.createElement("div"));s.className="noAltTextBadge",h(this,Bn).div.append(s)}h(this,cs).classList.toggle("hidden",!t)}serialize(t){let e=h(this,nn);return!t&&h(this,Xs)===e&&(e=h(this,lo)),{altText:e,decorative:h(this,os),guessedText:h(this,Xs),textWithDisclaimer:h(this,lo)}}get data(){return{altText:h(this,nn),decorative:h(this,os)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(_(this,Xs,s),_(this,lo,r)),!(h(this,nn)===t&&h(this,os)===e)&&(o||(_(this,nn,t),_(this,os,e)),x(this,Wi,kp).call(this))}toggle(t=!1){h(this,Ii)&&(!t&&h(this,ii)&&(clearTimeout(h(this,ii)),_(this,ii,null)),h(this,Ii).disabled=!t)}shown(){h(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Wi,fh)}})}destroy(){var t,e;(t=h(this,Ii))==null||t.remove(),_(this,Ii,null),_(this,fc,null),_(this,ls,null),(e=h(this,cs))==null||e.remove(),_(this,cs,null)}};nn=new WeakMap,os=new WeakMap,Ii=new WeakMap,fc=new WeakMap,ls=new WeakMap,ii=new WeakMap,pc=new WeakMap,cs=new WeakMap,Bn=new WeakMap,Xs=new WeakMap,lo=new WeakMap,us=new WeakMap,ir=new WeakMap,Wi=new WeakSet,fh=function(){return h(this,nn)&&"added"||h(this,nn)===null&&this.guessedText&&"review"||"missing"},kp=async function(){var r,o,u;const t=h(this,Ii);if(!t)return;if(h(this,us)){if(t.classList.toggle("done",!!h(this,nn)),t.setAttribute("data-l10n-id",h(Mn,ir)[h(this,Wi,fh)]),(r=h(this,fc))==null||r.setAttribute("data-l10n-id",h(Mn,ir)[`${h(this,Wi,fh)}-label`]),!h(this,nn)){(o=h(this,ls))==null||o.remove();return}}else{if(!h(this,nn)&&!h(this,os)){t.classList.remove("done"),(u=h(this,ls))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,ls);if(!e){_(this,ls,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Bn).id}`;const d=100,f=h(this,Bn)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(h(this,ii)),_(this,ii,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,ii,setTimeout(()=>{_(this,ii,null),h(this,ls).classList.add("show"),h(this,Bn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var g;h(this,ii)&&(clearTimeout(h(this,ii)),_(this,ii,null)),(g=h(this,ls))==null||g.classList.remove("show")},{signal:f})}h(this,os)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,nn)),e.parentNode||t.append(e);const s=h(this,Bn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},R(Mn,ir,null),xt(Mn,"_l10n",null);let cg=Mn;var co,Ui,me,gc,uo,hn,ho,sr,Xh,fo,ar,Kh,po,Ks,hs,mc,vc,wi,$h,yg,Dt,Yy,Wh,Xy,Ky,cw,uw,$y,Wy,Qy,hw,Zy,dw,fw,pw,Jy,ph;const Xt=class Xt{constructor(t){R(this,Dt);R(this,co,null);R(this,Ui,null);R(this,me,null);R(this,gc,!1);R(this,uo,!1);R(this,hn,null);R(this,ho,null);R(this,sr,null);R(this,Xh,"");R(this,fo,!1);R(this,ar,null);R(this,Kh,!1);R(this,po,!1);R(this,Ks,!1);R(this,hs,null);R(this,mc,0);R(this,vc,0);R(this,wi,null);xt(this,"_editToolbar",null);xt(this,"_initialOptions",Object.create(null));xt(this,"_initialData",null);xt(this,"_isVisible",!0);xt(this,"_uiManager",null);xt(this,"_focusEventsAllowed",!0);R(this,$h,!1);R(this,yg,Xt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,u];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Xt.prototype._resizeWithKeyboard,e=Zo.TRANSLATE_SMALL,s=Zo.TRANSLATE_BIG;return It(this,"_resizerKeyboardManager",new Qd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Xt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return It(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new zL({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Xt._l10n??(Xt._l10n=t),Xt._l10nResizer||(Xt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Xt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Xt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,$h)}set _isDraggable(t){var e;_(this,$h,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,yg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):x(this,Dt,ph).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,fo)?_(this,fo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[o,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){x(this,Dt,Yy).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,ar)||_(this,ar,[this.x,this.y]),x(this,Dt,Yy).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,ar)||_(this,ar,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[d,f]=this.getBaseTranslation();o+=d,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,ar)&&(h(this,ar)[0]!==this.x||h(this,ar)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Xt,r=s/t,o=s/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:o,width:u,height:d}=this;if(u*=e,d*=s,r*=e,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(e-d,r)),o=Math.min(s,Math.max(u,o));break;case 180:r=Math.min(e,Math.max(u,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(e,Math.max(d,r)),o=Math.max(0,Math.min(s-u,o));break}this.x=r/=e,this.y=o/=s;const[f,g]=this.getBaseTranslation();r+=f,o+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return x(s=Xt,Wh,Xy).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return x(s=Xt,Wh,Xy).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,uo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),o=!h(this,uo)&&e.endsWith("%");if(r&&o)return;const[u,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!h(this,uo)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,me))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,po)?this._editToolbar:(this._editToolbar=new Fy(this),this.div.append(this._editToolbar.render()),h(this,me)&&await this._editToolbar.addAltText(h(this,me)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,me))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,me)||(cg.initialize(Xt._l10n),_(this,me,new cg(this)),h(this,co)&&(h(this,me).data=h(this,co),_(this,co,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,me))==null?void 0:t.data}set altTextData(t){h(this,me)&&(h(this,me).data=t)}get guessedAltText(){var t;return(t=h(this,me))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,me))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,me))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,me)&&!h(this,me).isEmpty()}hasAltTextData(){var t;return((t=h(this,me))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,gc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),x(this,Dt,Zy).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),lg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Dn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,fo,!0),this._isDraggable){x(this,Dt,hw).call(this,t);return}x(this,Dt,Qy).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,hs)&&clearTimeout(h(this,hs)),_(this,hs,setTimeout(()=>{var t;_(this,hs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[o,u]=this.pageDimensions,[d,f]=this.pageTranslation,g=t/r,m=e/r,y=this.x*o,b=this.y*u,A=this.width*o,E=this.height*u;switch(s){case 0:return[y+g+d,u-b-m-E+f,y+g+A+d,u-b-m+f];case 90:return[y+m+d,u-b+g+f,y+m+E+d,u-b+g+A+f];case 180:return[y-g-A+d,u-b+m+f,y-g+d,u-b+m+E+f];case 270:return[y-m-E+d,u-b-g-A+f,y-m+d,u-b-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,o,u]=t,d=o-s,f=u-r;switch(this.rotation){case 0:return[s,e-u,d,f];case 90:return[s,e-r,f,d];case 180:return[o,e-r,d,f];case 270:return[o,e-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,po,!0)}disableEditMode(){_(this,po,!1)}isInEditMode(){return h(this,po)}shouldGetKeyboardEvents(){return h(this,Ks)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){x(this,Dt,Zy).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,_(r,co,t.accessibilityData);const[o,u]=r.pageDimensions,[d,f,g,m]=r.getRectInCurrentCoords(t.rect,u);return r.x=d/o,r.y=f/u,r.width=g/o,r.height=m/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,sr))==null||t.abort(),_(this,sr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,hs)&&(clearTimeout(h(this,hs)),_(this,hs,null)),x(this,Dt,ph).call(this),this.removeEditToolbar(),h(this,wi)){for(const e of h(this,wi).values())clearTimeout(e);_(this,wi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,Dt,cw).call(this),h(this,hn).classList.remove("hidden"),lg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,ho,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,hn).children;if(!h(this,Ui)){_(this,Ui,Array.from(e));const u=x(this,Dt,dw).bind(this),d=x(this,Dt,fw).bind(this),f=this._uiManager._signal;for(const g of h(this,Ui)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",u,{signal:f}),g.addEventListener("blur",d,{signal:f}),g.addEventListener("focus",x(this,Dt,pw).bind(this,m),{signal:f}),g.setAttribute("data-l10n-id",Xt._l10nResizer[m])}}const s=h(this,Ui)[0];let r=0;for(const u of e){if(u===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ui).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)h(this,hn).append(h(this,hn).firstChild);else if(o>r)for(let d=0;d<o-r;d++)h(this,hn).firstChild.before(h(this,hn).lastChild);let u=0;for(const d of e){const g=h(this,Ui)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Xt._l10nResizer[g])}}x(this,Dt,Jy).call(this,0),_(this,Ks,!0),h(this,hn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Ks)&&x(this,Dt,Wy).call(this,h(this,Xh),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){x(this,Dt,ph).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,me))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,o;(t=h(this,hn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=h(this,me))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,Kh)}set isEditing(t){_(this,Kh,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,uo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,wi)||_(this,wi,new Map);const{action:s}=t;let r=h(this,wi).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,wi).delete(s),h(this,wi).size===0&&_(this,wi,null)},Xt._telemetryTimeout),h(this,wi).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,gc,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,gc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};co=new WeakMap,Ui=new WeakMap,me=new WeakMap,gc=new WeakMap,uo=new WeakMap,hn=new WeakMap,ho=new WeakMap,sr=new WeakMap,Xh=new WeakMap,fo=new WeakMap,ar=new WeakMap,Kh=new WeakMap,po=new WeakMap,Ks=new WeakMap,hs=new WeakMap,mc=new WeakMap,vc=new WeakMap,wi=new WeakMap,$h=new WeakMap,yg=new WeakMap,Dt=new WeakSet,Yy=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},Wh=new WeakSet,Xy=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Ky=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},cw=function(){if(h(this,hn))return;_(this,hn,document.createElement("div")),h(this,hn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,hn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",x(this,Dt,uw).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Di,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,hn))},uw=function(t,e){var E;e.preventDefault();const{isMac:s}=Dn.platform;if(e.button!==0||e.ctrlKey&&s)return;(E=h(this,me))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",x(this,Dt,Wy).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",Di,{signal:u});const d=this.x,f=this.y,g=this.width,m=this.height,y=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var w;o.abort(),this.parent.togglePointerEvents(!0),(w=h(this,me))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=b,x(this,Dt,$y).call(this,d,f,g,m)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},$y=function(t,e,s,r){const o=this.x,u=this.y,d=this.width,f=this.height;o===t&&u===e&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=o,this.y=u;const[g,m]=this.parentDimensions;this.setDims(g*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},Wy=function(t,e){const[s,r]=this.parentDimensions,o=this.x,u=this.y,d=this.width,f=this.height,g=Xt.MIN_SIZE/s,m=Xt.MIN_SIZE/r,y=X=>Math.round(X*1e4)/1e4,b=x(this,Dt,Ky).call(this,this.rotation),A=(X,et)=>[b[0]*X+b[2]*et,b[1]*X+b[3]*et],E=x(this,Dt,Ky).call(this,360-this.rotation),w=(X,et)=>[E[0]*X+E[2]*et,E[1]*X+E[3]*et];let M,T,D=!1,N=!1;switch(t){case"topLeft":D=!0,M=(X,et)=>[0,0],T=(X,et)=>[X,et];break;case"topMiddle":M=(X,et)=>[X/2,0],T=(X,et)=>[X/2,et];break;case"topRight":D=!0,M=(X,et)=>[X,0],T=(X,et)=>[0,et];break;case"middleRight":N=!0,M=(X,et)=>[X,et/2],T=(X,et)=>[0,et/2];break;case"bottomRight":D=!0,M=(X,et)=>[X,et],T=(X,et)=>[0,0];break;case"bottomMiddle":M=(X,et)=>[X/2,et],T=(X,et)=>[X/2,0];break;case"bottomLeft":D=!0,M=(X,et)=>[0,et],T=(X,et)=>[X,0];break;case"middleLeft":N=!0,M=(X,et)=>[0,et/2],T=(X,et)=>[X,et/2];break}const k=M(d,f),j=T(d,f);let q=A(...j);const K=y(o+q[0]),Z=y(u+q[1]);let nt=1,at=1,[st,mt]=this.screenToPageTranslation(e.movementX,e.movementY);if([st,mt]=w(st/s,mt/r),D){const X=Math.hypot(d,f);nt=at=Math.max(Math.min(Math.hypot(j[0]-k[0]-st,j[1]-k[1]-mt)/X,1/d,1/f),g/d,m/f)}else N?nt=Math.max(g,Math.min(1,Math.abs(j[0]-k[0]-st)))/d:at=Math.max(m,Math.min(1,Math.abs(j[1]-k[1]-mt)))/f;const ft=y(d*nt),pt=y(f*at);q=A(...T(ft,pt));const dt=K-q[0],F=Z-q[1];this.width=ft,this.height=pt,this.x=dt,this.y=F,this.setDims(s*ft,r*pt),this.fixAndSetPosition()},Qy=function(t){const{isMac:e}=Dn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},hw=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),_(this,mc,t.clientX),_(this,vc,t.clientY);const u=d=>{const{clientX:f,clientY:g}=d,[m,y]=this.screenToPageTranslation(f-h(this,mc),g-h(this,vc));_(this,mc,f),_(this,vc,g),this._uiManager.dragSelectedEditors(m,y)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),e&&this.div.classList.remove("moving"),_(this,fo,!1),this._uiManager.endDragSession()||x(this,Dt,Qy).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Zy=function(){if(h(this,sr)||!this.div)return;_(this,sr,new AbortController);const t=this._uiManager.combinedSignal(h(this,sr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},dw=function(t){Xt._resizerKeyboardManager.exec(this,t)},fw=function(t){var e;h(this,Ks)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,hn)&&x(this,Dt,ph).call(this)},pw=function(t){_(this,Xh,h(this,Ks)?t:"")},Jy=function(t){if(h(this,Ui))for(const e of h(this,Ui))e.tabIndex=t},ph=function(){if(_(this,Ks,!1),x(this,Dt,Jy).call(this,-1),h(this,ho)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,ho);x(this,Dt,$y).call(this,t,e,s,r),_(this,ho,null)}},R(Xt,Wh),xt(Xt,"_l10n",null),xt(Xt,"_l10nResizer",null),xt(Xt,"_borderLineWidth",-1),xt(Xt,"_colorManager",new jy),xt(Xt,"_zIndex",1),xt(Xt,"_telemetryTimeout",1e3);let Zt=Xt;class zL extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const G_=3285377520,Ei=4294901760,ns=65535;class gw{constructor(t){this.h1=t?t&4294967295:G_,this.h2=t?t&4294967295:G_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let w=0,M=t.length;w<M;w++){const T=t.charCodeAt(w);T<=255?e[s++]=T:(e[s++]=T>>>8,e[s++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,u=new Uint32Array(e.buffer,0,r);let d=0,f=0,g=this.h1,m=this.h2;const y=3432918353,b=461845907,A=y&ns,E=b&ns;for(let w=0;w<r;w++)w&1?(d=u[w],d=d*y&Ei|d*A&ns,d=d<<15|d>>>17,d=d*b&Ei|d*E&ns,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(f=u[w],f=f*y&Ei|f*A&ns,f=f<<15|f>>>17,f=f*b&Ei|f*E&ns,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*y&Ei|d*A&ns,d=d<<15|d>>>17,d=d*b&Ei|d*E&ns,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ei|t*36045&ns,e=e*4283543511&Ei|((e<<16|t>>>16)*2950163797&Ei)>>>16,t^=e>>>1,t=t*444984403&Ei|t*60499&ns,e=e*3301882366&Ei|((e<<16|t>>>16)*3120437893&Ei)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const tb=Object.freeze({map:null,hash:"",transfer:void 0});var go,mo,sn,bg,mw;class c0{constructor(){R(this,bg);R(this,go,!1);R(this,mo,null);R(this,sn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,sn).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,sn).get(t)}remove(t){if(h(this,sn).delete(t),h(this,sn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,sn).values())if(e instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,sn).get(t);let r=!1;if(s!==void 0)for(const[o,u]of Object.entries(e))s[o]!==u&&(r=!0,s[o]=u);else r=!0,h(this,sn).set(t,e);r&&x(this,bg,mw).call(this),e instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,sn).has(t)}getAll(){return h(this,sn).size>0?i0(h(this,sn)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,sn).size}resetModified(){h(this,go)&&(_(this,go,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vw(this)}get serializable(){if(h(this,sn).size===0)return tb;const t=new Map,e=new gw,s=[],r=Object.create(null);let o=!1;for(const[u,d]of h(this,sn)){const f=d instanceof Zt?d.serialize(!1,r):d;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:tb}get editorStats(){let t=null;const e=new Map;for(const s of h(this,sn).values()){if(!(s instanceof Zt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const u=t[o]||(t[o]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let g=u.get(d);g||(g=new Map,u.set(d,g));const m=g.get(f)??0;g.set(f,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,mo,null)}get modifiedIds(){if(h(this,mo))return h(this,mo);const t=[];for(const e of h(this,sn).values())!(e instanceof Zt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,mo,{ids:new Set(t),hash:t.join(",")})}}go=new WeakMap,mo=new WeakMap,sn=new WeakMap,bg=new WeakSet,mw=function(){h(this,go)||(_(this,go,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Qh;class vw extends c0{constructor(e){super();R(this,Qh);const{map:s,hash:r,transfer:o}=e.serializable,u=structuredClone(s,o?{transfer:o}:null);_(this,Qh,{map:u,hash:r,transfer:o})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Qh)}get modifiedIds(){return It(this,"modifiedIds",{ids:new Set,hash:""})}}Qh=new WeakMap;var yc;class HL{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){R(this,yc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,yc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,yc).has(t.loadedName))){if(Ge(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,u=new FontFace(s,r,o);this.addNativeFontFace(u);try{await u.load(),h(this,yc).add(s),e==null||e(t)}catch{Nt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Nt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return It(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(wn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),It(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ge(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return It(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(k,j){return k.charCodeAt(j)<<24|k.charCodeAt(j+1)<<16|k.charCodeAt(j+2)<<8|k.charCodeAt(j+3)&255}function r(k,j,q,K){const Z=k.substring(0,j),nt=k.substring(j+q);return Z+K+nt}let o,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let g=0;function m(k,j){if(++g>30){Nt("Load test font never loaded."),j();return}if(f.font="30px "+k,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(m.bind(null,k,j))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,y.length,y);const E=16,w=1482184792;let M=s(b,E);for(o=0,u=y.length-3;o<u;o+=4)M=M-w+s(y,o)|0;o<y.length&&(M=M-w+s(y+"XXX",o)|0),b=r(b,E,4,EL(M));const T=`url(data:font/opentype;base64,${btoa(b)});`,D=`@font-face {font-family:"${y}";src:${T}}`;this.insertRule(D);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const k of[t.loadedName,y]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=k,N.append(j)}this._document.body.append(N),m(y,()=>{N.remove(),e.complete()})}}yc=new WeakMap;class jL{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${RL(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(o){Nt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(o,u){};const r=[];for(let o=0,u=s.length;o<u;)switch(s[o++]){case js.BEZIER_CURVE_TO:{const[d,f,g,m,y,b]=s.slice(o,o+6);r.push(A=>A.bezierCurveTo(d,f,g,m,y,b)),o+=6}break;case js.MOVE_TO:{const[d,f]=s.slice(o,o+2);r.push(g=>g.moveTo(d,f)),o+=2}break;case js.LINE_TO:{const[d,f]=s.slice(o,o+2);r.push(g=>g.lineTo(d,f)),o+=2}break;case js.QUADRATIC_CURVE_TO:{const[d,f,g,m]=s.slice(o,o+4);r.push(y=>y.quadraticCurveTo(d,f,g,m)),o+=4}break;case js.RESTORE:r.push(d=>d.restore());break;case js.SAVE:r.push(d=>d.save());break;case js.SCALE:Ge(r.length===2,"Scale command is only valid at the third position.");break;case js.TRANSFORM:{const[d,f,g,m,y,b]=s.slice(o,o+6);r.push(A=>A.transform(d,f,g,m,y,b)),o+=6}break;case js.TRANSLATE:{const[d,f]=s.slice(o,o+2);r.push(g=>g.translate(d,f)),o+=2}break}return this.compiledGlyphs[e]=function(u,d){r[0](u),r[1](u),u.scale(d,-d);for(let f=2,g=r.length;f<g;f++)r[f](u)}}}var Zh;class yw{constructor({enableHWA:t=!1}){R(this,Zh,!1);_(this,Zh,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,Zh)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}Zh=new WeakMap;class IL extends yw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class bw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class Aw extends bw{async _fetch(t){const e=await Hg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):zg(e)}}class Sw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,o){return"none"}destroy(t=!1){}}var vo,yo,ds,$s,An,Ag,bo,ut,yn,Yl,Xl,Pp,Kl,Ew,eb,$l,gh,mh,nb,vh;class UL extends Sw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();R(this,ut);R(this,vo);R(this,yo);R(this,ds);R(this,$s);R(this,An);R(this,Ag);R(this,bo,0);_(this,$s,e),_(this,An,s)}addFilter(e){if(!e)return"none";let s=h(this,ut,yn).get(e);if(s)return s;const[r,o,u]=x(this,ut,Pp).call(this,e),d=e.length===1?r:`${r}${o}${u}`;if(s=h(this,ut,yn).get(d),s)return h(this,ut,yn).set(e,s),s;const f=`g_${h(this,$s)}_transfer_map_${Tn(this,bo)._++}`,g=x(this,ut,Kl).call(this,f);h(this,ut,yn).set(e,g),h(this,ut,yn).set(d,g);const m=x(this,ut,$l).call(this,f);return x(this,ut,mh).call(this,r,o,u,m),g}addHCMFilter(e,s){var E;const r=`${e}-${s}`,o="base";let u=h(this,ut,Yl).get(o);if((u==null?void 0:u.key)===r||(u?((E=u.filter)==null||E.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},h(this,ut,Yl).set(o,u)),!e||!s))return u.url;const d=x(this,ut,vh).call(this,e);e=vt.makeHexColor(...d);const f=x(this,ut,vh).call(this,s);if(s=vt.makeHexColor(...f),h(this,ut,Xl).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return u.url;const g=new Array(256);for(let w=0;w<=255;w++){const M=w/255;g[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),y=`g_${h(this,$s)}_hcm_filter`,b=u.filter=x(this,ut,$l).call(this,y);x(this,ut,mh).call(this,m,m,m,b),x(this,ut,eb).call(this,b);const A=(w,M)=>{const T=d[w]/255,D=f[w]/255,N=new Array(M+1);for(let k=0;k<=M;k++)N[k]=T+k/M*(D-T);return N.join(",")};return x(this,ut,mh).call(this,A(0,5),A(1,5),A(2,5),b),u.url=x(this,ut,Kl).call(this,y),u.url}addAlphaFilter(e){let s=h(this,ut,yn).get(e);if(s)return s;const[r]=x(this,ut,Pp).call(this,[e]),o=`alpha_${r}`;if(s=h(this,ut,yn).get(o),s)return h(this,ut,yn).set(e,s),s;const u=`g_${h(this,$s)}_alpha_map_${Tn(this,bo)._++}`,d=x(this,ut,Kl).call(this,u);h(this,ut,yn).set(e,d),h(this,ut,yn).set(o,d);const f=x(this,ut,$l).call(this,u);return x(this,ut,nb).call(this,r,f),d}addLuminosityFilter(e){let s=h(this,ut,yn).get(e||"luminosity");if(s)return s;let r,o;if(e?([r]=x(this,ut,Pp).call(this,[e]),o=`luminosity_${r}`):o="luminosity",s=h(this,ut,yn).get(o),s)return h(this,ut,yn).set(e,s),s;const u=`g_${h(this,$s)}_luminosity_map_${Tn(this,bo)._++}`,d=x(this,ut,Kl).call(this,u);h(this,ut,yn).set(e,d),h(this,ut,yn).set(o,d);const f=x(this,ut,$l).call(this,u);return x(this,ut,Ew).call(this,f),e&&x(this,ut,nb).call(this,r,f),d}addHighlightHCMFilter(e,s,r,o,u){var D;const d=`${s}-${r}-${o}-${u}`;let f=h(this,ut,Yl).get(e);if((f==null?void 0:f.key)===d||(f?((D=f.filter)==null||D.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},h(this,ut,Yl).set(e,f)),!s||!r))return f.url;const[g,m]=[s,r].map(x(this,ut,vh).bind(this));let y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,E]=[o,u].map(x(this,ut,vh).bind(this));b<y&&([y,b,A,E]=[b,y,E,A]),h(this,ut,Xl).style.color="";const w=(N,k,j)=>{const q=new Array(256),K=(b-y)/j,Z=N/255,nt=(k-N)/(255*j);let at=0;for(let st=0;st<=j;st++){const mt=Math.round(y+st*K),ft=Z+st*nt;for(let pt=at;pt<=mt;pt++)q[pt]=ft;at=mt+1}for(let st=at;st<256;st++)q[st]=q[at-1];return q.join(",")},M=`g_${h(this,$s)}_hcm_${e}_filter`,T=f.filter=x(this,ut,$l).call(this,M);return x(this,ut,eb).call(this,T),x(this,ut,mh).call(this,w(A[0],E[0],5),w(A[1],E[1],5),w(A[2],E[2],5),T),f.url=x(this,ut,Kl).call(this,M),f.url}destroy(e=!1){e&&h(this,ut,Yl).size!==0||(h(this,ds)&&(h(this,ds).parentNode.parentNode.remove(),_(this,ds,null)),h(this,yo)&&(h(this,yo).clear(),_(this,yo,null)),_(this,bo,0))}}vo=new WeakMap,yo=new WeakMap,ds=new WeakMap,$s=new WeakMap,An=new WeakMap,Ag=new WeakMap,bo=new WeakMap,ut=new WeakSet,yn=function(){return h(this,yo)||_(this,yo,new Map)},Yl=function(){return h(this,Ag)||_(this,Ag,new Map)},Xl=function(){if(!h(this,ds)){const e=h(this,An).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,An).createElementNS(Us,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,ds,h(this,An).createElementNS(Us,"defs")),e.append(r),r.append(h(this,ds)),h(this,An).body.append(e)}return h(this,ds)},Pp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let b=0;b<256;b++)m[b]=g[b]/255;const y=m.join(",");return[y,y,y]}const[s,r,o]=e,u=new Array(256),d=new Array(256),f=new Array(256);for(let g=0;g<256;g++)u[g]=s[g]/255,d[g]=r[g]/255,f[g]=o[g]/255;return[u.join(","),d.join(","),f.join(",")]},Kl=function(e){if(h(this,vo)===void 0){_(this,vo,"");const s=h(this,An).URL;s!==h(this,An).baseURI&&(jg(s)?Nt('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,vo,s.split("#",1)[0]))}return`url(${h(this,vo)}#${e})`},Ew=function(e){const s=h(this,An).createElementNS(Us,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},eb=function(e){const s=h(this,An).createElementNS(Us,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},$l=function(e){const s=h(this,An).createElementNS(Us,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,ut,Xl).append(s),s},gh=function(e,s,r){const o=h(this,An).createElementNS(Us,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},mh=function(e,s,r,o){const u=h(this,An).createElementNS(Us,"feComponentTransfer");o.append(u),x(this,ut,gh).call(this,u,"feFuncR",e),x(this,ut,gh).call(this,u,"feFuncG",s),x(this,ut,gh).call(this,u,"feFuncB",r)},nb=function(e,s){const r=h(this,An).createElementNS(Us,"feComponentTransfer");s.append(r),x(this,ut,gh).call(this,r,"feFuncA",e)},vh=function(e){return h(this,ut,Xl).style.color=e,l0(getComputedStyle(h(this,ut,Xl)).getPropertyValue("color"))};class _w{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class ww extends _w{async _fetch(t){const e=await Hg(t,"arraybuffer");return new Uint8Array(e)}}if(wn){var ib=Promise.withResolvers(),Rh=null;(async()=>{const t=await bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:o,path2d:u}))})().then(t=>{Rh=t,ib.resolve()},t=>{Nt(`loadPackages: ${t}`),Rh=new Map,ib.resolve()})}class _r{static get promise(){return ib.promise}static get(t){return Rh==null?void 0:Rh.get(t)}}async function xw(c){const e=await _r.get("fs").promises.readFile(c);return new Uint8Array(e)}class BL extends Sw{}class qL extends yw{_createCanvas(t,e){return _r.get("canvas").createCanvas(t,e)}}class GL extends bw{async _fetch(t){return xw(t)}}class VL extends _w{async _fetch(t){return xw(t)}}const Ln={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function sb(c,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),c.clip(r)}class u0{getPattern(){ue("Abstract method `getPattern` called.")}}class YL extends u0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let o;if(r===Ln.STROKE||r===Ln.FILL){const u=e.current.getClippedPathBoundingBox(r,ye(t))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,f),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),s=vt.transform(s,[1,0,0,1,u[0],u[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),sb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else sb(t,this._bbox),o=this._createGradient(t);return o}}function _y(c,t,e,s,r,o,u,d){const f=t.coords,g=t.colors,m=c.data,y=c.width*4;let b;f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b),f[s+1]>f[r+1]&&(b=s,s=r,r=b,b=u,u=d,d=b),f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b);const A=(f[e]+t.offsetX)*t.scaleX,E=(f[e+1]+t.offsetY)*t.scaleY,w=(f[s]+t.offsetX)*t.scaleX,M=(f[s+1]+t.offsetY)*t.scaleY,T=(f[r]+t.offsetX)*t.scaleX,D=(f[r+1]+t.offsetY)*t.scaleY;if(E>=D)return;const N=g[o],k=g[o+1],j=g[o+2],q=g[u],K=g[u+1],Z=g[u+2],nt=g[d],at=g[d+1],st=g[d+2],mt=Math.round(E),ft=Math.round(D);let pt,dt,F,X,et,At,L,I;for(let $=mt;$<=ft;$++){if($<M){const ct=$<E?0:(E-$)/(E-M);pt=A-(A-w)*ct,dt=N-(N-q)*ct,F=k-(k-K)*ct,X=j-(j-Z)*ct}else{let ct;$>D?ct=1:M===D?ct=0:ct=(M-$)/(M-D),pt=w-(w-T)*ct,dt=q-(q-nt)*ct,F=K-(K-at)*ct,X=Z-(Z-st)*ct}let W;$<E?W=0:$>D?W=1:W=(E-$)/(E-D),et=A-(A-T)*W,At=N-(N-nt)*W,L=k-(k-at)*W,I=j-(j-st)*W;const it=Math.round(Math.min(pt,et)),gt=Math.round(Math.max(pt,et));let ot=y*$+it*4;for(let ct=it;ct<=gt;ct++)W=(pt-ct)/(pt-et),W<0?W=0:W>1&&(W=1),m[ot++]=dt-(dt-At)*W|0,m[ot++]=F-(F-L)*W|0,m[ot++]=X-(X-I)*W|0,m[ot++]=255}}function XL(c,t,e){const s=t.coords,r=t.colors;let o,u;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(s.length/d)-1,g=d-1;for(o=0;o<f;o++){let m=o*d;for(let y=0;y<g;y++,m++)_y(c,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),_y(c,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,u=s.length;o<u;o+=3)_y(c,e,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class KL extends u0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=g/y,E=m/b,w={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/A,scaleY:1/E},M=y+2*2,T=b+2*2,D=s.getCanvas("mesh",M,T),N=D.context,k=N.createImageData(y,b);if(e){const q=k.data;for(let K=0,Z=q.length;K<Z;K+=4)q[K]=e[0],q[K+1]=e[1],q[K+2]=e[2],q[K+3]=255}for(const q of this._figures)XL(k,q,w);return N.putImageData(k,2,2),{canvas:D.canvas,offsetX:d-2*A,offsetY:f-2*E,scaleX:A,scaleY:E}}getPattern(t,e,s,r){sb(t,this._bbox);let o;if(r===Ln.SHADING)o=vt.singularValueDecompose2dScale(ye(t));else if(o=vt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=vt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const u=this._createMeshCanvas(o,r===Ln.SHADING?null:this._background,e.cachedCanvases);return r!==Ln.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class $L extends u0{getPattern(){return"hotpink"}}function WL(c){switch(c[0]){case"RadialAxial":return new YL(c);case"Mesh":return new KL(c);case"Dummy":return new $L}throw new Error(`Unknown IR type: ${c[0]}`)}const V_={COLORED:1,UNCOLORED:2},Sg=class Sg{constructor(t,e,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:o,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),Pg("TilingType: "+o);const m=e[0],y=e[1],b=e[2],A=e[3],E=b-m,w=A-y,M=vt.singularValueDecompose2dScale(this.matrix),T=vt.singularValueDecompose2dScale(this.baseTransform),D=M[0]*T[0],N=M[1]*T[1];let k=E,j=w,q=!1,K=!1;const Z=Math.ceil(f*D),nt=Math.ceil(g*N),at=Math.ceil(E*D),st=Math.ceil(w*N);Z>=at?k=f:q=!0,nt>=st?j=g:K=!0;const mt=this.getSizeAndScale(k,this.ctx.canvas.width,D),ft=this.getSizeAndScale(j,this.ctx.canvas.height,N),pt=t.cachedCanvases.getCanvas("pattern",mt.size,ft.size),dt=pt.context,F=d.createCanvasGraphics(dt);if(F.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(F,r,u),dt.translate(-mt.scale*m,-ft.scale*y),F.transform(mt.scale,0,0,ft.scale,0,0),dt.save(),this.clipBbox(F,m,y,b,A),F.baseTransform=ye(F.ctx),F.executeOperatorList(s),F.endDrawing(),dt.restore(),q||K){const X=pt.canvas;q&&(k=f),K&&(j=g);const et=this.getSizeAndScale(k,this.ctx.canvas.width,D),At=this.getSizeAndScale(j,this.ctx.canvas.height,N),L=et.size,I=At.size,$=t.cachedCanvases.getCanvas("pattern-workaround",L,I),W=$.context,it=q?Math.floor(E/f):0,gt=K?Math.floor(w/g):0;for(let ot=0;ot<=it;ot++)for(let ct=0;ct<=gt;ct++)W.drawImage(X,L*ot,I*ct,L,I,0,0,L,I);return{canvas:$.canvas,scaleX:et.scale,scaleY:At.scale,offsetX:m,offsetY:y}}return{canvas:pt.canvas,scaleX:mt.scale,scaleY:ft.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,s){const r=Math.max(Sg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,r,o){const u=r-e,d=o-s;t.ctx.rect(e,s,u,d),t.current.updateRectMinMax(ye(t.ctx),[e,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,o=t.current;switch(e){case V_.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case V_.UNCOLORED:const d=vt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new SL(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let o=s;r!==Ln.SHADING&&(o=vt.transform(o,e.baseTransform),this.matrix&&(o=vt.transform(o,this.matrix)));const u=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};xt(Sg,"MAX_PATTERN_SIZE",3e3);let ab=Sg;function QL({src:c,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const d=Dn.isLittleEndian?4278190080:255,[f,g]=u?[o,d]:[d,o],m=s>>3,y=s&7,b=c.length;e=new Uint32Array(e.buffer);let A=0;for(let E=0;E<r;E++){for(const M=t+m;t<M;t++){const T=t<b?c[t]:255;e[A++]=T&128?g:f,e[A++]=T&64?g:f,e[A++]=T&32?g:f,e[A++]=T&16?g:f,e[A++]=T&8?g:f,e[A++]=T&4?g:f,e[A++]=T&2?g:f,e[A++]=T&1?g:f}if(y===0)continue;const w=t<b?c[t++]:255;for(let M=0;M<y;M++)e[A++]=w&1<<7-M?g:f}return{srcPos:t,destPos:A}}const Y_=16,X_=100,ZL=15,K_=10,$_=1e3,Vn=16;function JL(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},c.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},c.transform=function(s,r,o,u,d,f){t.transform(s,r,o,u,d,f),this.__originalTransform(s,r,o,u,d,f)},c.setTransform=function(s,r,o,u,d,f){t.setTransform(s,r,o,u,d,f),this.__originalSetTransform(s,r,o,u,d,f)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(s){t.rotate(s),this.__originalRotate(s)},c.clip=function(s){t.clip(s),this.__originalClip(s)},c.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},c.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},c.bezierCurveTo=function(e,s,r,o,u,d){t.bezierCurveTo(e,s,r,o,u,d),this.__originalBezierCurveTo(e,s,r,o,u,d)},c.rect=function(e,s,r,o){t.rect(e,s,r,o),this.__originalRect(e,s,r,o)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class tD{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ap(c,t,e,s,r,o,u,d,f,g){const[m,y,b,A,E,w]=ye(c);if(y===0&&b===0){const D=u*m+E,N=Math.round(D),k=d*A+w,j=Math.round(k),q=(u+f)*m+E,K=Math.abs(Math.round(q)-N)||1,Z=(d+g)*A+w,nt=Math.abs(Math.round(Z)-j)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(A),N,j),c.drawImage(t,e,s,r,o,0,0,K,nt),c.setTransform(m,y,b,A,E,w),[K,nt]}if(m===0&&A===0){const D=d*b+E,N=Math.round(D),k=u*y+w,j=Math.round(k),q=(d+g)*b+E,K=Math.abs(Math.round(q)-N)||1,Z=(u+f)*y+w,nt=Math.abs(Math.round(Z)-j)||1;return c.setTransform(0,Math.sign(y),Math.sign(b),0,N,j),c.drawImage(t,e,s,r,o,0,0,nt,K),c.setTransform(m,y,b,A,E,w),[nt,K]}c.drawImage(t,e,s,r,o,u,d,f,g);const M=Math.hypot(m,y),T=Math.hypot(b,A);return[M*f,T*g]}function eD(c){const{width:t,height:e}=c;if(t>$_||e>$_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let u=new Uint8Array(o*(e+1)),d,f,g;const m=t+7&-8;let y=new Uint8Array(m*e),b=0;for(const T of c.data){let D=128;for(;D>0;)y[b++]=T&D?0:255,D>>=1}let A=0;for(b=0,y[b]!==0&&(u[0]=1,++A),f=1;f<t;f++)y[b]!==y[b+1]&&(u[f]=y[b]?2:1,++A),b++;for(y[b]!==0&&(u[f]=2,++A),d=1;d<e;d++){b=d*m,g=d*o,y[b-m]!==y[b]&&(u[g]=y[b]?1:8,++A);let T=(y[b]?4:0)+(y[b-m]?8:0);for(f=1;f<t;f++)T=(T>>2)+(y[b+1]?4:0)+(y[b-m+1]?8:0),r[T]&&(u[g+f]=r[T],++A),b++;if(y[b-m]!==y[b]&&(u[g+f]=y[b]?2:4,++A),A>s)return null}for(b=m*(e-1),g=d*o,y[b]!==0&&(u[g]=8,++A),f=1;f<t;f++)y[b]!==y[b+1]&&(u[g+f]=y[b]?4:8,++A),b++;if(y[b]!==0&&(u[g+f]=4,++A),A>s)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),w=new Path2D;for(d=0;A&&d<=e;d++){let T=d*o;const D=T+t;for(;T<D&&!u[T];)T++;if(T===D)continue;w.moveTo(T%o,d);const N=T;let k=u[T];do{const j=E[k];do T+=j;while(!u[T]);const q=u[T];q!==5&&q!==10?(k=q,u[T]=0):(k=q&51*k>>4,u[T]&=k>>2|k<<2),w.lineTo(T%o,T/o|0),u[T]||--A}while(N!==T);--d}return y=null,u=null,function(T){T.save(),T.scale(1/t,-1/e),T.translate(0,-e),T.fill(w),T.beginPath(),T.restore()}}class W_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B1,this.textMatrixScale=1,this.fontMatrix=Dy,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=vt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=vt.applyTransform(e,t),r=vt.applyTransform(e.slice(2),t),o=vt.applyTransform([e[0],e[3]],t),u=vt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],u[1])}updateScalingPathMinMax(t,e){vt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,o,u,d,f,g,m){const y=vt.bezierBoundingBox(e,s,r,o,u,d,f,g,m);m||this.updateRectMinMax(t,y)}getPathBoundingBox(t=Ln.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ln.STROKE){e||ue("Stroke bounding box must include transform.");const r=vt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=u,s[2]+=o,s[3]+=u}return s}updateClipFromPath(){const t=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ln.FILL,e=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Q_(c,t){if(typeof ImageData<"u"&&t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%Vn,o=(e-r)/Vn,u=r===0?o:o+1,d=c.createImageData(s,Vn);let f=0,g;const m=t.data,y=d.data;let b,A,E,w;if(t.kind===Rp.GRAYSCALE_1BPP){const M=m.byteLength,T=new Uint32Array(y.buffer,0,y.byteLength>>2),D=T.length,N=s+7>>3,k=4294967295,j=Dn.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(E=b<o?Vn:r,g=0,A=0;A<E;A++){const q=M-f;let K=0;const Z=q>N?s:q*8-7,nt=Z&-8;let at=0,st=0;for(;K<nt;K+=8)st=m[f++],T[g++]=st&128?k:j,T[g++]=st&64?k:j,T[g++]=st&32?k:j,T[g++]=st&16?k:j,T[g++]=st&8?k:j,T[g++]=st&4?k:j,T[g++]=st&2?k:j,T[g++]=st&1?k:j;for(;K<Z;K++)at===0&&(st=m[f++],at=128),T[g++]=st&at?k:j,at>>=1}for(;g<D;)T[g++]=0;c.putImageData(d,0,b*Vn)}}else if(t.kind===Rp.RGBA_32BPP){for(A=0,w=s*Vn*4,b=0;b<o;b++)y.set(m.subarray(f,f+w)),f+=w,c.putImageData(d,0,A),A+=Vn;b<u&&(w=s*r*4,y.set(m.subarray(f,f+w)),c.putImageData(d,0,A))}else if(t.kind===Rp.RGB_24BPP)for(E=Vn,w=s*E,b=0;b<u;b++){for(b>=o&&(E=r,w=s*E),g=0,A=w;A--;)y[g++]=m[f++],y[g++]=m[f++],y[g++]=m[f++],y[g++]=255;c.putImageData(d,0,b*Vn)}else throw new Error(`bad image kind: ${t.kind}`)}function Z_(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%Vn,o=(e-r)/Vn,u=r===0?o:o+1,d=c.createImageData(s,Vn);let f=0;const g=t.data,m=d.data;for(let y=0;y<u;y++){const b=y<o?Vn:r;({srcPos:f}=QL({src:g,srcPos:f,dest:m,width:s,height:b,nonBlackColor:0})),c.putImageData(d,0,y*Vn)}}function ch(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)c[s]!==void 0&&(t[s]=c[s]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function Sp(c){if(c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0),!wn){const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}}function J_(c,t){if(t)return!0;const e=vt.singularValueDecompose2dScale(c);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Er.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const nD=["butt","round","square"],iD=["miter","round","bevel"],sD={},t1={};var xr,rb,ob;const y0=class y0{constructor(t,e,s,r,o,{optionalContentConfig:u,markedContentStack:d=null},f,g){R(this,xr);this.ctx=t,this.current=new W_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new tD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ye(this.compositeCtx))}this.ctx.save(),Sp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ye(this.ctx)}executeOperatorList(t,e,s,r){const o=t.argsArray,u=t.fnArray;let d=e||0;const f=o.length;if(f===d)return d;const g=f-d>K_&&typeof s=="function",m=g?Date.now()+ZL:0;let y=0;const b=this.commonObjs,A=this.objs;let E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(E=u[d],E!==Fi.dependency)this[E].apply(this,o[d]);else for(const w of o[d]){const M=w.startsWith("g_")?b:A;if(!M.has(w))return M.get(w,s),d}if(d++,d===f)return d;if(g&&++y>K_){if(Date.now()>m)return s(),d;y=0}}}endDrawing(){x(this,xr,rb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),x(this,xr,ob).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),d=s,f=r,g="prescale1",m,y;for(;o>2&&d>1||u>2&&f>1;){let b=d,A=f;o>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/b),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),m=this.cachedCanvases.getCanvas(g,b,A),y=m.context,y.clearRect(0,0,b,A),y.drawImage(t,0,0,d,f,0,0,b,A),t=m.canvas,d=b,f=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,u=this.current.patternFill,d=ye(e);let f,g,m,y;if((t.bitmap||t.data)&&t.count>1){const Z=t.bitmap||t.data.buffer;g=JSON.stringify(u?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(Z),f||(f=new Map,this._cachedBitmapsMap.set(Z,f));const nt=f.get(g);if(nt&&!u){const at=Math.round(Math.min(d[0],d[2])+d[4]),st=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:nt,offsetX:at,offsetY:st}}m=nt}m||(y=this.cachedCanvases.getCanvas("maskCanvas",s,r),Z_(y.context,t));let b=vt.transform(d,[1/s,0,0,-1/r,0,0]);b=vt.transform(b,[1,0,0,1,0,-r]);const[A,E,w,M]=vt.getAxialAlignedBoundingBox([0,0,s,r],b),T=Math.round(w-A)||1,D=Math.round(M-E)||1,N=this.cachedCanvases.getCanvas("fillCanvas",T,D),k=N.context,j=A,q=E;k.translate(-j,-q),k.transform(...b),m||(m=this._scaleImage(y.canvas,Is(k)),m=m.img,f&&u&&f.set(g,m)),k.imageSmoothingEnabled=J_(ye(k),t.interpolate),Ap(k,m,0,0,m.width,m.height,0,0,s,r),k.globalCompositeOperation="source-in";const K=vt.transform(Is(k),[1,0,0,1,-j,-q]);return k.fillStyle=u?o.getPattern(e,this,K,Ln.FILL):o,k.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,N.canvas)),{canvas:N.canvas,offsetX:Math.round(j),offsetY:Math.round(q)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=nD[t]}setLineJoin(t){this.ctx.lineJoin=iD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...ye(this.suspendedCtx)),ch(this.suspendedCtx,o),JL(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ch(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const o=r[0],u=r[1],d=r[2]-o,f=r[3]-u;d===0||f===0||(this.genericComposeSMask(e.context,s,d,f,e.subtype,e.backdrop,e.transferMap,o,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,o,u,d,f,g,m,y){let b=t.canvas,A=f-m,E=g-y;if(u){const M=vt.makeHexColor(...u);if(A<0||E<0||A+s>b.width||E+r>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),D=T.context;D.drawImage(b,-A,-E),D.globalCompositeOperation="destination-atop",D.fillStyle=M,D.fillRect(0,0,s,r),D.globalCompositeOperation="source-over",b=T.canvas,A=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(A,E,s,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,E,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const w=new Path2D;w.rect(f,g,s,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,A,E,s,r,f,g,s,r),e.restore()}save(){this.inSMaskMode?(ch(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ch(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,o,u){this.ctx.transform(t,e,s,r,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,o=this.current;let u=o.x,d=o.y,f,g;const m=ye(r),y=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=y?s.slice(0):null;for(let A=0,E=0,w=t.length;A<w;A++)switch(t[A]|0){case Fi.rectangle:u=e[E++],d=e[E++];const M=e[E++],T=e[E++],D=u+M,N=d+T;r.moveTo(u,d),M===0||T===0?r.lineTo(D,N):(r.lineTo(D,d),r.lineTo(D,N),r.lineTo(u,N)),y||o.updateRectMinMax(m,[u,d,D,N]),r.closePath();break;case Fi.moveTo:u=e[E++],d=e[E++],r.moveTo(u,d),y||o.updatePathMinMax(m,u,d);break;case Fi.lineTo:u=e[E++],d=e[E++],r.lineTo(u,d),y||o.updatePathMinMax(m,u,d);break;case Fi.curveTo:f=u,g=d,u=e[E+4],d=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],u,d),o.updateCurvePathMinMax(m,f,g,e[E],e[E+1],e[E+2],e[E+3],u,d,b),E+=6;break;case Fi.curveTo2:f=u,g=d,r.bezierCurveTo(u,d,e[E],e[E+1],e[E+2],e[E+3]),o.updateCurvePathMinMax(m,f,g,u,d,e[E],e[E+1],e[E+2],e[E+3],b),u=e[E+2],d=e[E+3],E+=4;break;case Fi.curveTo3:f=u,g=d,u=e[E+2],d=e[E+3],r.bezierCurveTo(e[E],e[E+1],u,d,u,d),o.updateCurvePathMinMax(m,f,g,e[E],e[E+1],u,d,u,d,b),E+=4;break;case Fi.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(m,b),o.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Is(e),Ln.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Is(e),Ln.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=sD}eoClip(){this.pendingClip=t1}beginText(){this.current.textMatrix=B1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Dy,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Nt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let g=e;e<Y_?g=Y_:e>X_&&(g=X_),this.current.fontSizeScale=e/g,this.ctx.font=`${f} ${d} ${g}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,o,u){this.current.textMatrix=[t,e,s,r,o,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const o=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,m=f&vn.FILL_STROKE_MASK,y=!!(f&vn.ADD_TO_PATH_FLAG),b=u.patternFill&&!d.missingFile;let A;(d.disableFontFace||y||b)&&(A=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||b?(o.save(),o.translate(e,s),o.beginPath(),A(o,g),r&&o.setTransform(...r),(m===vn.FILL||m===vn.FILL_STROKE)&&o.fill(),(m===vn.STROKE||m===vn.FILL_STROKE)&&o.stroke(),o.restore()):((m===vn.FILL||m===vn.FILL_STROKE)&&o.fillText(t,e,s),(m===vn.STROKE||m===vn.FILL_STROKE)&&o.strokeText(t,e,s)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ye(o),x:e,y:s,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return It(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,u=e.fontSizeScale,d=e.charSpacing,f=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,y=t.length,b=s.vertical,A=b?1:-1,E=s.defaultVMetrics,w=r*e.fontMatrix[0],M=e.textRenderingMode===vn.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),g>0?o.scale(m,-1):o.scale(m,1);let T;if(e.patternFill){o.save();const q=e.fillColor.getPattern(o,this,Is(o),Ln.FILL);T=ye(o),o.restore(),o.fillStyle=q}let D=e.lineWidth;const N=e.textMatrixScale;if(N===0||D===0){const q=e.textRenderingMode&vn.FILL_STROKE_MASK;(q===vn.STROKE||q===vn.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=N;if(u!==1&&(o.scale(u,u),D/=u),o.lineWidth=D,s.isInvalidPDFjsFont){const q=[];let K=0;for(const Z of t)q.push(Z.unicode),K+=Z.width;o.fillText(q.join(""),0,0),e.x+=K*w*m,o.restore(),this.compose();return}let k=0,j;for(j=0;j<y;++j){const q=t[j];if(typeof q=="number"){k+=A*q*r/1e3;continue}let K=!1;const Z=(q.isSpace?f:0)+d,nt=q.fontChar,at=q.accent;let st,mt,ft=q.width;if(b){const dt=q.vmetric||E,F=-(q.vmetric?dt[1]:ft*.5)*w,X=dt[2]*w;ft=dt?-dt[0]:ft,st=F/u,mt=(k+X)/u}else st=k/u,mt=0;if(s.remeasure&&ft>0){const dt=o.measureText(nt).width*1e3/r*u;if(ft<dt&&this.isFontSubpixelAAEnabled){const F=ft/dt;K=!0,o.save(),o.scale(F,1),st/=F}else ft!==dt&&(st+=(ft-dt)/2e3*r/u)}if(this.contentVisible&&(q.isInFont||s.missingFile)){if(M&&!at)o.fillText(nt,st,mt);else if(this.paintChar(nt,st,mt,T),at){const dt=st+r*at.offset.x/u,F=mt-r*at.offset.y/u;this.paintChar(at.fontChar,dt,F,T)}}const pt=b?ft*w-Z*g:ft*w+Z*g;k+=pt,K&&o.restore()}b?e.y-=k:e.x+=k*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,o=s.fontSize,u=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,g=s.wordSpacing,m=s.textHScale*u,y=s.fontMatrix||Dy,b=t.length,A=s.textRenderingMode===vn.INVISIBLE;let E,w,M,T;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,u),E=0;E<b;++E){if(w=t[E],typeof w=="number"){T=d*w*o/1e3,this.ctx.translate(T,0),s.x+=T*m;continue}const D=(w.isSpace?g:0)+f,N=r.charProcOperatorList[w.operatorListId];if(!N){Nt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(o,o),e.transform(...y),this.executeOperatorList(N),this.restore()),M=vt.applyTransform([w.width,0],y)[0]*o+D,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,o,u){this.ctx.rect(s,r,o-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||ye(this.ctx),o={createCanvasGraphics:u=>new y0(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new ab(t,s,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=vt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=vt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=WL(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Is(e),Ln.SHADING);const r=Is(e);if(r){const{width:o,height:u}=e.canvas,[d,f,g,m]=vt.getAxialAlignedBoundingBox([0,0,o,u],r);this.ctx.fillRect(d,f,g-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ye(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(ye(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Pg("TODO: Support non-isolated groups."),t.knockout&&Nt("Knockout groups not supported.");const s=ye(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=vt.getAxialAlignedBoundingBox(t.bbox,ye(e));const o=[0,0,e.canvas.width,e.canvas.height];r=vt.intersect(r,o)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,f,g),b=y.context;b.translate(-u,-d),b.transform(...s),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,d),e.save()),ch(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=vt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,r,o){if(x(this,xr,rb).call(this),Sp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=d;const[f,g]=vt.singularValueDecompose2dScale(ye(this.ctx)),{viewportScale:m}=this,y=Math.ceil(u*this.outputScaleX*m),b=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(y,b);const{canvas:A,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,d*g),Sp(this.ctx)}else Sp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new W_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,xr,ob).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=eD(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),u=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,o,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=ye(d);d.transform(e,s,r,o,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let m=0,y=u.length;m<y;m+=2){const b=vt.transform(f,[e,s,r,o,u[m],u[m+1]]),[A,E]=vt.applyTransform([0,0],b);d.drawImage(g.canvas,A,E)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:u,width:d,height:f,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),y=m.context;y.save();const b=this.getObject(u,o);Z_(y,b),y.globalCompositeOperation="source-in",y.fillStyle=r?s.getPattern(y,this,Is(e),Ln.FILL):s,y.fillRect(0,0,d,f),y.restore(),e.save(),e.transform(...g),e.scale(1,-1),Ap(e,m.canvas,0,0,d,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Nt("Dependent image isn't ready yet");return}const u=o.width,d=o.height,f=[];for(let g=0,m=r.length;g<m;g+=2)f.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!wn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;Q_(f,t),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,Is(r));r.imageSmoothingEnabled=J_(ye(r),t.interpolate),Ap(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;Q_(f,t),r=this.applyTransferMapsToCanvas(f)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),Ap(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===t1?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ye(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:o}=this.ctx.getTransform();let u,d;if(s===0&&r===0){const f=Math.abs(e),g=Math.abs(o);if(f===g)if(t===0)u=d=1/f;else{const m=f*t;u=d=m<1?1/m:1}else if(t===0)u=1/f,d=1/g;else{const m=f*t,y=g*t;u=m<1?1/m:1,d=y<1?1/y:1}}else{const f=Math.abs(e*o-s*r),g=Math.hypot(e,s),m=Math.hypot(r,o);if(t===0)u=m/f,d=g/f;else{const y=t*f;u=m>y?m/y:1,d=g>y?g/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&o===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,o),u.length>0){const d=Math.max(r,o);e.setLineDash(u.map(f=>f/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};xr=new WeakSet,rb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ob=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let ec=y0;for(const c in Fi)ec.prototype[c]!==void 0&&(ec.prototype[Fi[c]]=ec.prototype[c]);var Jh,td;class pa{static get workerPort(){return h(this,Jh)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,Jh,t)}static get workerSrc(){return h(this,td)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,td,t)}}Jh=new WeakMap,td=new WeakMap,R(pa,Jh,null),R(pa,td,"");const Ep={DATA:1,ERROR:2},Ne={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ei(c){switch(c instanceof Error||typeof c=="object"&&c!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new al(c.message);case"MissingPDFException":return new sl(c.message);case"PasswordException":return new Oy(c.message,c.code);case"UnexpectedResponseException":return new Fg(c.message,c.status);case"UnknownErrorException":return new Ny(c.message,c.details);default:return new Ny(c.message,c.toString())}}var bc,Li,Tw,Cw,Rw,Fp;class yh{constructor(t,e,s){R(this,Li);R(this,bc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",x(this,Li,Tw).bind(this),{signal:h(this,bc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(u){o.reject(u)}return o.promise}sendWithStream(t,e,s,r){const o=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:t,streamId:o,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:Ne.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ge(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Ne.CANCEL,streamId:o,reason:ei(g)}),m.promise}},s)}destroy(){var t;(t=h(this,bc))==null||t.abort(),_(this,bc,null)}}bc=new WeakMap,Li=new WeakSet,Tw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){x(this,Li,Rw).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Ep.DATA)r.resolve(t.data);else if(t.callback===Ep.ERROR)r.reject(ei(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){o.postMessage({sourceName:s,targetName:r,callback:Ep.DATA,callbackId:t.callbackId,data:u})},function(u){o.postMessage({sourceName:s,targetName:r,callback:Ep.ERROR,callbackId:t.callbackId,reason:ei(u)})});return}if(t.streamId){x(this,Li,Cw).call(this,t);return}e(t.data)},Cw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,u=this,d=this.actionHandler[t.action],f={enqueue(g,m=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Ne.ENQUEUE,streamId:e,chunk:g},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Ne.CLOSE,streamId:e}),delete u.streamSinks[e])},error(g){Ge(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Ne.ERROR,streamId:e,reason:ei(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(g){g(d(t.data,f))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ne.START_COMPLETE,streamId:e,success:!0})},function(g){o.postMessage({sourceName:s,targetName:r,stream:Ne.START_COMPLETE,streamId:e,reason:ei(g)})})},Rw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,u=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Ne.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(ei(t.reason));break;case Ne.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(ei(t.reason));break;case Ne.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:Ne.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var g;f((g=d.onPull)==null?void 0:g.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ne.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:Ne.PULL_COMPLETE,streamId:e,reason:ei(f)})});break;case Ne.ENQUEUE:if(Ge(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Ne.CLOSE:if(Ge(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),x(this,Li,Fp).call(this,u,e);break;case Ne.ERROR:Ge(u,"error should have stream controller"),u.controller.error(ei(t.reason)),x(this,Li,Fp).call(this,u,e);break;case Ne.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(ei(t.reason)),x(this,Li,Fp).call(this,u,e);break;case Ne.CANCEL:if(!d)break;new Promise(function(f){var g;f((g=d.onCancel)==null?void 0:g.call(d,ei(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ne.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:Ne.CANCEL_COMPLETE,streamId:e,reason:ei(f)})}),d.sinkCapability.reject(ei(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Fp=async function(t,e){var s,r,o;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var Ao,ed;class aD{constructor({parsedData:t,rawData:e}){R(this,Ao);R(this,ed);_(this,Ao,t),_(this,ed,e)}getRaw(){return h(this,ed)}get(t){return h(this,Ao).get(t)??null}getAll(){return i0(h(this,Ao))}has(t){return h(this,Ao).has(t)}}Ao=new WeakMap,ed=new WeakMap;const Wl=Symbol("INTERNAL");var nd,id,sd,Ac;class rD{constructor(t,{name:e,intent:s,usage:r,rbGroups:o}){R(this,nd,!1);R(this,id,!1);R(this,sd,!1);R(this,Ac,!0);_(this,nd,!!(t&ui.DISPLAY)),_(this,id,!!(t&ui.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(h(this,sd))return h(this,Ac);if(!h(this,Ac))return!1;const{print:t,view:e}=this.usage;return h(this,nd)?(e==null?void 0:e.viewState)!=="OFF":h(this,id)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Wl&&ue("Internal method `_setVisible` called."),_(this,sd,s),_(this,Ac,e)}}nd=new WeakMap,id=new WeakMap,sd=new WeakMap,Ac=new WeakMap;var rr,Qt,Sc,Ec,ad,lb;class oD{constructor(t,e=ui.DISPLAY){R(this,ad);R(this,rr,null);R(this,Qt,new Map);R(this,Sc,null);R(this,Ec,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,Ec,t.order);for(const s of t.groups)h(this,Qt).set(s.id,new rD(e,s));if(t.baseState==="OFF")for(const s of h(this,Qt).values())s._setVisible(Wl,!1);for(const s of t.on)h(this,Qt).get(s)._setVisible(Wl,!0);for(const s of t.off)h(this,Qt).get(s)._setVisible(Wl,!1);_(this,Sc,this.getHash())}}isVisible(t){if(h(this,Qt).size===0)return!0;if(!t)return Pg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Qt).has(t.id)?h(this,Qt).get(t.id).visible:(Nt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return x(this,ad,lb).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!1}return!0}return Nt(`Unknown optional content policy ${t.policy}.`),!0}return Nt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var o;const r=h(this,Qt).get(t);if(!r){Nt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const d of u)d!==t&&((o=h(this,Qt).get(d))==null||o._setVisible(Wl,!1,!0));r._setVisible(Wl,!!e,!0),_(this,rr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=h(this,Qt).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}_(this,rr,null)}get hasInitialVisibility(){return h(this,Sc)===null||this.getHash()===h(this,Sc)}getOrder(){return h(this,Qt).size?h(this,Ec)?h(this,Ec).slice():[...h(this,Qt).keys()]:null}getGroups(){return h(this,Qt).size>0?i0(h(this,Qt)):null}getGroup(t){return h(this,Qt).get(t)||null}getHash(){if(h(this,rr)!==null)return h(this,rr);const t=new gw;for(const[e,s]of h(this,Qt))t.update(`${e}:${s.visible}`);return _(this,rr,t.hexdigest())}}rr=new WeakMap,Qt=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,ad=new WeakSet,lb=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const o=t[r];let u;if(Array.isArray(o))u=x(this,ad,lb).call(this,o);else if(h(this,Qt).has(o))u=h(this,Qt).get(o).visible;else return Nt(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class lD{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ge(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:u,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),t.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Ge(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,o;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new cD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new uD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class cD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=r0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class uD{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hD(c){let t=!0,e=s("filename\\*","i").exec(c);if(e){e=e[1];let m=d(e);return m=unescape(m),m=f(m),m=g(m),o(m)}if(e=u(c),e){const m=g(e);return o(m)}if(e=s("filename","i").exec(c),e){e=e[1];let m=d(e);return m=g(m),o(m)}function s(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(m,{fatal:!0}),A=zg(y);y=b.decode(A),t=!1}catch{}}return y}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function u(m){const y=[];let b;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,w,M,T]=b;if(w=parseInt(w,10),w in y){if(w===0)break;continue}y[w]=[M,T]}const E=[];for(let w=0;w<y.length&&w in y;++w){let[M,T]=y[w];T=d(T),M&&(T=unescape(T),w===0&&(T=f(T))),E.push(T)}return E.join("")}function d(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let b=0;b<y.length;++b){const A=y[b].indexOf('"');A!==-1&&(y[b]=y[b].slice(0,A),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function f(m){const y=m.indexOf("'");if(y===-1)return m;const b=m.slice(0,y),E=m.slice(y+1).replace(/^[^']*'/,"");return r(b,E)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,A,E){if(A==="q"||A==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),r(b,E);try{E=atob(E)}catch{}return r(b,E)})}return""}function h0(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function d0({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(c.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||s||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function f0(c){const t=c.get("Content-Disposition");if(t){let e=hD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(r0(e))return e}return null}function Ig(c,t){return c===404||c===0&&t.startsWith("file:")?new sl('Missing PDF "'+t+'".'):new Fg(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c)}function Mw(c){return c===200||c===206}function Lw(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Dw(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(Nt(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class e1{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=h0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new dD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new fD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class dD{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,Lw(s,this._withCredentials,this._abortController)).then(o=>{if(!Mw(o.status))throw Ig(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:d,suggestedLength:f}=d0({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=f0(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new al("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Dw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class fD{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const u=r.url;fetch(u,Lw(o,this._withCredentials,this._abortController)).then(d=>{if(!Mw(d.status))throw Ig(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Dw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const wy=200,xy=206;function pD(c){const t=c.response;return typeof t!="string"?t:zg(t).buffer}class gD{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=h0(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,u]of this.headers)e.setRequestHeader(o,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=xy):r.expectedStatus=wy,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var f,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const o=r.status||wy;if(!(o===wy&&s.expectedStatus===xy)&&o!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=pD(r);if(o===xy){const y=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);s.onDone({begin:parseInt(b[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class mD{constructor(t){this._source=t,this._manager=new gD(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new vD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new yD(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class vD{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=d0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=f0(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ig(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class yD{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ig(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const bD=/^[a-z][a-z0-9\-+.]+:/i;function AD(c){if(bD.test(c))return new URL(c);const t=_r.get("url");return new URL(t.pathToFileURL(c))}function Ow(c,t,e){return c.protocol==="http:"?_r.get("http").request(c,{headers:t},e):_r.get("https").request(c,{headers:t},e)}class SD{constructor(t){this.source=t,this.url=AD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=h0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new wD(this):new ED(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new xD(this,t,e):new _D(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class Nw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new al("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class ED extends Nw{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new sl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=d0({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=f0(o)};this._request=Ow(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class _D extends kw{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const o=u=>{if(u.statusCode===404){const d=new sl(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=Ow(this._url,r,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class wD extends Nw{constructor(t){super(t);const e=_r.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new sl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class xD extends kw{constructor(t,e,s){super(t);const r=_r.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const TD=1e5,In=30,CD=.8;var v1,or,qn,rd,od,So,Ws,ld,cd,Eo,_c,wc,lr,xc,ud,Tc,_o,hd,dd,_e,wo,xo,fd,cr,Cc,Aa,Pw,Fw,ub,di,zp,hb,zw,Hw;let cb=(_e=class{constructor({textContentSource:t,container:e,viewport:s}){R(this,Aa);R(this,or,Promise.withResolvers());R(this,qn,null);R(this,rd,!1);R(this,od,!!((v1=globalThis.FontInspector)!=null&&v1.enabled));R(this,So,null);R(this,Ws,null);R(this,ld,0);R(this,cd,0);R(this,Eo,null);R(this,_c,null);R(this,wc,0);R(this,lr,0);R(this,xc,Object.create(null));R(this,ud,[]);R(this,Tc,null);R(this,_o,[]);R(this,hd,new WeakMap);R(this,dd,null);var f;if(t instanceof ReadableStream)_(this,Tc,t);else if(typeof t=="object")_(this,Tc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,qn,_(this,_c,e)),_(this,lr,s.scale*(globalThis.devicePixelRatio||1)),_(this,wc,s.rotation),_(this,Ws,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:u,pageY:d}=s.rawDims;_(this,dd,[1,0,0,-1,-u,d+o]),_(this,cd,r),_(this,ld,o),x(f=_e,di,zw).call(f),Qo(e,s),h(this,or).promise.finally(()=>{h(_e,Cc).delete(this),_(this,Ws,null),_(this,xc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Dn.platform;return It(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Eo).read().then(({value:e,done:s})=>{if(s){h(this,or).resolve();return}h(this,So)??_(this,So,e.lang),Object.assign(h(this,xc),e.styles),x(this,Aa,Pw).call(this,e.items),t()},h(this,or).reject)};return _(this,Eo,h(this,Tc).getReader()),h(_e,Cc).add(this),t(),h(this,or).promise}update({viewport:t,onBefore:e=null}){var o;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,wc)&&(e==null||e(),_(this,wc,r),Qo(h(this,_c),{rotation:r})),s!==h(this,lr)){e==null||e(),_(this,lr,s);const u={div:null,properties:null,ctx:x(o=_e,di,zp).call(o,h(this,So))};for(const d of h(this,_o))u.properties=h(this,hd).get(d),u.div=d,x(this,Aa,ub).call(this,u)}}cancel(){var e;const t=new al("TextLayer task cancelled.");(e=h(this,Eo))==null||e.cancel(t).catch(()=>{}),_(this,Eo,null),h(this,or).reject(t)}get textDivs(){return h(this,_o)}get textContentItemsStr(){return h(this,ud)}static cleanup(){if(!(h(this,Cc).size>0)){h(this,wo).clear();for(const{canvas:t}of h(this,xo).values())t.remove();h(this,xo).clear()}}},or=new WeakMap,qn=new WeakMap,rd=new WeakMap,od=new WeakMap,So=new WeakMap,Ws=new WeakMap,ld=new WeakMap,cd=new WeakMap,Eo=new WeakMap,_c=new WeakMap,wc=new WeakMap,lr=new WeakMap,xc=new WeakMap,ud=new WeakMap,Tc=new WeakMap,_o=new WeakMap,hd=new WeakMap,dd=new WeakMap,wo=new WeakMap,xo=new WeakMap,fd=new WeakMap,cr=new WeakMap,Cc=new WeakMap,Aa=new WeakSet,Pw=function(t){var r,o;if(h(this,rd))return;(o=h(this,Ws)).ctx??(o.ctx=x(r=_e,di,zp).call(r,h(this,So)));const e=h(this,_o),s=h(this,ud);for(const u of t){if(e.length>TD){Nt("Ignoring additional textDivs for performance reasons."),_(this,rd,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=h(this,qn);_(this,qn,document.createElement("span")),h(this,qn).classList.add("markedContent"),u.id!==null&&h(this,qn).setAttribute("id",`${u.id}`),d.append(h(this,qn))}else u.type==="endMarkedContent"&&_(this,qn,h(this,qn).parentNode);continue}s.push(u.str),x(this,Aa,Fw).call(this,u)}},Fw=function(t){var w;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,_o).push(e);const r=vt.transform(h(this,dd),t.transform);let o=Math.atan2(r[1],r[0]);const u=h(this,xc)[t.fontName];u.vertical&&(o+=Math.PI/2);let d=h(this,od)&&u.fontSubstitution||u.fontFamily;d=_e.fontFamilyMap.get(d)||d;const f=Math.hypot(r[2],r[3]),g=f*x(w=_e,di,Hw).call(w,d,h(this,So));let m,y;o===0?(m=r[4],y=r[5]-g):(m=r[4]+g*Math.sin(o),y=r[5]-g*Math.cos(o));const b="calc(var(--scale-factor)*",A=e.style;h(this,qn)===h(this,_c)?(A.left=`${(100*m/h(this,cd)).toFixed(2)}%`,A.top=`${(100*y/h(this,ld)).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${y.toFixed(2)}px)`),A.fontSize=`${b}${(h(_e,cr)*f).toFixed(2)}px)`,A.fontFamily=d,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,od)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);M!==T&&Math.max(M,T)/Math.min(M,T)>1.5&&(E=!0)}if(E&&(s.canvasWidth=u.vertical?t.height:t.width),h(this,hd).set(e,s),h(this,Ws).div=e,h(this,Ws).properties=s,x(this,Aa,ub).call(this,h(this,Ws)),s.hasText&&h(this,qn).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,qn).append(M)}},ub=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:o}=e;let u="";if(h(_e,cr)>1&&(u=`scale(${1/h(_e,cr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=o,{canvasWidth:g,fontSize:m}=s;x(d=_e,di,hb).call(d,r,m*h(this,lr),f);const{width:y}=r.measureText(e.textContent);y>0&&(u=`scaleX(${g*h(this,lr)/y}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(o.transform=u)},di=new WeakSet,zp=function(t=null){let e=h(this,xo).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,xo).set(t,e),h(this,fd).set(e,{size:0,family:""})}return e},hb=function(t,e,s){const r=h(this,fd).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},zw=function(){if(h(this,cr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,cr,t.getBoundingClientRect().height),t.remove()},Hw=function(t,e){const s=h(this,wo).get(t);if(s)return s;const r=x(this,di,zp).call(this,e);r.canvas.width=r.canvas.height=In,x(this,di,hb).call(this,r,In,t);const o=r.measureText("");let u=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(u){const m=u/(u+d);return h(this,wo).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,In,In),r.strokeText("g",0,0);let f=r.getImageData(0,0,In,In).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/In);break}r.clearRect(0,0,In,In),r.strokeText("A",0,In),f=r.getImageData(0,0,In,In).data,u=0;for(let m=0,y=f.length;m<y;m+=4)if(f[m]>0){u=In-Math.floor(m/4/In);break}r.canvas.width=r.canvas.height=0;const g=u?u/(u+d):CD;return h(this,wo).set(t,g),g},R(_e,di),R(_e,wo,new Map),R(_e,xo,new Map),R(_e,fd,new WeakMap),R(_e,cr,null),R(_e,Cc,new Set),_e);class Dh{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(o){var f;if(!o)return;let u=null;const d=o.name;if(d==="#text")u=o.value;else if(Dh.shouldBuildText(d))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&e.push({str:u}),!!o.children)for(const g of o.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const RD=65536,MD=100,LD=5e3,DD=wn?qL:IL,OD=wn?GL:Aw,ND=wn?BL:UL,kD=wn?VL:ww;function PD(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new db,{docId:e}=t,s=c.url?FD(c.url):null,r=c.data?zD(c.data):null,o=c.httpHeaders||null,u=c.withCredentials===!0,d=c.password??null,f=c.range instanceof jw?c.range:null,g=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:RD;let m=c.worker instanceof nc?c.worker:null;const y=c.verbosity,b=typeof c.docBaseUrl=="string"&&!jg(c.docBaseUrl)?c.docBaseUrl:null,A=typeof c.cMapUrl=="string"?c.cMapUrl:null,E=c.cMapPacked!==!1,w=c.CMapReaderFactory||OD,M=typeof c.standardFontDataUrl=="string"?c.standardFontDataUrl:null,T=c.StandardFontDataFactory||kD,D=c.stopAtErrors!==!0,N=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,k=c.isEvalSupported!==!1,j=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!wn,q=typeof c.isChrome=="boolean"?c.isChrome:!Dn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),K=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,Z=typeof c.disableFontFace=="boolean"?c.disableFontFace:wn,nt=c.fontExtraProperties===!0,at=c.enableXfa===!0,st=c.ownerDocument||globalThis.document,mt=c.disableRange===!0,ft=c.disableStream===!0,pt=c.disableAutoFetch===!0,dt=c.pdfBug===!0,F=c.CanvasFactory||DD,X=c.FilterFactory||ND,et=c.enableHWA===!0,At=f?f.length:c.length??NaN,L=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!wn&&!Z,I=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:w===Aw&&T===ww&&A&&M&&hh(A,document.baseURI)&&hh(M,document.baseURI);c.canvasFactory&&q_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),c.filterFactory&&q_("`filterFactory`-instance option, please use `FilterFactory` instead.");const $=null;vL(y);const W={canvasFactory:new F({ownerDocument:st,enableHWA:et}),filterFactory:new X({docId:e,ownerDocument:st}),cMapReaderFactory:I?null:new w({baseUrl:A,isCompressed:E}),standardFontDataFactory:I?null:new T({baseUrl:M})};if(!m){const ot={verbosity:y,port:pa.workerPort};m=ot.port?nc.fromPort(ot):new nc(ot),t._worker=m}const it={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:pt,rangeChunkSize:g,length:At,docBaseUrl:b,enableXfa:at,evaluatorOptions:{maxImageSize:N,disableFontFace:Z,ignoreErrors:D,isEvalSupported:k,isOffscreenCanvasSupported:j,isChrome:q,canvasMaxAreaInBytes:K,fontExtraProperties:nt,useSystemFonts:L,cMapUrl:I?A:null,standardFontDataUrl:I?M:null}},gt={disableFontFace:Z,fontExtraProperties:nt,ownerDocument:st,pdfBug:dt,styleElement:$,loadingParams:{disableAutoFetch:pt,enableXfa:at}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ot=m.messageHandler.sendWithPromise("GetDocRequest",it,r?[r.buffer]:null);let ct;if(f)ct=new lD(f,{disableRange:mt,disableStream:ft});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Et;wn?Et=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&hh(s)?e1:SD:Et=hh(s)?e1:mD,ct=new Et({url:s,length:At,httpHeaders:o,withCredentials:u,rangeChunkSize:g,disableRange:mt,disableStream:ft})}return ot.then(Et=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const se=new yh(e,Et,m.port),jt=new UD(se,t,ct,gt,W);t._transport=jt,se.send("Ready",null)})}).catch(t._capability.reject),t}function FD(c){if(c instanceof URL)return c.href;try{return new URL(c,window.location).href}catch{if(wn&&typeof c=="string")return c}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function zD(c){if(wn&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return zg(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function n1(c){return typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0}var Eg;const _g=class _g{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Tn(_g,Eg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Eg=new WeakMap,R(_g,Eg,0);let db=_g,jw=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class HD{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ur,Qs,Ri,Ql,Hp;class jD{constructor(t,e,s,r=!1){R(this,Ri);R(this,ur,null);R(this,Qs,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new B_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new Iw,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new Wd({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Ka.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:y=!1}){var k,j;(k=this._stats)==null||k.time("Overall");const b=this._transport.getRenderingIntent(s,r,m,y),{renderingIntent:A,cacheKey:E}=b;_(this,Qs,!1),x(this,Ri,Hp).call(this),d||(d=this._transport.getOptionalContentConfig(A));let w=this._intentStates.get(E);w||(w=Object.create(null),this._intentStates.set(E,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(A&ui.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(b));const T=q=>{var K;w.renderTasks.delete(D),(this._maybeCleanupAfterRender||M)&&_(this,Qs,!0),x(this,Ri,Ql).call(this,!M),q?(D.capability.reject(q),this._abortOperatorList({intentState:w,reason:q instanceof Error?q:new Error(q)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(K=globalThis.Stats)!=null&&K.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new pb({callback:T,params:{canvasContext:t,viewport:e,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(w.renderTasks||(w.renderTasks=new Set)).add(D);const N=D.task;return Promise.all([w.displayReadyCapability.promise,d]).then(([q,K])=>{var Z;if(this.destroyed){T();return}if((Z=this._stats)==null||Z.time("Rendering"),!(K.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:q,optionalContentConfig:K}),D.operatorListChanged()}).catch(T),N}getOperatorList({intent:t="display",annotationMode:e=Ka.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Dh.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function o(){u.read().then(function({value:f,done:g}){if(g){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),o()},r)}const u=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,Qs,!1),x(this,Ri,Hp).call(this),Promise.all(t)}cleanup(t=!1){_(this,Qs,!0);const e=x(this,Ri,Ql).call(this,!1);return t&&e&&this._stats&&(this._stats=new B_),e}_startRenderPage(t,e){var r,o;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&x(this,Ri,Ql).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:u}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},u).getReader(),g=this._intentStates.get(e);g.streamReader=f;const m=()=>{f.read().then(({value:y,done:b})=>{if(b){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,g),m())},y=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const b of g.renderTasks)b.operatorListChanged();x(this,Ri,Ql).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(y);else if(g.opListReadCapability)g.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof a0){let r=MD;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new al(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ur=new WeakMap,Qs=new WeakMap,Ri=new WeakSet,Ql=function(t=!1){if(x(this,Ri,Hp).call(this),!h(this,Qs)||this.destroyed)return!1;if(t)return _(this,ur,setTimeout(()=>{_(this,ur,null),x(this,Ri,Ql).call(this,!1)},LD)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Qs,!1),!0},Hp=function(){h(this,ur)&&(clearTimeout(h(this,ur)),_(this,ur,null))};var Zs,wg;class ID{constructor(){R(this,Zs,new Map);R(this,wg,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,wg).then(()=>{for(const[r]of h(this,Zs))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Nt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}h(this,Zs).set(e,r)}removeEventListener(t,e){const s=h(this,Zs).get(e);s==null||s(),h(this,Zs).delete(e)}terminate(){for(const[,t]of h(this,Zs))t==null||t();h(this,Zs).clear()}}Zs=new WeakMap,wg=new WeakMap;var xg,To,Co,Rc,jp,Mc,Ip;const fe=class fe{constructor({name:t=null,port:e=null,verbosity:s=yL()}={}){R(this,Rc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(fe,Co))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(fe,Co)||_(fe,Co,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return wn?Promise.all([_r.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new yh("main","worker",t),this._messageHandler.on("ready",function(){}),x(this,Rc,jp).call(this)}_initialize(){if(h(fe,To)||h(fe,Mc,Ip)){this._setupFakeWorker();return}let{workerSrc:t}=fe;try{fe._isSameOrigin(window.location.href,t)||(t=fe._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new yh("main","worker",e),r=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,x(this,Rc,jp).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};u();return}catch{Pg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(fe,To)||(Nt("Setting up fake worker."),_(fe,To,!0)),fe._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new ID;this._port=e;const s=`fake${Tn(fe,xg)._++}`,r=new yh(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new yh(s,s+"_worker",e),x(this,Rc,jp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(fe,Co))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,Co))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new fe(t)}static get workerSrc(){if(pa.workerSrc)return pa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return It(this,"_setupFakeWorkerGlobal",(async()=>h(this,Mc,Ip)?h(this,Mc,Ip):(await import(this.workerSrc)).WorkerMessageHandler)())}};xg=new WeakMap,To=new WeakMap,Co=new WeakMap,Rc=new WeakSet,jp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Mc=new WeakSet,Ip=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},R(fe,Mc),R(fe,xg,0),R(fe,To,!1),R(fe,Co),wn&&(_(fe,To,!0),pa.workerSrc||(pa.workerSrc="./pdf.worker.mjs")),fe._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},fe._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let nc=fe;var Js,fs,Lc,Dc,ps,Ro,bh;class UD{constructor(t,e,s,r,o){R(this,Ro);R(this,Js,new Map);R(this,fs,new Map);R(this,Lc,new Map);R(this,Dc,new Map);R(this,ps,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Iw,this.fontLoader=new HL({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return It(this,"annotationStorage",new c0)}getRenderingIntent(t,e=Ka.ENABLE,s=null,r=!1,o=!1){let u=ui.DISPLAY,d=tb;switch(t){case"any":u=ui.ANY;break;case"display":break;case"print":u=ui.PRINT;break;default:Nt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&ui.PRINT&&s instanceof vw?s:this.annotationStorage;switch(e){case Ka.DISABLE:u+=ui.ANNOTATIONS_DISABLE;break;case Ka.ENABLE:break;case Ka.ENABLE_FORMS:u+=ui.ANNOTATIONS_FORMS;break;case Ka.ENABLE_STORAGE:u+=ui.ANNOTATIONS_STORAGE,d=f.serializable;break;default:Nt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=ui.IS_EDITING),o&&(u+=ui.OPLIST);const{ids:g,hash:m}=f.modifiedIds,y=[u,d.hash,m];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,ps))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,fs).values())t.push(r._destroy());h(this,fs).clear(),h(this,Lc).clear(),h(this,Dc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Js).clear(),this.filterFactory.destroy(),cb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new al("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){r.close();return}Ge(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:u}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{Ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:u,done:d}){if(d){r.close();return}Ge(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{o.cancel(u),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new HD(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Oy(s.message,s.code);break;case"InvalidPDFException":r=new q1(s.message);break;case"MissingPDFException":r=new sl(s.message);break;case"UnexpectedResponseException":r=new Fg(s.message,s.status);break;case"UnknownErrorException":r=new Ny(s.message,s.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(_(this,ps,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?h(this,ps).reject(o):h(this,ps).resolve({password:o})};try{e.onPassword(r,s.code)}catch(o){h(this,ps).reject(o)}}else h(this,ps).reject(new Oy(s.message,s.code));return h(this,ps).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,fs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in o){const A=o.error;Nt(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const m=g&&((u=globalThis.FontInspector)!=null&&u.enabled)?(A,E)=>globalThis.FontInspector.fontAdded(A,E):null,y=new jL(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&y.data&&(y.data=null),this.commonObjs.resolve(s,y)});break;case"CopyLocalImage":const{imageRef:b}=o;Ge(b,"The imageRef must be defined.");for(const A of h(this,fs).values())for(const[,E]of A.objs)if((E==null?void 0:E.ref)===b)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,u])=>{var f;if(this.destroyed)return;const d=h(this,fs).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":d.objs.resolve(s,u),(u==null?void 0:u.dataLen)>fL&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,Lc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,Dc).set(o.refStr,t);const u=new jD(e,o,this,this._params.pdfBug);return h(this,fs).set(e,u),u});return h(this,Lc).set(e,r),r}getPageIndex(t){return n1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return x(this,Ro,bh).call(this,"GetFieldObjects")}hasJSActions(){return x(this,Ro,bh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,Ro,bh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return x(this,Ro,bh).call(this,"GetOptionalContentConfig").then(e=>new oD(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,Js).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,u;return{info:r[0],metadata:r[1]?new aD(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return h(this,Js).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,fs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Js).clear(),this.filterFactory.destroy(!0),cb.cleanup()}}cachedPageNumber(t){if(!n1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Dc).get(e)??null}}Js=new WeakMap,fs=new WeakMap,Lc=new WeakMap,Dc=new WeakMap,ps=new WeakMap,Ro=new WeakSet,bh=function(t,e=null){const s=h(this,Js).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,Js).set(t,r),r};const _p=Symbol("INITIAL_DATA");var Bi,pd,fb;class Iw{constructor(){R(this,pd);R(this,Bi,Object.create(null))}get(t,e=null){if(e){const r=x(this,pd,fb).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,Bi)[t];if(!s||s.data===_p)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,Bi)[t];return!!e&&e.data!==_p}resolve(t,e=null){const s=x(this,pd,fb).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,Bi)){const{data:s}=h(this,Bi)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,Bi,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Bi)){const{data:e}=h(this,Bi)[t];e!==_p&&(yield[t,e])}}}Bi=new WeakMap,pd=new WeakSet,fb=function(t){var e;return(e=h(this,Bi))[t]||(e[t]={...Promise.withResolvers(),data:_p})};var hr;class BD{constructor(t){R(this,hr,null);_(this,hr,t),this.onContinue=null}get promise(){return h(this,hr).capability.promise}cancel(t=0){h(this,hr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,hr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,hr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}hr=new WeakMap;var dr,Mo;const Jr=class Jr{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:b=null}){R(this,dr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new BD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(h(Jr,Mo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Jr,Mo).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:u}=this.params;this.gfx=new ec(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,dr)&&(window.cancelAnimationFrame(h(this,dr)),_(this,dr,null)),h(Jr,Mo).delete(this._canvas),this.callback(t||new a0(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,dr,window.requestAnimationFrame(()=>{_(this,dr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Jr,Mo).delete(this._canvas),this.callback())))}};dr=new WeakMap,Mo=new WeakMap,R(Jr,Mo,new WeakSet);let pb=Jr;const qD="4.8.69",GD="3634dab10";function i1(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function uh(c){return Math.max(0,Math.min(255,255*c))}class s1{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=uh(t),[t,t,t]}static G_HTML([t]){const e=i1(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(uh)}static RGB_HTML(t){return`#${t.map(i1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[uh(1-Math.min(1,t+r)),uh(1-Math.min(1,s+r)),uh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,o=1-e,u=1-s,d=Math.min(r,o,u);return["CMYK",r,o,u,d]}}class VD{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class p0 extends VD{_createSVG(t){return document.createElementNS(Us,t)}}class Uw{static setupStorage(t,e,s,r,o){const u=r.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const d of s.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:o}){const{attributes:u}=e,d=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,g]of Object.entries(u))if(g!=null)switch(f){case"class":g.length&&t.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,g)}d&&o.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){var y,b;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:o,linkService:s});const d=o!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}d&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),d&&Dh.shouldBuildText(r.name)&&g.push(A)}return{textDivs:g}}const m=[[r,-1,u]];for(;m.length>0;){const[A,E,w]=m.at(-1);if(E+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:T}=M;if(T==="#text"){const N=document.createTextNode(M.value);g.push(N),w.append(N);continue}const D=(y=M==null?void 0:M.attributes)!=null&&y.xmlns?document.createElementNS(M.attributes.xmlns,T):document.createElement(T);if(w.append(D),M.attributes&&this.setAttributes({html:D,element:M,storage:e,intent:o,linkService:s}),((b=M.children)==null?void 0:b.length)>0)m.push([M,-1,D]);else if(M.value){const N=document.createTextNode(M.value);d&&Dh.shouldBuildText(T)&&g.push(N),D.append(N)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Zd=1e3,YD=9,Jo=new WeakSet;function ma(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class XD{static create(t){switch(t.data.annotationType){case Ie.LINK:return new Bw(t);case Ie.TEXT:return new KD(t);case Ie.WIDGET:switch(t.data.fieldType){case"Tx":return new $D(t);case"Btn":return t.data.radioButton?new Vw(t):t.data.checkBox?new QD(t):new ZD(t);case"Ch":return new JD(t);case"Sig":return new WD(t)}return new rl(t);case Ie.POPUP:return new mb(t);case Ie.FREETEXT:return new Ww(t);case Ie.LINE:return new eO(t);case Ie.SQUARE:return new nO(t);case Ie.CIRCLE:return new iO(t);case Ie.POLYLINE:return new Qw(t);case Ie.CARET:return new aO(t);case Ie.INK:return new g0(t);case Ie.POLYGON:return new sO(t);case Ie.HIGHLIGHT:return new Zw(t);case Ie.UNDERLINE:return new rO(t);case Ie.SQUIGGLY:return new oO(t);case Ie.STRIKEOUT:return new lO(t);case Ie.STAMP:return new Jw(t);case Ie.FILEATTACHMENT:return new cO(t);default:return new Re(t)}}}var Lo,Oc,Nc,gd,gb;const b0=class b0{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){R(this,gd);R(this,Lo,null);R(this,Oc,!1);R(this,Nc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return b0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Lo)||_(this,Lo,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&x(this,gd,gb).call(this,e),(s=h(this,Nc))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Lo)&&(x(this,gd,gb).call(this,h(this,Lo).rect),(t=h(this,Nc))==null||t.popup.resetEdited(),_(this,Lo,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof rl||(o.tabIndex=Zd);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof mb){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:d,height:f}=ma(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const D=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;u.borderRadius=D}else if(this instanceof Vw){const D=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=D}switch(e.borderStyle.style){case lh.SOLID:u.borderStyle="solid";break;case lh.DASHED:u.borderStyle="dashed";break;case lh.BEVELED:Nt("Unimplemented border style: beveled");break;case lh.INSET:Nt("Unimplemented border style: inset");break;case lh.UNDERLINE:u.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(_(this,Oc,!0),u.borderColor=vt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):u.borderWidth=0}const g=vt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:y,pageX:b,pageY:A}=r.rawDims;u.left=`${100*(g[0]-b)/m}%`,u.top=`${100*(g[1]-A)/y}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(u.width=`${100*d/m}%`,u.height=`${100*f/y}%`):this.setRotation(E,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:u}=ma(this.data.rect);let d,f;t%180===0?(d=100*o/s,f=100*u/r):(d=100*u/s,f=100*o/r),e.style.width=`${d}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const o=r.detail[e],u=o[0],d=o.slice(1);r.target.style[s]=s1[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:s1[`${u}_rgb`](d)})};return It(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||s[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,o]of Object.entries(e)){const u=s[r];if(u){const d={detail:{[r]:o},target:t};u(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,T,D]=t.subarray(2,6);if(r===w&&o===M&&e===T&&s===D)return}const{style:u}=this.container;let d;if(h(this,Oc)){const{borderColor:w,borderWidth:M}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-e,g=o-s,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=m.createElement("defs");y.append(b);const A=m.createElement("clipPath"),E=`clippath_${this.data.id}`;A.setAttribute("id",E),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let w=2,M=t.length;w<M;w+=8){const T=t[w],D=t[w+1],N=t[w+2],k=t[w+3],j=m.createElement("rect"),q=(N-e)/f,K=(o-D)/g,Z=(T-N)/f,nt=(D-k)/g;j.setAttribute("x",q),j.setAttribute("y",K),j.setAttribute("width",Z),j.setAttribute("height",nt),A.append(j),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${q}" y="${K}" width="${Z}" height="${nt}"/>`)}h(this,Oc)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(y),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=_(this,Nc,new mb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:u,exportValues:d}of r){if(o===-1||u===e)continue;const f=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${u}"]`);if(g&&!Jo.has(g)){Nt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,u=r.getAttribute("data-element-id");u!==e&&Jo.has(r)&&s.push({id:u,exportValue:o,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Lo=new WeakMap,Oc=new WeakMap,Nc=new WeakMap,gd=new WeakSet,gb=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=ma(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*g/o}%`,e.height=`${100*m/u}%`):this.setRotation(r)};let Re=b0;var hi,Kr,qw,Gw;class Bw extends Re{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});R(this,hi);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(x(this,hi,qw).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(x(this,hi,Gw).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&x(this,hi,Kr).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),x(this,hi,Kr).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const u=r.get(o);u&&(e[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),x(this,hi,Kr).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),x(this,hi,Kr).call(this),!this._fieldObjects){Nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var y;r==null||r();const{fields:o,refs:u,include:d}=s,f=[];if(o.length!==0||u.length!==0){const b=new Set(u);for(const A of o){const E=this._fieldObjects[A]||[];for(const{id:w}of E)b.add(w)}for(const A of Object.values(this._fieldObjects))for(const E of A)b.has(E.id)===d&&f.push(E)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const g=this.annotationStorage,m=[];for(const b of f){const{id:A}=b;switch(m.push(A),b.type){case"text":{const w=b.defaultValue||"";g.setValue(A,{value:w});break}case"checkbox":case"radiobutton":{const w=b.defaultValue===b.exportValues;g.setValue(A,{value:w});break}case"combobox":case"listbox":{const w=b.defaultValue||"";g.setValue(A,{value:w});break}default:continue}const E=document.querySelector(`[data-element-id="${A}"]`);if(E){if(!Jo.has(E)){Nt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}hi=new WeakSet,Kr=function(){this.container.setAttribute("data-internal-link","")},qw=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},x(this,hi,Kr).call(this)},Gw=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),x(this,hi,Kr).call(this)};class KD extends Re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class rl extends Re{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Dn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,o){s.includes("mouse")?t.addEventListener(s,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{var d;if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u)}}))})}_setEventListeners(t,e,s,r){var o,u,d;for(const[f,g]of s)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,g,r),g==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":vt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||YD,o=t.style;let u;const d=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(Ay*r))||1,y=g/m;u=Math.min(r,f(y/Ay))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(r,f(g/Ay))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=vt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class $D extends rl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const o=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),o.setValue(u.id,{[r]:s})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let d=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let g=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Jo.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Zd,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";s.value=m.userValue=A,m.formattedValue=null});let y=b=>{const{formattedValue:A}=m;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var w;if(m.focused)return;const{target:E}=A;m.userValue&&(E.value=m.userValue),m.lastCommittedValue=E.value,m.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(w){m.userValue=w.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),w.target.value=m.userValue},formattedValue(w){const{formattedValue:M}=w.detail;m.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var N;const{charLimit:M}=w.detail,{target:T}=w;if(M===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",M);let D=m.userValue;!D||D.length<=M||(D=D.slice(0,M),T.value=m.userValue=D,t.setValue(e,{value:D}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),s.addEventListener("keydown",A=>{var M;m.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(m.commitKey=3),E===-1)return;const{value:w}=A.target;m.lastCommittedValue!==w&&(m.lastCommittedValue=w,m.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=y;y=null,s.addEventListener("blur",A=>{var w,M;if(!m.focused||!A.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(m.focused=!1);const{value:E}=A.target;m.userValue=E,m.lastCommittedValue!==E&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",A=>{var j;m.lastCommittedValue=null;const{data:E,target:w}=A,{value:M,selectionStart:T,selectionEnd:D}=w;let N=T,k=D;switch(A.inputType){case"deleteWordBackward":{const q=M.substring(0,T).match(/\w*[^\w]*$/);q&&(N-=q[0].length);break}case"deleteWordForward":{const q=M.substring(T).match(/^[^\w]*\w*/);q&&(k+=q[0].length);break}case"deleteContentBackward":T===D&&(N-=1);break;case"deleteContentForward":T===D&&(k+=1);break}A.preventDefault(),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:E||"",willCommit:!1,selStart:N,selEnd:k}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&s.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class WD extends rl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class QD extends rl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Jo.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=Zd,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,s)){const m=f&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const d=e.defaultFieldValue||"Off";u.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Vw extends rl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const o=document.createElement("input");if(Jo.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Zd,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const d=e.defaultFieldValue;u.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const f={value:g=>{const m=u===g.detail.value;for(const y of this._getElementsByName(g.target.name)){const b=m&&y.id===s;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class ZD extends Bw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class JD extends rl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Jo.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Zd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,s.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let u=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),u=()=>{m.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const d=m=>{const y=m?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,E=>E.selected).map(E=>E[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let f=d(!1);const g=m=>{const y=m.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(b){u==null||u();const A=b.detail.value,E=new Set(Array.isArray(A)?A:[A]);for(const w of r.options)w.selected=E.has(w.value);t.setValue(e,{value:d(!0)}),f=d(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,E=b.detail.remove;A[E].selected=!1,r.remove(E),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:d(!0),items:g(b)}),f=d(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=d(!1)},insert(b){const{index:A,displayValue:E,exportValue:w}=b.detail.insert,M=r.children[A],T=document.createElement("option");T.textContent=E,T.value=w,M?M.before(T):r.append(T),t.setValue(e,{value:d(!0),items:g(b)}),f=d(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const E of A){const{displayValue:w,exportValue:M}=E,T=document.createElement("option");T.textContent=w,T.value=M,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(b)}),f=d(!1)},indices(b){const A=new Set(b.detail.indices);for(const E of b.target.options)E.selected=A.has(E.index);t.setValue(e,{value:d(!0)}),f=d(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{var A;const y=d(!0),b=d(!1);t.setValue(e,{value:y}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class mb extends Re{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Re._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new tO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${s0}${s}`).join(",")),this.container}}var kc,Tg,Cg,Pc,Do,Ee,ta,Fc,md,vd,zc,ea,qi,na,yd,ia,bd,Oo,No,ie,Up,vb,Yw,Xw,Kw,$w,Bp,qp,yb;class tO{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:o,contentsObj:u,richText:d,parent:f,rect:g,parentRect:m,open:y}){R(this,ie);R(this,kc,x(this,ie,Kw).bind(this));R(this,Tg,x(this,ie,yb).bind(this));R(this,Cg,x(this,ie,qp).bind(this));R(this,Pc,x(this,ie,Bp).bind(this));R(this,Do,null);R(this,Ee,null);R(this,ta,null);R(this,Fc,null);R(this,md,null);R(this,vd,null);R(this,zc,null);R(this,ea,!1);R(this,qi,null);R(this,na,null);R(this,yd,null);R(this,ia,null);R(this,bd,null);R(this,Oo,null);R(this,No,!1);var b;_(this,Ee,t),_(this,bd,r),_(this,ta,u),_(this,ia,d),_(this,vd,f),_(this,Do,e),_(this,yd,g),_(this,zc,m),_(this,md,s),_(this,Fc,o0.toDateObject(o)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",h(this,Pc)),A.addEventListener("mouseenter",h(this,Cg)),A.addEventListener("mouseleave",h(this,Tg)),A.classList.add("popupTriggerArea");for(const A of s)(b=A.container)==null||b.addEventListener("keydown",h(this,kc));h(this,Ee).hidden=!0,y&&x(this,ie,Bp).call(this)}render(){if(h(this,qi))return;const t=_(this,qi,document.createElement("div"));if(t.className="popup",h(this,Do)){const o=t.style.outlineColor=vt.makeHexColor(...h(this,Do));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=vt.makeHexColor(...h(this,Do).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,bd),t.append(e),h(this,Fc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Fc).valueOf()})),e.append(o)}const r=h(this,ie,Up);if(r)Uw.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,ta));t.append(o)}h(this,Ee).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,u=r.length;o<u;++o){const d=r[o];s.append(document.createTextNode(d)),o<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,Oo)||_(this,Oo,{contentsObj:h(this,ta),richText:h(this,ia)}),t&&_(this,na,null),e&&(_(this,ia,x(this,ie,Xw).call(this,e)),_(this,ta,null)),(s=h(this,qi))==null||s.remove(),_(this,qi,null)}resetEdited(){var t;h(this,Oo)&&({contentsObj:Tn(this,ta)._,richText:Tn(this,ia)._}=h(this,Oo),_(this,Oo,null),(t=h(this,qi))==null||t.remove(),_(this,qi,null),_(this,na,null))}forceHide(){_(this,No,this.isVisible),h(this,No)&&(h(this,Ee).hidden=!0)}maybeShow(){h(this,No)&&(h(this,qi)||x(this,ie,qp).call(this),_(this,No,!1),h(this,Ee).hidden=!1)}get isVisible(){return h(this,Ee).hidden===!1}}kc=new WeakMap,Tg=new WeakMap,Cg=new WeakMap,Pc=new WeakMap,Do=new WeakMap,Ee=new WeakMap,ta=new WeakMap,Fc=new WeakMap,md=new WeakMap,vd=new WeakMap,zc=new WeakMap,ea=new WeakMap,qi=new WeakMap,na=new WeakMap,yd=new WeakMap,ia=new WeakMap,bd=new WeakMap,Oo=new WeakMap,No=new WeakMap,ie=new WeakSet,Up=function(){const t=h(this,ia),e=h(this,ta);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,ia).html||null},vb=function(){var t,e,s;return((s=(e=(t=h(this,ie,Up))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},Yw=function(){var t,e,s;return((s=(e=(t=h(this,ie,Up))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},Xw=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ie,Yw),fontSize:h(this,ie,vb)?`calc(${h(this,ie,vb)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return s},Kw=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,ea))&&x(this,ie,Bp).call(this)},$w=function(){if(h(this,na)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:o}}}=h(this,vd);let u=!!h(this,zc),d=u?h(this,zc):h(this,yd);for(const E of h(this,md))if(!d||vt.intersect(E.data.rect,d)!==null){d=E.data.rect,u=!0;break}const f=vt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=u?d[2]-d[0]+5:0,y=f[0]+m,b=f[1];_(this,na,[100*(y-r)/e,100*(b-o)/s]);const{style:A}=h(this,Ee);A.left=`${h(this,na)[0]}%`,A.top=`${h(this,na)[1]}%`},Bp=function(){_(this,ea,!h(this,ea)),h(this,ea)?(x(this,ie,qp).call(this),h(this,Ee).addEventListener("click",h(this,Pc)),h(this,Ee).addEventListener("keydown",h(this,kc))):(x(this,ie,yb).call(this),h(this,Ee).removeEventListener("click",h(this,Pc)),h(this,Ee).removeEventListener("keydown",h(this,kc)))},qp=function(){h(this,qi)||this.render(),this.isVisible?h(this,ea)&&h(this,Ee).classList.add("focused"):(x(this,ie,$w).call(this),h(this,Ee).hidden=!1,h(this,Ee).style.zIndex=parseInt(h(this,Ee).style.zIndex)+1e3)},yb=function(){h(this,Ee).classList.remove("focused"),!(h(this,ea)||!this.isVisible)&&(h(this,Ee).hidden=!0,h(this,Ee).style.zIndex=parseInt(h(this,Ee).style.zIndex)-1e3)};class Ww extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Lt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ad;class eO extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Ad,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=ma(e.rect),o=this.svgFactory.create(s,r,!0),u=_(this,Ad,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ad=new WeakMap;var Sd;class nO extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Sd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=ma(e.rect),o=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,Sd,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",s-u),d.setAttribute("height",r-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sd=new WeakMap;var Ed;class iO extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Ed,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=ma(e.rect),o=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,Ed,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-u/2),d.setAttribute("ry",r/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ed)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ed=new WeakMap;var _d;class Qw extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,_d,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:u,height:d}=ma(e),f=this.svgFactory.create(u,d,!0);let g=[];for(let y=0,b=s.length;y<b;y+=2){const A=s[y]-e[0],E=e[3]-s[y+1];g.push(`${A},${E}`)}g=g.join(" ");const m=_(this,_d,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,_d)}addHighlightArea(){this.container.classList.add("highlightArea")}}_d=new WeakMap;class sO extends Qw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class aO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var wd;class g0 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,wd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Lt.HIGHLIGHT:Lt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:u,height:d}=ma(e),f=this.svgFactory.create(u,d,!0);for(const g of s){let m=[];for(let b=0,A=g.length;b<A;b+=2){const E=g[b]-e[0],w=e[3]-g[b+1];m.push(`${E},${w}`)}m=m.join(" ");const y=this.svgFactory.createElement(this.svgElementName);h(this,wd).push(y),y.setAttribute("points",m),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),f.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}wd=new WeakMap;class Zw extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Lt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class rO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class oO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class lO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Jw extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Lt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xd,Td,bb;class cO extends Re{constructor(e){var r;super(e,{isRenderable:!0});R(this,Td);R(this,xd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",x(this,Td,bb).bind(this)),_(this,xd,r);const{isMac:o}=Dn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&x(this,Td,bb).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}xd=new WeakMap,Td=new WeakSet,bb=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Cd,ko,Po,Rd,el,tx,Ab,y1;let uO=(y1=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:u,structTreeLayer:d}){R(this,el);R(this,Cd,null);R(this,ko,null);R(this,Po,new Map);R(this,Rd,null);this.div=t,_(this,Cd,e),_(this,ko,s),_(this,Rd,d||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Po).size>0}async render(t){var u;const{annotations:e}=t,s=this.div;Qo(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new p0,annotationStorage:t.annotationStorage||new c0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===Ie.POPUP;if(f){const y=r.get(d.id);if(!y)continue;o.elements=y}else{const{width:y,height:b}=ma(d.rect);if(y<=0||b<=0)continue}o.data=d;const g=XD.create(o);if(!g.isRenderable)continue;if(!f&&d.popupRef){const y=r.get(d.popupRef);y?y.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await x(this,el,tx).call(this,m,d.id),g._isEditable&&(h(this,Po).set(g.data.id,g),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(g))}x(this,el,Ab).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Qo(e,{rotation:t.rotation}),x(this,el,Ab).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Po).values())}getEditableAnnotation(t){return h(this,Po).get(t)}},Cd=new WeakMap,ko=new WeakMap,Po=new WeakMap,Rd=new WeakMap,el=new WeakSet,tx=async function(t,e){var u,d;const s=t.firstChild||t,r=s.id=`${s0}${e}`,o=await((u=h(this,Rd))==null?void 0:u.getAriaAttributes(r));if(o)for(const[f,g]of o)s.setAttribute(f,g);this.div.append(t),(d=h(this,Cd))==null||d.moveElementInDOM(this.div,t,s,!1)},Ab=function(){if(!h(this,ko))return;const t=this.div;for(const[e,s]of h(this,ko)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}h(this,ko).clear()},y1);const wp=/\r\n?|\n/g;var Gi,si,Md,Fo,ai,Pe,ex,nx,ix,Gp,ya,Vp,Yp,sx,Eb,ax;const le=class le extends Zt{constructor(e){super({...e,name:"freeTextEditor"});R(this,Pe);R(this,Gi);R(this,si,"");R(this,Md,`${this.id}-editor`);R(this,Fo,null);R(this,ai);_(this,Gi,e.color||le._defaultColor||Zt._defaultLineColor),_(this,ai,e.fontSize||le._defaultFontSize)}static get _keyboardManager(){const e=le.prototype,s=u=>u.isEmpty(),r=Zo.TRANSLATE_SMALL,o=Zo.TRANSLATE_BIG;return It(this,"_keyboardManager",new Qd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(e,s){Zt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Tt.FREETEXT_SIZE:le._defaultFontSize=s;break;case Tt.FREETEXT_COLOR:le._defaultColor=s;break}}updateParams(e,s){switch(e){case Tt.FREETEXT_SIZE:x(this,Pe,ex).call(this,s);break;case Tt.FREETEXT_COLOR:x(this,Pe,nx).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,le._defaultFontSize],[Tt.FREETEXT_COLOR,le._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,h(this,ai)],[Tt.FREETEXT_COLOR,h(this,Gi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-le._internalPadding*e,-(le._internalPadding+h(this,ai))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Lt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Fo,new AbortController);const e=this._uiManager.combinedSignal(h(this,Fo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Md)),this._isDraggable=!0,(e=h(this,Fo))==null||e.abort(),_(this,Fo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,si),s=_(this,si,x(this,Pe,ix).call(this).trimEnd());if(e===s)return;const r=o=>{if(_(this,si,o),!o){this.remove();return}x(this,Pe,Yp).call(this),this._uiManager.rebuild(this),x(this,Pe,Gp).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),x(this,Pe,Gp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){le._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Md)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,ai)}px * var(--scale-factor))`,r.color=h(this,Gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),lg(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[m,y]=this.pageDimensions,[b,A]=this.pageTranslation;let E,w;switch(this.rotation){case 0:E=e+(d[0]-b)/m,w=s+this.height-(d[1]-A)/y;break;case 90:E=e+(d[0]-b)/m,w=s-(d[1]-A)/y,[f,g]=[g,-f];break;case 180:E=e-this.width+(d[0]-b)/m,w=s-(d[1]-A)/y,[f,g]=[-f,-g];break;case 270:E=e+(d[0]-b-this.height*y)/m,w=s+(d[1]-A-this.width*m)/y,[f,g]=[-g,f];break}this.setAt(E*o,w*u,f,g)}else this.setAt(e*o,s*u,this.width*o,this.height*u);x(this,Pe,Yp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,w,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=x(E=le,ya,Eb).call(E,s.getData("text")||"").replaceAll(wp,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:g}=d,m=[],y=[];if(f.nodeType===Node.TEXT_NODE){const T=f.parentElement;if(y.push(f.nodeValue.slice(g).replaceAll(wp,"")),T!==this.editorDiv){let D=m;for(const N of this.editorDiv.childNodes){if(N===T){D=y;continue}D.push(x(w=le,ya,Vp).call(w,N))}}m.push(f.nodeValue.slice(0,g).replaceAll(wp,""))}else if(f===this.editorDiv){let T=m,D=0;for(const N of this.editorDiv.childNodes)D++===g&&(T=y),T.push(x(M=le,ya,Vp).call(M,N))}_(this,si,`${m.join(`
`)}${o}${y.join(`
`)}`),x(this,Pe,Yp).call(this);const b=new Range;let A=m.reduce((T,D)=>T+D.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const D=T.nodeValue.length;if(A<=D){b.setStart(T,A),b.setEnd(T,A);break}A-=D}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let o=null;if(e instanceof Ww){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:m,rotation:y,id:b,popupRef:A},textContent:E,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!E||E.length===0)return null;o=e={annotationType:Lt.FREETEXT,color:Array.from(g),fontSize:f,value:E.join(`
`),position:w,pageIndex:M-1,rect:m.slice(0),rotation:y,id:b,deleted:!1,popupRef:A}}const u=await super.deserialize(e,s,r);return _(u,ai,e.fontSize),_(u,Gi,vt.makeHexColor(...e.color)),_(u,si,x(d=le,ya,Eb).call(d,e.value)),u.annotationElementId=e.id||null,u._initialData=o,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=le._internalPadding*this.parentScale,r=this.getRect(s,s),o=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Gi)),u={annotationType:Lt.FREETEXT,color:o,fontSize:h(this,ai),value:x(this,Pe,sx).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!x(this,Pe,ax).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,ai)}px * var(--scale-factor))`,r.color=h(this,Gi),s.replaceChildren();for(const u of h(this,si).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),s.append(d)}const o=le._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:h(this,si)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Gi=new WeakMap,si=new WeakMap,Md=new WeakMap,Fo=new WeakMap,ai=new WeakMap,Pe=new WeakSet,ex=function(e){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,ai))*this.parentScale),_(this,ai,o),x(this,Pe,Gp).call(this)},r=h(this,ai);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},nx=function(e){const s=o=>{_(this,Gi,this.editorDiv.style.color=o)},r=h(this,Gi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ix=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(x(r=le,ya,Vp).call(r,o)),s=o);return e.join(`
`)},Gp=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},ya=new WeakSet,Vp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(wp,"")},Yp=function(){if(this.editorDiv.replaceChildren(),!!h(this,si))for(const e of h(this,si).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},sx=function(){return h(this,si).replaceAll(""," ")},Eb=function(e){return e.replaceAll(" ","")},ax=function(e){const{value:s,fontSize:r,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,f)=>d!==o[f])||e.pageIndex!==u},R(le,ya),xt(le,"_freeTextDefaultContent",""),xt(le,"_internalPadding",0),xt(le,"_defaultColor",null),xt(le,"_defaultFontSize",10),xt(le,"_type","freetext"),xt(le,"_editorType",Lt.FREETEXT);let Sb=le;class rx{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ri,Vi,Hc,jc,gs,Pt,zo,Ho,Ld,Dd,Ic,Uc,fr,Od,Rg,Mg,Ve,Ah,ox,lx,cx,ux,hx,dx;const qs=class qs{constructor({x:t,y:e},s,r,o,u,d=0){R(this,Ve);R(this,ri);R(this,Vi,[]);R(this,Hc);R(this,jc);R(this,gs,[]);R(this,Pt,new Float64Array(18));R(this,zo);R(this,Ho);R(this,Ld);R(this,Dd);R(this,Ic);R(this,Uc);R(this,fr,[]);_(this,ri,s),_(this,Uc,o*r),_(this,jc,u),h(this,Pt).set([NaN,NaN,NaN,NaN,t,e],6),_(this,Hc,d),_(this,Dd,h(qs,Od)*r),_(this,Ld,h(qs,Mg)*r),_(this,Ic,r),h(this,fr).push(t,e)}isEmpty(){return isNaN(h(this,Pt)[8])}add({x:t,y:e}){var nt;_(this,zo,t),_(this,Ho,e);const[s,r,o,u]=h(this,ri);let[d,f,g,m]=h(this,Pt).subarray(8,12);const y=t-g,b=e-m,A=Math.hypot(y,b);if(A<h(this,Ld))return!1;const E=A-h(this,Dd),w=E/A,M=w*y,T=w*b;let D=d,N=f;d=g,f=m,g+=M,m+=T,(nt=h(this,fr))==null||nt.push(t,e);const k=-T/E,j=M/E,q=k*h(this,Uc),K=j*h(this,Uc);return h(this,Pt).set(h(this,Pt).subarray(2,8),0),h(this,Pt).set([g+q,m+K],4),h(this,Pt).set(h(this,Pt).subarray(14,18),12),h(this,Pt).set([g-q,m-K],16),isNaN(h(this,Pt)[6])?(h(this,gs).length===0&&(h(this,Pt).set([d+q,f+K],2),h(this,gs).push(NaN,NaN,NaN,NaN,(d+q-s)/o,(f+K-r)/u),h(this,Pt).set([d-q,f-K],14),h(this,Vi).push(NaN,NaN,NaN,NaN,(d-q-s)/o,(f-K-r)/u)),h(this,Pt).set([D,N,d,f,g,m],6),!this.isEmpty()):(h(this,Pt).set([D,N,d,f,g,m],6),Math.abs(Math.atan2(N-f,D-d)-Math.atan2(T,M))<Math.PI/2?([d,f,g,m]=h(this,Pt).subarray(2,6),h(this,gs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/o,((f+m)/2-r)/u),[d,f,D,N]=h(this,Pt).subarray(14,18),h(this,Vi).push(NaN,NaN,NaN,NaN,((D+d)/2-s)/o,((N+f)/2-r)/u),!0):([D,N,d,f,g,m]=h(this,Pt).subarray(0,6),h(this,gs).push(((D+5*d)/6-s)/o,((N+5*f)/6-r)/u,((5*d+g)/6-s)/o,((5*f+m)/6-r)/u,((d+g)/2-s)/o,((f+m)/2-r)/u),[g,m,d,f,D,N]=h(this,Pt).subarray(12,18),h(this,Vi).push(((D+5*d)/6-s)/o,((N+5*f)/6-r)/u,((5*d+g)/6-s)/o,((5*f+m)/6-r)/u,((d+g)/2-s)/o,((f+m)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,gs),e=h(this,Vi);if(isNaN(h(this,Pt)[6])&&!this.isEmpty())return x(this,Ve,ox).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);x(this,Ve,cx).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return x(this,Ve,lx).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,o,u){return new fx(t,e,s,r,o,u)}getOutlines(){var y;const t=h(this,gs),e=h(this,Vi),s=h(this,Pt),[r,o,u,d]=h(this,ri),f=new Float64Array((((y=h(this,fr))==null?void 0:y.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(h(this,fr)[b]-r)/u,f[b+1]=(h(this,fr)[b+1]-o)/d;if(f[f.length-2]=(h(this,zo)-r)/u,f[f.length-1]=(h(this,Ho)-o)/d,isNaN(s[6])&&!this.isEmpty())return x(this,Ve,ux).call(this,f);const g=new Float64Array(h(this,gs).length+24+h(this,Vi).length);let m=t.length;for(let b=0;b<m;b+=2){if(isNaN(t[b])){g[b]=g[b+1]=NaN;continue}g[b]=t[b],g[b+1]=t[b+1]}m=x(this,Ve,dx).call(this,g,m);for(let b=e.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(e[b+A])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[b+A],g[m+1]=e[b+A+1],m+=2}return x(this,Ve,hx).call(this,g,m),this.newFreeDrawOutline(g,f,h(this,ri),h(this,Ic),h(this,Hc),h(this,jc))}};ri=new WeakMap,Vi=new WeakMap,Hc=new WeakMap,jc=new WeakMap,gs=new WeakMap,Pt=new WeakMap,zo=new WeakMap,Ho=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,Ic=new WeakMap,Uc=new WeakMap,fr=new WeakMap,Od=new WeakMap,Rg=new WeakMap,Mg=new WeakMap,Ve=new WeakSet,Ah=function(){const t=h(this,Pt).subarray(4,6),e=h(this,Pt).subarray(16,18),[s,r,o,u]=h(this,ri);return[(h(this,zo)+(t[0]-e[0])/2-s)/o,(h(this,Ho)+(t[1]-e[1])/2-r)/u,(h(this,zo)+(e[0]-t[0])/2-s)/o,(h(this,Ho)+(e[1]-t[1])/2-r)/u]},ox=function(){const[t,e,s,r]=h(this,ri),[o,u,d,f]=x(this,Ve,Ah).call(this);return`M${(h(this,Pt)[2]-t)/s} ${(h(this,Pt)[3]-e)/r} L${(h(this,Pt)[4]-t)/s} ${(h(this,Pt)[5]-e)/r} L${o} ${u} L${d} ${f} L${(h(this,Pt)[16]-t)/s} ${(h(this,Pt)[17]-e)/r} L${(h(this,Pt)[14]-t)/s} ${(h(this,Pt)[15]-e)/r} Z`},lx=function(t){const e=h(this,Vi);t.push(`L${e[4]} ${e[5]} Z`)},cx=function(t){const[e,s,r,o]=h(this,ri),u=h(this,Pt).subarray(4,6),d=h(this,Pt).subarray(16,18),[f,g,m,y]=x(this,Ve,Ah).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-s)/o} L${f} ${g} L${m} ${y} L${(d[0]-e)/r} ${(d[1]-s)/o}`)},ux=function(t){const e=h(this,Pt),[s,r,o,u]=h(this,ri),[d,f,g,m]=x(this,Ve,Ah).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-r)/u],0),this.newFreeDrawOutline(y,t,h(this,ri),h(this,Ic),h(this,Hc),h(this,jc))},hx=function(t,e){const s=h(this,Vi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},dx=function(t,e){const s=h(this,Pt).subarray(4,6),r=h(this,Pt).subarray(16,18),[o,u,d,f]=h(this,ri),[g,m,y,b]=x(this,Ve,Ah).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/d,(s[1]-u)/f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-u)/f],e),e+=24},R(qs,Od,8),R(qs,Rg,2),R(qs,Mg,h(qs,Od)+h(qs,Rg));let ug=qs;var Bc,jo,sa,Nd,oi,kd,Ce,Yn,Sh,Eh,px;class fx extends rx{constructor(e,s,r,o,u,d){super();R(this,Yn);R(this,Bc);R(this,jo,null);R(this,sa);R(this,Nd);R(this,oi);R(this,kd);R(this,Ce);_(this,Ce,e),_(this,oi,s),_(this,Bc,r),_(this,kd,o),_(this,sa,u),_(this,Nd,d),x(this,Yn,px).call(this,d);const{x:f,y:g,width:m,height:y}=h(this,jo);for(let b=0,A=e.length;b<A;b+=2)e[b]=(e[b]-f)/m,e[b+1]=(e[b+1]-g)/y;for(let b=0,A=s.length;b<A;b+=2)s[b]=(s[b]-f)/m,s[b+1]=(s[b+1]-g)/y}toSVGPath(){const e=[`M${h(this,Ce)[4]} ${h(this,Ce)[5]}`];for(let s=6,r=h(this,Ce).length;s<r;s+=6){if(isNaN(h(this,Ce)[s])){e.push(`L${h(this,Ce)[s+4]} ${h(this,Ce)[s+5]}`);continue}e.push(`C${h(this,Ce)[s]} ${h(this,Ce)[s+1]} ${h(this,Ce)[s+2]} ${h(this,Ce)[s+3]} ${h(this,Ce)[s+4]} ${h(this,Ce)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,o],u){const d=r-e,f=o-s;let g,m;switch(u){case 0:g=x(this,Yn,Sh).call(this,h(this,Ce),e,o,d,-f),m=x(this,Yn,Sh).call(this,h(this,oi),e,o,d,-f);break;case 90:g=x(this,Yn,Eh).call(this,h(this,Ce),e,s,d,f),m=x(this,Yn,Eh).call(this,h(this,oi),e,s,d,f);break;case 180:g=x(this,Yn,Sh).call(this,h(this,Ce),r,s,-d,f),m=x(this,Yn,Sh).call(this,h(this,oi),r,s,-d,f);break;case 270:g=x(this,Yn,Eh).call(this,h(this,Ce),r,o,-d,-f),m=x(this,Yn,Eh).call(this,h(this,oi),r,o,-d,-f);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return h(this,jo)}newOutliner(e,s,r,o,u,d=0){return new ug(e,s,r,o,u,d)}getNewOutline(e,s){const{x:r,y:o,width:u,height:d}=h(this,jo),[f,g,m,y]=h(this,Bc),b=u*m,A=d*y,E=r*m+f,w=o*y+g,M=this.newOutliner({x:h(this,oi)[0]*b+E,y:h(this,oi)[1]*A+w},h(this,Bc),h(this,kd),e,h(this,Nd),s??h(this,sa));for(let T=2;T<h(this,oi).length;T+=2)M.add({x:h(this,oi)[T]*b+E,y:h(this,oi)[T+1]*A+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Bc=new WeakMap,jo=new WeakMap,sa=new WeakMap,Nd=new WeakMap,oi=new WeakMap,kd=new WeakMap,Ce=new WeakMap,Yn=new WeakSet,Sh=function(e,s,r,o,u){const d=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)d[f]=s+e[f]*o,d[f+1]=r+e[f+1]*u;return d},Eh=function(e,s,r,o,u){const d=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)d[f]=s+e[f+1]*o,d[f+1]=r+e[f]*u;return d},px=function(e){const s=h(this,Ce);let r=s[4],o=s[5],u=r,d=o,f=r,g=o,m=r,y=o;const b=e?Math.max:Math.min;for(let T=6,D=s.length;T<D;T+=6){if(isNaN(s[T]))u=Math.min(u,s[T+4]),d=Math.min(d,s[T+5]),f=Math.max(f,s[T+4]),g=Math.max(g,s[T+5]),y<s[T+5]?(m=s[T+4],y=s[T+5]):y===s[T+5]&&(m=b(m,s[T+4]));else{const N=vt.bezierBoundingBox(r,o,...s.slice(T,T+6));u=Math.min(u,N[0]),d=Math.min(d,N[1]),f=Math.max(f,N[2]),g=Math.max(g,N[3]),y<N[3]?(m=N[2],y=N[3]):y===N[3]&&(m=b(m,N[2]))}r=s[T+4],o=s[T+5]}const A=u-h(this,sa),E=d-h(this,sa),w=f-u+2*h(this,sa),M=g-d+2*h(this,sa);_(this,jo,{x:A,y:E,width:w,height:M,lastPoint:[m,y]})};var Pd,pr,Yi,Nn,gx,Xp,mx,vx,_b;class a1{constructor(t,e=0,s=0,r=!0){R(this,Nn);R(this,Pd);R(this,pr,[]);R(this,Yi,[]);let o=1/0,u=-1/0,d=1/0,f=-1/0;const g=10**-4;for(const{x:M,y:T,width:D,height:N}of t){const k=Math.floor((M-e)/g)*g,j=Math.ceil((M+D+e)/g)*g,q=Math.floor((T-e)/g)*g,K=Math.ceil((T+N+e)/g)*g,Z=[k,q,K,!0],nt=[j,q,K,!1];h(this,pr).push(Z,nt),o=Math.min(o,k),u=Math.max(u,j),d=Math.min(d,q),f=Math.max(f,K)}const m=u-o+2*s,y=f-d+2*s,b=o-s,A=d-s,E=h(this,pr).at(r?-1:-2),w=[E[0],E[2]];for(const M of h(this,pr)){const[T,D,N]=M;M[0]=(T-b)/m,M[1]=(D-A)/y,M[2]=(N-A)/y}_(this,Pd,{x:b,y:A,width:m,height:y,lastPoint:w})}getOutlines(){h(this,pr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,pr))e[3]?(t.push(...x(this,Nn,_b).call(this,e)),x(this,Nn,mx).call(this,e)):(x(this,Nn,vx).call(this,e),t.push(...x(this,Nn,_b).call(this,e)));return x(this,Nn,gx).call(this,t)}}Pd=new WeakMap,pr=new WeakMap,Yi=new WeakMap,Nn=new WeakSet,gx=function(t){const e=[],s=new Set;for(const u of t){const[d,f,g]=u;e.push([d,f,u],[d,g,u])}e.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=e.length;u<d;u+=2){const f=e[u][2],g=e[u+1][2];f.push(g),g.push(f),s.add(f),s.add(g)}const r=[];let o;for(;s.size>0;){const u=s.values().next().value;let[d,f,g,m,y]=u;s.delete(u);let b=d,A=f;for(o=[d,g],r.push(o);;){let E;if(s.has(m))E=m;else if(s.has(y))E=y;else break;s.delete(E),[d,f,g,m,y]=E,b!==d&&(o.push(b,A,d,A===f?f:g),b=d),A=A===f?g:f}o.push(b,A)}return new hO(r,h(this,Pd))},Xp=function(t){const e=h(this,Yi);let s=0,r=e.length-1;for(;s<=r;){const o=s+r>>1,u=e[o][0];if(u===t)return o;u<t?s=o+1:r=o-1}return r+1},mx=function([,t,e]){const s=x(this,Nn,Xp).call(this,t);h(this,Yi).splice(s,0,[t,e])},vx=function([,t,e]){const s=x(this,Nn,Xp).call(this,t);for(let r=s;r<h(this,Yi).length;r++){const[o,u]=h(this,Yi)[r];if(o!==t)break;if(o===t&&u===e){h(this,Yi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,u]=h(this,Yi)[r];if(o!==t)break;if(o===t&&u===e){h(this,Yi).splice(r,1);return}}},_b=function(t){const[e,s,r]=t,o=[[e,s,r]],u=x(this,Nn,Xp).call(this,r);for(let d=0;d<u;d++){const[f,g]=h(this,Yi)[d];for(let m=0,y=o.length;m<y;m++){const[,b,A]=o[m];if(!(g<=b||A<=f)){if(b>=f){if(A>g)o[m][1]=g;else{if(y===1)return[];o.splice(m,1),m--,y--}continue}o[m][2]=f,A>g&&o.push([e,g,A])}}}return o};var Fd,qc;class hO extends rx{constructor(e,s){super();R(this,Fd);R(this,qc);_(this,qc,e),_(this,Fd,s)}toSVGPath(){const e=[];for(const s of h(this,qc)){let[r,o]=s;e.push(`M${r} ${o}`);for(let u=2;u<s.length;u+=2){const d=s[u],f=s[u+1];d===r?(e.push(`V${f}`),o=f):f===o&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,o],u){const d=[],f=r-e,g=o-s;for(const m of h(this,qc)){const y=new Array(m.length);for(let b=0;b<m.length;b+=2)y[b]=e+m[b]*f,y[b+1]=o-m[b+1]*g;d.push(y)}return d}get box(){return h(this,Fd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Fd=new WeakMap,qc=new WeakMap;class wb extends ug{newFreeDrawOutline(t,e,s,r,o,u){return new dO(t,e,s,r,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class dO extends fx{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,o,u=0){return new wb(t,e,s,r,o,u)}}var Xi,Io,Gc,Be,zd,Vc,Hd,jd,gr,Ki,Yc,Id,ne,xb,Tb,Cb,$r,yx,Xa;const Un=class Un{constructor({editor:t=null,uiManager:e=null}){R(this,ne);R(this,Xi,null);R(this,Io,null);R(this,Gc);R(this,Be,null);R(this,zd,!1);R(this,Vc,!1);R(this,Hd,null);R(this,jd);R(this,gr,null);R(this,Ki,null);R(this,Yc);var s;t?(_(this,Vc,!1),_(this,Yc,Tt.HIGHLIGHT_COLOR),_(this,Hd,t)):(_(this,Vc,!0),_(this,Yc,Tt.HIGHLIGHT_DEFAULT_COLOR)),_(this,Ki,(t==null?void 0:t._uiManager)||e),_(this,jd,h(this,Ki)._eventBus),_(this,Gc,(t==null?void 0:t.color)||((s=h(this,Ki))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(Un,Id)||_(Un,Id,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return It(this,"_keyboardManager",new Qd([[["Escape","mac+Escape"],Un.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Un.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Un.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Un.prototype._moveToPrevious],[["Home","mac+Home"],Un.prototype._moveToBeginning],[["End","mac+End"],Un.prototype._moveToEnd]]))}renderButton(){const t=_(this,Xi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Ki)._signal;t.addEventListener("click",x(this,ne,$r).bind(this),{signal:e}),t.addEventListener("keydown",x(this,ne,Cb).bind(this),{signal:e});const s=_(this,Io,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,Gc),t.append(s),t}renderMainDropdown(){const t=_(this,Be,x(this,ne,xb).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Xi)){x(this,ne,$r).call(this,t);return}const e=t.target.getAttribute("data-color");e&&x(this,ne,Tb).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,ne,Xa)){x(this,ne,$r).call(this,t);return}if(t.target===h(this,Xi)){(e=h(this,Be).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,Be))==null?void 0:e.firstChild)||t.target===h(this,Xi)){h(this,ne,Xa)&&this._hideDropdownFromKeyboard();return}h(this,ne,Xa)||x(this,ne,$r).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,ne,Xa)){x(this,ne,$r).call(this,t);return}(e=h(this,Be).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,ne,Xa)){x(this,ne,$r).call(this,t);return}(e=h(this,Be).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,Be))==null||t.classList.add("hidden"),(e=h(this,gr))==null||e.abort(),_(this,gr,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Vc)){if(!h(this,ne,Xa)){(t=h(this,Hd))==null||t.unselect();return}this.hideDropdown(),h(this,Xi).focus({preventScroll:!0,focusVisible:h(this,zd)})}}updateColor(t){if(h(this,Io)&&(h(this,Io).style.backgroundColor=t),!h(this,Be))return;const e=h(this,Ki).highlightColors.values();for(const s of h(this,Be).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Xi))==null||t.remove(),_(this,Xi,null),_(this,Io,null),(e=h(this,Be))==null||e.remove(),_(this,Be,null)}};Xi=new WeakMap,Io=new WeakMap,Gc=new WeakMap,Be=new WeakMap,zd=new WeakMap,Vc=new WeakMap,Hd=new WeakMap,jd=new WeakMap,gr=new WeakMap,Ki=new WeakMap,Yc=new WeakMap,Id=new WeakMap,ne=new WeakSet,xb=function(){const t=document.createElement("div"),e=h(this,Ki)._signal;t.addEventListener("contextmenu",Di,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,Ki).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",h(Un,Id)[s]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=r,o.setAttribute("aria-selected",r===h(this,Gc)),o.addEventListener("click",x(this,ne,Tb).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",x(this,ne,Cb).bind(this),{signal:e}),t},Tb=function(t,e){e.stopPropagation(),h(this,jd).dispatch("switchannotationeditorparams",{source:this,type:h(this,Yc),value:t})},Cb=function(t){Un._keyboardManager.exec(this,t)},$r=function(t){if(h(this,ne,Xa)){this.hideDropdown();return}if(_(this,zd,t.detail===0),h(this,gr)||(_(this,gr,new AbortController),window.addEventListener("pointerdown",x(this,ne,yx).bind(this),{signal:h(this,Ki).combinedSignal(h(this,gr))})),h(this,Be)){h(this,Be).classList.remove("hidden");return}const e=_(this,Be,x(this,ne,xb).call(this));h(this,Xi).append(e)},yx=function(t){var e;(e=h(this,Be))!=null&&e.contains(t.target)||this.hideDropdown()},Xa=function(){return h(this,Be)&&!h(this,Be).classList.contains("hidden")},R(Un,Id,null);let hg=Un;var Xc,Ud,aa,Uo,Kc,xi,Bd,qd,Bo,$i,Sn,Gn,$c,ra,qe,Wc,Ti,Gd,Rt,Rb,Kp,bx,Ax,Sx,Mb,Wr,Mi,Zl,Ex,$p,_h,_x,wx,xx,Tx,Cx;const Yt=class Yt extends Zt{constructor(e){super({...e,name:"highlightEditor"});R(this,Rt);R(this,Xc,null);R(this,Ud,0);R(this,aa);R(this,Uo,null);R(this,Kc,null);R(this,xi,null);R(this,Bd,null);R(this,qd,0);R(this,Bo,null);R(this,$i,null);R(this,Sn,null);R(this,Gn,!1);R(this,$c,null);R(this,ra);R(this,qe,null);R(this,Wc,"");R(this,Ti);R(this,Gd,"");this.color=e.color||Yt._defaultColor,_(this,Ti,e.thickness||Yt._defaultThickness),_(this,ra,e.opacity||Yt._defaultOpacity),_(this,aa,e.boxes||null),_(this,Gd,e.methodOfCreation||""),_(this,Wc,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,Gn,!0),x(this,Rt,Kp).call(this,e),x(this,Rt,Wr).call(this)):h(this,aa)&&(_(this,Xc,e.anchorNode),_(this,Ud,e.anchorOffset),_(this,Bd,e.focusNode),_(this,qd,e.focusOffset),x(this,Rt,Rb).call(this),x(this,Rt,Wr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Yt.prototype;return It(this,"_keyboardManager",new Qd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Gn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Ti),methodOfCreation:h(this,Gd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Zt.initialize(e,s),Yt._defaultColor||(Yt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Tt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=s;break;case Tt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,$c)}updateParams(e,s){switch(e){case Tt.HIGHLIGHT_COLOR:x(this,Rt,bx).call(this,s);break;case Tt.HIGHLIGHT_THICKNESS:x(this,Rt,Ax).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,h(this,Ti)||Yt._defaultThickness],[Tt.HIGHLIGHT_FREE,h(this,Gn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,Kc,new hg({editor:this})),e.addColorPicker(h(this,Kc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Rt,_h).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,x(this,Rt,_h).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Rt,Mb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,Rt,Wr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?x(this,Rt,Mb).call(this):e&&(x(this,Rt,Wr).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var o,u,d;const{drawLayer:s}=this.parent;let r;h(this,Gn)?(e=(e-this.rotation+360)%360,r=x(o=Yt,Mi,Zl).call(o,h(this,$i).box,e)):r=x(u=Yt,Mi,Zl).call(u,this,e),s.rotate(h(this,Sn),e),s.rotate(h(this,qe),e),s.updateBox(h(this,Sn),r),s.updateBox(h(this,qe),x(d=Yt,Mi,Zl).call(d,h(this,xi).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,Wc)&&(e.setAttribute("aria-label",h(this,Wc)),e.setAttribute("role","mark")),h(this,Gn)?e.classList.add("free"):this.div.addEventListener("keydown",x(this,Rt,Ex).bind(this),{signal:this._uiManager._signal});const s=_(this,Bo,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Uo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),lg(this,h(this,Bo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,qe),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,qe),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:x(this,Rt,$p).call(this,!0);break;case 1:case 3:x(this,Rt,$p).call(this,!1);break}}select(){var e,s;super.select(),h(this,qe)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,qe),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,qe),"selected"))}unselect(){var e;super.unselect(),h(this,qe)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,qe),"selected"),h(this,Gn)||x(this,Rt,$p).call(this,!1))}get _mustFixPosition(){return!h(this,Gn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,Sn),e),this.parent.drawLayer.show(h(this,qe),e))}static startHighlighting(e,s,{target:r,x:o,y:u}){const{x:d,y:f,width:g,height:m}=r.getBoundingClientRect(),y=new AbortController,b=e.combinedSignal(y),A=w=>{w.preventDefault(),w.stopPropagation()},E=w=>{y.abort(),x(this,Mi,Tx).call(this,e,w)};window.addEventListener("blur",E,{signal:b}),window.addEventListener("pointerup",E,{signal:b}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Di,{signal:b}),r.addEventListener("pointermove",x(this,Mi,xx).bind(this,e),{signal:b}),this._freeHighlight=new wb({x:o,y:u},[d,f,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var w,M,T,D;let o=null;if(e instanceof Zw){const{data:{quadPoints:N,rect:k,rotation:j,id:q,color:K,opacity:Z,popupRef:nt},parent:{page:{pageNumber:at}}}=e;o=e={annotationType:Lt.HIGHLIGHT,color:Array.from(K),opacity:Z,quadPoints:N,boxes:null,pageIndex:at-1,rect:k.slice(0),rotation:j,id:q,deleted:!1,popupRef:nt}}else if(e instanceof g0){const{data:{inkLists:N,rect:k,rotation:j,id:q,color:K,borderStyle:{rawWidth:Z},popupRef:nt},parent:{page:{pageNumber:at}}}=e;o=e={annotationType:Lt.HIGHLIGHT,color:Array.from(K),thickness:Z,inkLists:N,boxes:null,pageIndex:at-1,rect:k.slice(0),rotation:j,id:q,deleted:!1,popupRef:nt}}const{color:u,quadPoints:d,inkLists:f,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=vt.makeHexColor(...u),_(m,ra,g||1),f&&_(m,Ti,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[y,b]=m.pageDimensions,[A,E]=m.pageTranslation;if(d){const N=_(m,aa,[]);for(let k=0;k<d.length;k+=8)N.push({x:(d[k]-A)/y,y:1-(d[k+1]-E)/b,width:(d[k+2]-d[k])/y,height:(d[k+1]-d[k+5])/b});x(w=m,Rt,Rb).call(w),x(M=m,Rt,Wr).call(M),m.rotate(m.rotation)}else if(f){_(m,Gn,!0);const N=f[0],k={x:N[0]-A,y:b-(N[1]-E)},j=new wb(k,[0,0,y,b],1,h(m,Ti)/2,!0,.001);for(let Z=0,nt=N.length;Z<nt;Z+=2)k.x=N[Z]-A,k.y=b-(N[Z+1]-E),j.add(k);const{id:q,clipPathId:K}=s.drawLayer.draw(j,m.color,m._defaultOpacity,!0);x(T=m,Rt,Kp).call(T,{highlightOutlines:j.getOutlines(),highlightId:q,clipPathId:K}),x(D=m,Rt,Wr).call(D)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Zt._colorManager.convert(this.color),o={annotationType:Lt.HIGHLIGHT,color:r,opacity:h(this,ra),thickness:h(this,Ti),quadPoints:x(this,Rt,_x).call(this),outlines:x(this,Rt,wx).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:x(this,Rt,_h).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!x(this,Rt,Cx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Xc=new WeakMap,Ud=new WeakMap,aa=new WeakMap,Uo=new WeakMap,Kc=new WeakMap,xi=new WeakMap,Bd=new WeakMap,qd=new WeakMap,Bo=new WeakMap,$i=new WeakMap,Sn=new WeakMap,Gn=new WeakMap,$c=new WeakMap,ra=new WeakMap,qe=new WeakMap,Wc=new WeakMap,Ti=new WeakMap,Gd=new WeakMap,Rt=new WeakSet,Rb=function(){const e=new a1(h(this,aa),.001);_(this,$i,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,$i).box;const s=new a1(h(this,aa),.0025,.001,this._uiManager.direction==="ltr");_(this,xi,s.getOutlines());const{lastPoint:r}=h(this,xi).box;_(this,$c,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Kp=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var y,b;if(_(this,$i,e),_(this,xi,e.getNewOutline(h(this,Ti)/2+1.5,.0025)),s>=0)_(this,Sn,s),_(this,Uo,r),this.parent.drawLayer.finalizeLine(s,e),_(this,qe,this.parent.drawLayer.drawOutline(h(this,xi)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,Sn),e),this.parent.drawLayer.updateBox(h(this,Sn),x(y=Yt,Mi,Zl).call(y,h(this,$i).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,qe),h(this,xi)),this.parent.drawLayer.updateBox(h(this,qe),x(b=Yt,Mi,Zl).call(b,h(this,xi).box,A))}const{x:u,y:d,width:f,height:g}=e.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=g;break;case 90:{const[A,E]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*E/A,this.height=g*A/E;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=g;break;case 270:{const[A,E]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*E/A,this.height=g*A/E;break}}const{lastPoint:m}=h(this,xi).box;_(this,$c,[(m[0]-u)/f,(m[1]-d)/g])},bx=function(e){const s=(u,d)=>{var f,g,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(h(this,Sn),u),(g=h(this,Kc))==null||g.updateColor(u),_(this,ra,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,Sn),d)},r=this.color,o=h(this,ra);this.addCommands({cmd:s.bind(this,e,Yt._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Ax=function(e){const s=h(this,Ti),r=o=>{_(this,Ti,o),x(this,Rt,Sx).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Sx=function(e){if(!h(this,Gn))return;x(this,Rt,Kp).call(this,{highlightOutlines:h(this,$i).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},Mb=function(){h(this,Sn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Sn)),_(this,Sn,null),this.parent.drawLayer.remove(h(this,qe)),_(this,qe,null))},Wr=function(e=this.parent){h(this,Sn)===null&&({id:Tn(this,Sn)._,clipPathId:Tn(this,Uo)._}=e.drawLayer.draw(h(this,$i),this.color,h(this,ra)),_(this,qe,e.drawLayer.drawOutline(h(this,xi))),h(this,Bo)&&(h(this,Bo).style.clipPath=h(this,Uo)))},Mi=new WeakSet,Zl=function({x:e,y:s,width:r,height:o},u){switch(u){case 90:return{x:1-s-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-e-r,width:o,height:r}}return{x:e,y:s,width:r,height:o}},Ex=function(e){Yt._keyboardManager.exec(this,e)},$p=function(e){if(!h(this,Xc))return;const s=window.getSelection();e?s.setPosition(h(this,Xc),h(this,Ud)):s.setPosition(h(this,Bd),h(this,qd))},_h=function(){return h(this,Gn)?this.rotation:0},_x=function(){if(h(this,Gn))return null;const[e,s]=this.pageDimensions,[r,o]=this.pageTranslation,u=h(this,aa),d=new Float32Array(u.length*8);let f=0;for(const{x:g,y:m,width:y,height:b}of u){const A=g*e+r,E=(1-m-b)*s+o;d[f]=d[f+4]=A,d[f+1]=d[f+3]=E,d[f+2]=d[f+6]=A+y*e,d[f+5]=d[f+7]=E+b*s,f+=8}return d},wx=function(e){return h(this,$i).serialize(e,x(this,Rt,_h).call(this))},xx=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Tx=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Cx=function(e){const{color:s}=this._initialData;return e.color.some((r,o)=>r!==s[o])},R(Yt,Mi),xt(Yt,"_defaultColor",null),xt(Yt,"_defaultOpacity",1),xt(Yt,"_defaultThickness",12),xt(Yt,"_type","highlight"),xt(Yt,"_editorType",Lt.HIGHLIGHT),xt(Yt,"_freeHighlightId",-1),xt(Yt,"_freeHighlight",null),xt(Yt,"_freeHighlightClipId","");let dg=Yt;var qo,Go,ms,oa,Ci,Vo,Yo,Xo,la,Qc,Ko,$o,mr,rt,Rx,Mx,Lx,Dx,Db,Ox,Ob,Nx,kx,Px,Fx,zx,Qr,Nb,kb,Pb,Wp,Qp,Jl,Fb,Zp,Sa,Hx,zb,jx,Ix,Hb,Jp,wh;const ge=class ge extends Zt{constructor(e){super({...e,name:"inkEditor"});R(this,rt);R(this,qo,0);R(this,Go,0);R(this,ms,null);R(this,oa,new Path2D);R(this,Ci,!1);R(this,Vo,null);R(this,Yo,!1);R(this,Xo,!1);R(this,la,null);R(this,Qc,null);R(this,Ko,0);R(this,$o,0);R(this,mr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Zt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Tt.INK_THICKNESS:ge._defaultThickness=s;break;case Tt.INK_COLOR:ge._defaultColor=s;break;case Tt.INK_OPACITY:ge._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Tt.INK_THICKNESS:x(this,rt,Rx).call(this,s);break;case Tt.INK_COLOR:x(this,rt,Mx).call(this,s);break;case Tt.INK_OPACITY:x(this,rt,Lx).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,ge._defaultThickness],[Tt.INK_COLOR,ge._defaultColor||Zt._defaultLineColor],[Tt.INK_OPACITY,Math.round(ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||ge._defaultThickness],[Tt.INK_COLOR,this.color||ge._defaultColor||Zt._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??ge._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,rt,Wp).call(this),x(this,rt,Qp).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,rt,Jl).call(this)),x(this,rt,wh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,ms)&&(clearTimeout(h(this,ms)),_(this,ms,null)),(e=h(this,la))==null||e.disconnect(),_(this,la,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){h(this,Ci)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,x(this,rt,Nb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),x(this,rt,kb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Ci)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,Ci,!0),this.div.classList.add("disabled"),x(this,rt,wh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Ci)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,rt,Ox).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),x(this,rt,Ob).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),x(this,rt,Pb).call(this,e)}canvasPointerleave(e){x(this,rt,Pb).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Ci)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,u,d]=x(this,rt,Dx).call(this);if(this.setAt(r,o,0,0),this.setDims(u,d),x(this,rt,Wp).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(e*f,s*g,this.width*f,this.height*g),_(this,Xo,!0),x(this,rt,Jl).call(this),this.setDims(this.width*f,this.height*g),x(this,rt,Qr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,rt,Qp).call(this),this.div}setDimensions(e,s){const r=Math.round(e),o=Math.round(s);if(h(this,Ko)===r&&h(this,$o)===o)return;_(this,Ko,r),_(this,$o,o),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=e/u,this.height=s/d,this.fixAndSetPosition(),h(this,Ci)&&x(this,rt,Fb).call(this,e,s),x(this,rt,Jl).call(this),x(this,rt,Qr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,T,D;if(e instanceof g0)return null;const o=await super.deserialize(e,s,r);o.thickness=e.thickness,o.color=vt.makeHexColor(...e.color),o.opacity=e.opacity;const[u,d]=o.pageDimensions,f=o.width*u,g=o.height*d,m=o.parentScale,y=e.thickness/2;_(o,Ci,!0),_(o,Ko,Math.round(f)),_(o,$o,Math.round(g));const{paths:b,rect:A,rotation:E}=e;for(let{bezier:N}of b){N=x(M=ge,Sa,jx).call(M,N,A,E);const k=[];o.paths.push(k);let j=m*(N[0]-y),q=m*(N[1]-y);for(let Z=2,nt=N.length;Z<nt;Z+=6){const at=m*(N[Z]-y),st=m*(N[Z+1]-y),mt=m*(N[Z+2]-y),ft=m*(N[Z+3]-y),pt=m*(N[Z+4]-y),dt=m*(N[Z+5]-y);k.push([[j,q],[at,st],[mt,ft],[pt,dt]]),j=pt,q=dt}const K=x(this,Sa,Hx).call(this,k);o.bezierPath2D.push(K)}const w=x(T=o,rt,Hb).call(T);return _(o,Go,Math.max(Zt.MIN_SIZE,w[2]-w[0])),_(o,qo,Math.max(Zt.MIN_SIZE,w[3]-w[1])),x(D=o,rt,Fb).call(D,f,g),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Lt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:x(this,rt,Ix).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};qo=new WeakMap,Go=new WeakMap,ms=new WeakMap,oa=new WeakMap,Ci=new WeakMap,Vo=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,la=new WeakMap,Qc=new WeakMap,Ko=new WeakMap,$o=new WeakMap,mr=new WeakMap,rt=new WeakSet,Rx=function(e){const s=o=>{this.thickness=o,x(this,rt,wh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Mx=function(e){const s=o=>{this.color=o,x(this,rt,Qr).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Lx=function(e){const s=o=>{this.opacity=o,x(this,rt,Qr).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Dx=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},Db=function(){const{ctx:e,color:s,opacity:r,thickness:o,parentScale:u,scaleFactor:d}=this;e.lineWidth=o*u/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${kL(r)}`},Ox=function(e,s){this.canvas.addEventListener("contextmenu",Di,{signal:this._uiManager._signal}),x(this,rt,kb).call(this),_(this,Vo,new AbortController);const r=this._uiManager.combinedSignal(h(this,Vo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Xo)||(_(this,Xo,!0),x(this,rt,Jl).call(this),this.thickness||(this.thickness=ge._defaultThickness),this.color||(this.color=ge._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=ge._defaultOpacity)),this.currentPath.push([e,s]),_(this,Yo,!1),x(this,rt,Db).call(this),_(this,mr,()=>{x(this,rt,Px).call(this),h(this,mr)&&window.requestAnimationFrame(h(this,mr))}),window.requestAnimationFrame(h(this,mr))},Ob=function(e,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===o)return;const u=this.currentPath;let d=h(this,oa);if(u.push([e,s]),_(this,Yo,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(e,s);return}u.length===3&&(_(this,oa,d=new Path2D),d.moveTo(...u[0])),x(this,rt,Fx).call(this,d,...u.at(-3),...u.at(-2),e,s)},Nx=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,oa).lineTo(...e)},kx=function(e,s){_(this,mr,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),x(this,rt,Ob).call(this,e,s),x(this,rt,Nx).call(this);let r;if(this.currentPath.length!==1)r=x(this,rt,zx).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const o=h(this,oa),u=this.currentPath;this.currentPath=[],_(this,oa,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,rt,Wp).call(this),x(this,rt,Qp).call(this)),x(this,rt,wh).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},Px=function(){if(!h(this,Yo))return;_(this,Yo,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(h(this,oa)),u.restore()},Fx=function(e,s,r,o,u,d,f){const g=(s+o)/2,m=(r+u)/2,y=(o+d)/2,b=(u+f)/2;e.bezierCurveTo(g+2*(o-g)/3,m+2*(u-m)/3,y+2*(o-y)/3,b+2*(u-b)/3,y,b)},zx=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[o,u]=e[0];for(r=1;r<e.length-2;r++){const[A,E]=e[r],[w,M]=e[r+1],T=(A+w)/2,D=(E+M)/2,N=[o+2*(A-o)/3,u+2*(E-u)/3],k=[T+2*(A-T)/3,D+2*(E-D)/3];s.push([[o,u],N,k,[T,D]]),[o,u]=[T,D]}const[d,f]=e[r],[g,m]=e[r+1],y=[o+2*(d-o)/3,u+2*(f-u)/3],b=[g+2*(d-g)/3,m+2*(f-m)/3];return s.push([[o,u],y,b,[g,m]]),s},Qr=function(){if(this.isEmpty()){x(this,rt,Zp).call(this);return}x(this,rt,Db).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),x(this,rt,Zp).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Nb=function(){if(h(this,Qc))return;_(this,Qc,new AbortController);const e=this._uiManager.combinedSignal(h(this,Qc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},kb=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Pb=function(e){var s;(s=h(this,Vo))==null||s.abort(),_(this,Vo,null),x(this,rt,Nb).call(this),h(this,ms)&&clearTimeout(h(this,ms)),_(this,ms,setTimeout(()=>{_(this,ms,null),this.canvas.removeEventListener("contextmenu",Di)},10)),x(this,rt,kx).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Wp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qp=function(){_(this,la,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,la).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,la))==null||e.disconnect(),_(this,la,null)},{once:!0})},Jl=function(){if(!h(this,Xo))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),x(this,rt,Zp).call(this)},Fb=function(e,s){const r=x(this,rt,Jp).call(this),o=(e-r)/h(this,Go),u=(s-r)/h(this,qo);this.scaleFactor=Math.min(o,u)},Zp=function(){const e=x(this,rt,Jp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Sa=new WeakSet,Hx=function(e){const s=new Path2D;for(let r=0,o=e.length;r<o;r++){const[u,d,f,g]=e[r];r===0&&s.moveTo(...u),s.bezierCurveTo(d[0],d[1],f[0],f[1],g[0],g[1])}return s},zb=function(e,s,r){const[o,u,d,f]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=o,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=e[g+1]+o,e[g+1]=y+u}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=u;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=d-e[g+1],e[g+1]=f-y}break;default:throw new Error("Invalid rotation")}return e},jx=function(e,s,r){const[o,u,d,f]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=o,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=e[g+1]-u,e[g+1]=y-o}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=u;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=f-e[g+1],e[g+1]=d-y}break;default:throw new Error("Invalid rotation")}return e},Ix=function(e,s,r,o){var m,y;const u=[],d=this.thickness/2,f=e*s+d,g=e*r+d;for(const b of this.paths){const A=[],E=[];for(let w=0,M=b.length;w<M;w++){const[T,D,N,k]=b[w];if(T[0]===k[0]&&T[1]===k[1]&&M===1){const ft=e*T[0]+f,pt=e*T[1]+g;A.push(ft,pt),E.push(ft,pt);break}const j=e*T[0]+f,q=e*T[1]+g,K=e*D[0]+f,Z=e*D[1]+g,nt=e*N[0]+f,at=e*N[1]+g,st=e*k[0]+f,mt=e*k[1]+g;w===0&&(A.push(j,q),E.push(j,q)),A.push(K,Z,nt,at,st,mt),E.push(K,Z),w===M-1&&E.push(st,mt)}u.push({bezier:x(m=ge,Sa,zb).call(m,A,o,this.rotation),points:x(y=ge,Sa,zb).call(y,E,o,this.rotation)})}return u},Hb=function(){let e=1/0,s=-1/0,r=1/0,o=-1/0;for(const u of this.paths)for(const[d,f,g,m]of u){const y=vt.bezierBoundingBox(...d,...f,...g,...m);e=Math.min(e,y[0]),r=Math.min(r,y[1]),s=Math.max(s,y[2]),o=Math.max(o,y[3])}return[e,r,s,o]},Jp=function(){return h(this,Ci)?Math.ceil(this.thickness*this.parentScale):0},wh=function(e=!1){if(this.isEmpty())return;if(!h(this,Ci)){x(this,rt,Qr).call(this);return}const s=x(this,rt,Hb).call(this),r=x(this,rt,Jp).call(this);_(this,Go,Math.max(Zt.MIN_SIZE,s[2]-s[0])),_(this,qo,Math.max(Zt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+h(this,Go)*this.scaleFactor),u=Math.ceil(r+h(this,qo)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=o/d,this.height=u/f,this.setAspectRatio(o,u);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],x(this,rt,Jl).call(this),x(this,rt,Qr).call(this),_(this,Ko,o),_(this,$o,u),this.setDims(o,u);const y=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-y,m-this.translationY-y)},R(ge,Sa),xt(ge,"_defaultColor",null),xt(ge,"_defaultOpacity",1),xt(ge,"_defaultThickness",1),xt(ge,"_type","ink"),xt(ge,"_editorType",Lt.INK);let Lb=ge;var ve,dn,vr,ca,yr,Zc,vs,ua,ys,li,Jc,Ht,xh,Th,tg,Ib,Ux,eg,Ub,ng,Bx,qx;const Mh=class Mh extends Zt{constructor(e){super({...e,name:"stampEditor"});R(this,Ht);R(this,ve,null);R(this,dn,null);R(this,vr,null);R(this,ca,null);R(this,yr,null);R(this,Zc,"");R(this,vs,null);R(this,ua,null);R(this,ys,null);R(this,li,!1);R(this,Jc,!1);_(this,ca,e.bitmapUrl),_(this,yr,e.bitmapFile)}static initialize(e,s){Zt.initialize(e,s)}static get supportedTypes(){return It(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return It(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Lt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:d}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:o,width:u,height:d,channels:o.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;h(this,dn)&&(_(this,ve,null),this._uiManager.imageManager.deleteId(h(this,dn)),(e=h(this,vs))==null||e.remove(),_(this,vs,null),(s=h(this,ua))==null||s.disconnect(),_(this,ua,null),h(this,ys)&&(clearTimeout(h(this,ys)),_(this,ys,null))),super.remove()}rebuild(){if(!this.parent){h(this,dn)&&x(this,Ht,tg).call(this);return}super.rebuild(),this.div!==null&&(h(this,dn)&&h(this,vs)===null&&x(this,Ht,tg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,vr)||h(this,ve)||h(this,ca)||h(this,yr)||h(this,dn))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,ve)?x(this,Ht,Ib).call(this):x(this,Ht,tg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,s,r=!1){var A;e||(e=224);const{width:o,height:u}=h(this,ve),d=new Py;let f=h(this,ve),g=o,m=u,y=null;if(s){if(o>s||u>s){const Z=Math.min(s/o,s/u);g=Math.floor(o*Z),m=Math.floor(u*Z)}y=document.createElement("canvas");const E=y.width=Math.ceil(g*d.sx),w=y.height=Math.ceil(m*d.sy);h(this,li)||(f=x(this,Ht,eg).call(this,E,w));const M=y.getContext("2d");M.filter=this._uiManager.hcmFilter;let T="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",D="#42414d");const N=15,k=N*d.sx,j=N*d.sy,q=new OffscreenCanvas(k*2,j*2),K=q.getContext("2d");K.fillStyle=T,K.fillRect(0,0,k*2,j*2),K.fillStyle=D,K.fillRect(0,0,k,j),K.fillRect(k,j,k,j),M.fillStyle=M.createPattern(q,"repeat"),M.fillRect(0,0,E,w),M.drawImage(f,0,0,f.width,f.height,0,0,E,w)}let b=null;if(r){let E,w;if(d.symmetric&&f.width<e&&f.height<e)E=f.width,w=f.height;else if(f=h(this,ve),o>e||u>e){const D=Math.min(e/o,e/u);E=Math.floor(o*D),w=Math.floor(u*D),h(this,li)||(f=x(this,Ht,eg).call(this,E,w))}const T=new OffscreenCanvas(E,w).getContext("2d",{willReadFrequently:!0});T.drawImage(f,0,0,f.width,f.height,0,0,E,w),b={width:E,height:w,data:T.getImageData(0,0,E,w).data}}return{canvas:y,width:g,height:m,imageData:b}}getImageForAltText(){return h(this,vs)}static async deserialize(e,s,r){var w;let o=null;if(e instanceof Jw){const{data:{rect:M,rotation:T,id:D,structParent:N,popupRef:k},container:j,parent:{page:{pageNumber:q}}}=e,K=j.querySelector("canvas"),Z=r.imageManager.getFromCanvas(j.id,K);K.remove();const nt=((w=await s._structTree.getAriaAttributes(`${s0}${D}`))==null?void 0:w.get("aria-label"))||"";o=e={annotationType:Lt.STAMP,bitmapId:Z.id,bitmap:Z.bitmap,pageIndex:q-1,rect:M.slice(0),rotation:T,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:nt},isSvg:!1,structParent:N,popupRef:k}}const u=await super.deserialize(e,s,r),{rect:d,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:y,accessibilityData:b}=e;m&&r.imageManager.isValidId(m)?(_(u,dn,m),f&&_(u,ve,f)):_(u,ca,g),_(u,li,y);const[A,E]=u.pageDimensions;return u.width=(d[2]-d[0])/A,u.height=(d[3]-d[1])/E,u.annotationElementId=e.id||null,b&&(u.altTextData=b),u._initialData=o,_(u,Jc,!!o),u}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Lt.STAMP,bitmapId:h(this,dn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,li),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=x(this,Ht,ng).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=x(this,Ht,qx).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,li)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,dn)))s.stamps.set(h(this,dn),{area:d,serialized:r}),r.bitmap=x(this,Ht,ng).call(this,!1);else if(h(this,li)){const f=s.stamps.get(h(this,dn));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=x(this,Ht,ng).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ve=new WeakMap,dn=new WeakMap,vr=new WeakMap,ca=new WeakMap,yr=new WeakMap,Zc=new WeakMap,vs=new WeakMap,ua=new WeakMap,ys=new WeakMap,li=new WeakMap,Jc=new WeakMap,Ht=new WeakSet,xh=function(e,s=!1){if(!e){this.remove();return}_(this,ve,e.bitmap),s||(_(this,dn,e.id),_(this,li,e.isSvg)),e.file&&_(this,Zc,e.file.name),x(this,Ht,Ib).call(this)},Th=function(){if(_(this,vr,null),this._uiManager.enableWaiting(!1),!!h(this,vs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ve)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ve)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},tg=function(){if(h(this,dn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,dn)).then(r=>x(this,Ht,xh).call(this,r,!0)).finally(()=>x(this,Ht,Th).call(this));return}if(h(this,ca)){const r=h(this,ca);_(this,ca,null),this._uiManager.enableWaiting(!0),_(this,vr,this._uiManager.imageManager.getFromUrl(r).then(o=>x(this,Ht,xh).call(this,o)).finally(()=>x(this,Ht,Th).call(this)));return}if(h(this,yr)){const r=h(this,yr);_(this,yr,null),this._uiManager.enableWaiting(!0),_(this,vr,this._uiManager.imageManager.getFromFile(r).then(o=>x(this,Ht,xh).call(this,o)).finally(()=>x(this,Ht,Th).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Mh.supportedTypesStr;const s=this._uiManager._signal;_(this,vr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),x(this,Ht,xh).call(this,o)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>x(this,Ht,Th).call(this))),e.click()},Ib=function(){const{div:e}=this;let{width:s,height:r}=h(this,ve);const[o,u]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*u;else if(s>d*o||r>d*u){const y=Math.min(d*o/s,d*u/r);s*=y,r*=y}const[f,g]=this.parentDimensions;this.setDims(s*f/o,r*g/u),this._uiManager.enableWaiting(!1);const m=_(this,vs,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),x(this,Ht,Ub).call(this,s,r),x(this,Ht,Bx).call(this),h(this,Jc)||(this.parent.addUndoableEditor(this),_(this,Jc,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Zc)&&m.setAttribute("aria-label",h(this,Zc))},Ux=function(e,s){var d;const[r,o]=this.parentDimensions;this.width=e/r,this.height=s/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,ys)!==null&&clearTimeout(h(this,ys)),_(this,ys,setTimeout(()=>{_(this,ys,null),x(this,Ht,Ub).call(this,e,s)},200))},eg=function(e,s){const{width:r,height:o}=h(this,ve);let u=r,d=o,f=h(this,ve);for(;u>2*e||d>2*s;){const g=u,m=d;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const y=new OffscreenCanvas(u,d);y.getContext("2d").drawImage(f,0,0,g,m,0,0,u,d),f=y.transferToImageBitmap()}return f},Ub=function(e,s){const r=new Py,o=Math.ceil(e*r.sx),u=Math.ceil(s*r.sy),d=h(this,vs);if(!d||d.width===o&&d.height===u)return;d.width=o,d.height=u;const f=h(this,li)?h(this,ve):x(this,Ht,eg).call(this,o,u),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,o,u)},ng=function(e){if(e){if(h(this,li)){const o=this._uiManager.imageManager.getSvgUrl(h(this,dn));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,ve),s.getContext("2d").drawImage(h(this,ve),0,0),s.toDataURL()}if(h(this,li)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*Er.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*Er.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,u);return d.getContext("2d").drawImage(h(this,ve),0,0,h(this,ve).width,h(this,ve).height,0,0,o,u),d.transferToImageBitmap()}return structuredClone(h(this,ve))},Bx=function(){this._uiManager._signal&&(_(this,ua,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&x(this,Ht,Ux).call(this,s.width,s.height)})),h(this,ua).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ua))==null||e.disconnect(),_(this,ua,null)},{once:!0}))},qx=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,u=e.rect.every((m,y)=>Math.abs(m-s[y])<1),d=e.pageIndex===r,f=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:u&&d&&f,isSameAltText:f}},xt(Mh,"_type","stamp"),xt(Mh,"_editorType",Lt.STAMP);let jb=Mh;var Wo,tu,bs,br,ha,ci,Ar,eu,nu,En,da,bt,Sr,fn,Gx,qb,Gb,Vb,ig;const Pi=class Pi{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:u,drawLayer:d,textLayer:f,viewport:g,l10n:m}){R(this,fn);R(this,Wo);R(this,tu,!1);R(this,bs,null);R(this,br,null);R(this,ha,null);R(this,ci,new Map);R(this,Ar,!1);R(this,eu,!1);R(this,nu,!1);R(this,En,null);R(this,da,null);R(this,bt);const y=[...h(Pi,Sr).values()];if(!Pi._initialized){Pi._initialized=!0;for(const b of y)b.initialize(m,t)}t.registerEditorTypes(y),_(this,bt,t),this.pageIndex=e,this.div=s,_(this,Wo,o),_(this,bs,u),this.viewport=g,_(this,En,f),this.drawLayer=d,this._structTree=r,h(this,bt).addLayer(this)}get isEmpty(){return h(this,ci).size===0}get isInvisible(){return this.isEmpty&&h(this,bt).getMode()===Lt.NONE}updateToolbar(t){h(this,bt).updateToolbar(t)}updateMode(t=h(this,bt).getMode()){switch(x(this,fn,ig).call(this),t){case Lt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Lt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Lt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(Pi,Sr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,En))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,bt).getMode()!==Lt.INK)return;if(!t){for(const s of h(this,ci).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,bt).setEditingState(t)}addCommands(t){h(this,bt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,bs))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,ci).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,bt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,bs))return;const e=h(this,bs).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,bt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;_(this,nu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of h(this,ci).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(h(this,bs)){const o=h(this,bs).getEditableAnnotations();for(const u of o){const{id:d}=u.data;if(h(this,bt).isDeletedAnnotationElement(d))continue;let f=e.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(d),f&&(h(this,bt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}x(this,fn,ig).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of h(Pi,Sr).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,nu,!1)}getEditableAnnotation(t){var e;return((e=h(this,bs))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,bt).getActive()!==t&&h(this,bt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,En))!=null&&t.div&&!h(this,da)){_(this,da,new AbortController);const e=h(this,bt).combinedSignal(h(this,da));h(this,En).div.addEventListener("pointerdown",x(this,fn,Gx).bind(this),{signal:e}),h(this,En).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,En))!=null&&t.div&&h(this,da)&&(h(this,da).abort(),_(this,da,null),h(this,En).div.classList.remove("highlighting"))}enableClick(){if(h(this,br))return;_(this,br,new AbortController);const t=h(this,bt).combinedSignal(h(this,br));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,br))==null||t.abort(),_(this,br,null)}attach(t){h(this,ci).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,bt).isDeletedAnnotationElement(e)&&h(this,bt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ci).delete(t.id),(e=h(this,Wo))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,nu)&&t.annotationElementId&&h(this,bt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,bt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,eu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,bt).addDeletedAnnotationElement(t.annotationElementId),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,bt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,bt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ha)&&(t._focusEventsAllowed=!1,_(this,ha,setTimeout(()=>{_(this,ha,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,bt)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,Wo))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,bt).getId()}combinedSignal(t){return h(this,bt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,fn,qb))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,bt).updateToolbar(t),h(this,bt).updateMode(t);const{offsetX:s,offsetY:r}=x(this,fn,Vb).call(this),o=this.getNextId(),u=x(this,fn,Gb).call(this,{parent:this,id:o,x:s,y:r,uiManager:h(this,bt),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=h(Pi,Sr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,bt)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),o=x(this,fn,Gb).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,bt),isCentered:e,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(x(this,fn,Vb).call(this),!0)}setSelected(t){h(this,bt).setSelected(t)}toggleSelected(t){h(this,bt).toggleSelected(t)}unselect(t){h(this,bt).unselect(t)}pointerup(t){const{isMac:e}=Dn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Ar)){if(_(this,Ar,!1),!h(this,tu)){_(this,tu,!0);return}if(h(this,bt).getMode()===Lt.STAMP){h(this,bt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,bt).getMode()===Lt.HIGHLIGHT&&this.enableTextSelection(),h(this,Ar)){_(this,Ar,!1);return}const{isMac:e}=Dn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,Ar,!0);const s=h(this,bt).getActive();_(this,tu,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,bt).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,bt).getActive())==null?void 0:t.parent)===this&&(h(this,bt).commitOrRemove(),h(this,bt).setActiveEditor(null)),h(this,ha)&&(clearTimeout(h(this,ha)),_(this,ha,null));for(const s of h(this,ci).values())(e=h(this,Wo))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,ci).clear(),h(this,bt).removeLayer(this)}render({viewport:t}){this.viewport=t,Qo(this.div,t);for(const e of h(this,bt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,bt).commitOrRemove(),x(this,fn,ig).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Qo(this.div,{rotation:s}),e!==s)for(const r of h(this,ci).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,bt).viewParameters.realScale}};Wo=new WeakMap,tu=new WeakMap,bs=new WeakMap,br=new WeakMap,ha=new WeakMap,ci=new WeakMap,Ar=new WeakMap,eu=new WeakMap,nu=new WeakMap,En=new WeakMap,da=new WeakMap,bt=new WeakMap,Sr=new WeakMap,fn=new WeakSet,Gx=function(t){h(this,bt).unselectAll();const{target:e}=t;if(e===h(this,En).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,En).div.contains(e)){const{isMac:s}=Dn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,bt).showAllEditors("highlight",!0,!0),h(this,En).div.classList.add("free"),this.toggleDrawing(),dg.startHighlighting(this,h(this,bt).direction==="ltr",{target:h(this,En).div,x:t.x,y:t.y}),h(this,En).div.addEventListener("pointerup",()=>{h(this,En).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,bt)._signal}),t.preventDefault()}},qb=function(){return h(Pi,Sr).get(h(this,bt).getMode())},Gb=function(t){const e=h(this,fn,qb);return e?new e.prototype.constructor(t):null},Vb=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),u=Math.max(0,e),d=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),g=(o+d)/2-t,m=(u+f)/2-e,[y,b]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:y,offsetY:b}},ig=function(){_(this,eu,!0);for(const t of h(this,ci).values())t.isEmpty()&&t.remove();_(this,eu,!1)},xt(Pi,"_initialized",!1),R(Pi,Sr,new Map([Sb,Lb,jb,dg].map(t=>[t._editorType,t])));let Bb=Pi;var As,Vd,ke,fa,Yd,Xb,nl,Kb,Vx;const cn=class cn{constructor({pageIndex:t}){R(this,nl);R(this,As,null);R(this,Vd,0);R(this,ke,new Map);R(this,fa,new Map);this.pageIndex=t}setParent(t){if(!h(this,As)){_(this,As,t);return}if(h(this,As)!==t){if(h(this,ke).size>0)for(const e of h(this,ke).values())e.remove(),t.append(e);_(this,As,t)}}static get _svgFactory(){return It(this,"_svgFactory",new p0)}draw(t,e,s,r=!1){const o=Tn(this,Vd)._++,u=x(this,nl,Kb).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const d=cn._svgFactory.createElement("defs");u.append(d);const f=cn._svgFactory.createElement("path");d.append(f);const g=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",g),f.setAttribute("d",t.toSVGPath()),r&&h(this,fa).set(o,f);const m=x(this,nl,Vx).call(this,d,g),y=cn._svgFactory.createElement("use");return u.append(y),u.setAttribute("fill",e),u.setAttribute("fill-opacity",s),y.setAttribute("href",`#${g}`),h(this,ke).set(o,u),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=Tn(this,Vd)._++,s=x(this,nl,Kb).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=cn._svgFactory.createElement("defs");s.append(r);const o=cn._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",u),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=cn._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=cn._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=cn._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=cn._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return s.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),h(this,ke).set(e,s),e}finalizeLine(t,e){const s=h(this,fa).get(t);h(this,fa).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,ke).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,fa).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;x(s=cn,Yd,Xb).call(s,h(this,ke).get(t),e)}show(t,e){h(this,ke).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,ke).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,ke).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,ke).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,ke).get(t).classList.add(e)}removeClass(t,e){h(this,ke).get(t).classList.remove(e)}getSVGRoot(t){return h(this,ke).get(t)}remove(t){h(this,fa).delete(t),h(this,As)!==null&&(h(this,ke).get(t).remove(),h(this,ke).delete(t))}destroy(){_(this,As,null);for(const t of h(this,ke).values())t.remove();h(this,ke).clear(),h(this,fa).clear()}};As=new WeakMap,Vd=new WeakMap,ke=new WeakMap,fa=new WeakMap,Yd=new WeakSet,Xb=function(t,{x:e=0,y:s=0,width:r=1,height:o=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*o}%`},nl=new WeakSet,Kb=function(t){var s;const e=cn._svgFactory.create(1,1,!0);return h(this,As).append(e),e.setAttribute("aria-hidden",!0),x(s=cn,Yd,Xb).call(s,e,t),e},Vx=function(t,e){const s=cn._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=cn._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},R(cn,Yd);let Yb=cn;var fO=Ct.AbortException,pO=Ct.AnnotationEditorLayer,gO=Ct.AnnotationEditorParamsType,mO=Ct.AnnotationEditorType,vO=Ct.AnnotationEditorUIManager,Yx=Ct.AnnotationLayer,Xx=Ct.AnnotationMode,yO=Ct.ColorPicker,bO=Ct.DOMSVGFactory,AO=Ct.DrawLayer,SO=Ct.FeatureTest,m0=Ct.GlobalWorkerOptions,EO=Ct.ImageKind,_O=Ct.InvalidPDFException,wO=Ct.MissingPDFException,xO=Ct.OPS,TO=Ct.OutputScale,CO=Ct.PDFDataRangeTransport,RO=Ct.PDFDateString,MO=Ct.PDFWorker,LO=Ct.PasswordResponses,DO=Ct.PermissionFlag,OO=Ct.PixelsPerInch,NO=Ct.RenderingCancelledException,Kx=Ct.TextLayer,kO=Ct.UnexpectedResponseException,PO=Ct.Util,FO=Ct.VerbosityLevel,zO=Ct.XfaLayer,HO=Ct.build,jO=Ct.createValidAbsoluteUrl,IO=Ct.fetchData,$x=Ct.getDocument,UO=Ct.getFilenameFromUrl,BO=Ct.getPdfFilenameFromUrl,qO=Ct.getXfaPageViewport,GO=Ct.isDataScheme,VO=Ct.isPdfFile,YO=Ct.noContextMenu,XO=Ct.normalizeUnicode,KO=Ct.setLayerDimensions,$O=Ct.shadow,WO=Ct.version;const QO=Object.freeze(Object.defineProperty({__proto__:null,AbortException:fO,AnnotationEditorLayer:pO,AnnotationEditorParamsType:gO,AnnotationEditorType:mO,AnnotationEditorUIManager:vO,AnnotationLayer:Yx,AnnotationMode:Xx,ColorPicker:yO,DOMSVGFactory:bO,DrawLayer:AO,FeatureTest:SO,GlobalWorkerOptions:m0,ImageKind:EO,InvalidPDFException:_O,MissingPDFException:wO,OPS:xO,OutputScale:TO,PDFDataRangeTransport:CO,PDFDateString:RO,PDFWorker:MO,PasswordResponses:LO,PermissionFlag:DO,PixelsPerInch:OO,RenderingCancelledException:NO,TextLayer:Kx,UnexpectedResponseException:kO,Util:PO,VerbosityLevel:FO,XfaLayer:zO,build:HO,createValidAbsoluteUrl:jO,fetchData:IO,getDocument:$x,getFilenameFromUrl:UO,getPdfFilenameFromUrl:BO,getXfaPageViewport:qO,isDataScheme:GO,isPdfFile:VO,noContextMenu:YO,normalizeUnicode:XO,setLayerDimensions:KO,shadow:$O,version:WO},Symbol.toStringTag,{value:"Module"}));var Ze=function(c,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return c.concat(o||Array.prototype.slice.call(t))},ZO=["onCopy","onCut","onPaste"],JO=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],tN=["onFocus","onBlur"],eN=["onInput","onInvalid","onReset","onSubmit"],nN=["onLoad","onError"],iN=["onKeyDown","onKeyPress","onKeyUp"],sN=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],aN=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],rN=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],oN=["onSelect"],lN=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],cN=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uN=["onScroll"],hN=["onWheel"],dN=["onAnimationStart","onAnimationEnd","onAnimationIteration"],fN=["onTransitionEnd"],pN=["onToggle"],gN=["onChange"],mN=Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze([],ZO,!0),JO,!0),tN,!0),eN,!0),nN,!0),iN,!0),sN,!0),aN,!0),rN,!0),oN,!0),lN,!0),cN,!0),uN,!0),hN,!0),dN,!0),fN,!0),gN,!0),pN,!0);function Wx(c,t){var e={};return mN.forEach(function(s){var r=c[s];r&&(t?e[s]=function(o){return r(o,t(s))}:e[s]=r)}),e}function Jd(c){var t=!1,e=new Promise(function(s,r){c.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function Qx(c){var t,e,s="";if(typeof c=="string"||typeof c=="number")s+=c;else if(typeof c=="object")if(Array.isArray(c)){var r=c.length;for(t=0;t<r;t++)c[t]&&(e=Qx(c[t]))&&(s&&(s+=" "),s+=e)}else for(e in c)c[e]&&(s&&(s+=" "),s+=e);return s}function Ug(){for(var c,t,e=0,s="",r=arguments.length;e<r;e++)(c=arguments[e])&&(t=Qx(c))&&(s&&(s+=" "),s+=t);return s}var vN="Invariant failed";function re(c,t){if(!c)throw new Error(vN)}var Ty,r1;function yN(){if(r1)return Ty;r1=1;var c=function(){};return Ty=c,Ty}var bN=yN();const _n=Lg(bN);var o1=Object.prototype.hasOwnProperty;function l1(c,t,e){for(e of c.keys())if(ic(e,t))return e}function ic(c,t){var e,s,r;if(c===t)return!0;if(c&&t&&(e=c.constructor)===t.constructor){if(e===Date)return c.getTime()===t.getTime();if(e===RegExp)return c.toString()===t.toString();if(e===Array){if((s=c.length)===t.length)for(;s--&&ic(c[s],t[s]););return s===-1}if(e===Set){if(c.size!==t.size)return!1;for(s of c)if(r=s,r&&typeof r=="object"&&(r=l1(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(c.size!==t.size)return!1;for(s of c)if(r=s[0],r&&typeof r=="object"&&(r=l1(t,r),!r)||!ic(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)c=new Uint8Array(c),t=new Uint8Array(t);else if(e===DataView){if((s=c.byteLength)===t.byteLength)for(;s--&&c.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(c)){if((s=c.byteLength)===t.byteLength)for(;s--&&c[s]===t[s];);return s===-1}if(!e||typeof c=="object"){s=0;for(e in c)if(o1.call(c,e)&&++s&&!o1.call(t,e)||!(e in t)||!ic(c[e],t[e]))return!1;return Object.keys(t).length===s}}return c!==c&&t!==t}const Zx=z.createContext(null);function sc({children:c,type:t}){return V.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:c})}const AN="noopener noreferrer nofollow";class SN{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){re(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{re(this.pdfDocument),re(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{re(Array.isArray(e));const s=e[0];new Promise(r=>{re(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{re(!1)}):typeof s=="number"?r(s):re(!1)}).then(r=>{const o=r+1;re(this.pdfViewer),re(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;re(this.pdfViewer),re(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||AN,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const c1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Bg=typeof window<"u",Jx=Bg&&window.location.protocol==="file:";function EN(c){return typeof c<"u"}function Xr(c){return EN(c)&&c!==null}function _N(c){return typeof c=="string"}function wN(c){return c instanceof ArrayBuffer}function xN(c){return re(Bg),c instanceof Blob}function $b(c){return _N(c)&&/^data:/.test(c)}function u1(c){re($b(c));const[t="",e=""]=c.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function TN(){return Bg&&window.devicePixelRatio||1}const tT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function h1(){_n(!Jx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${tT}`)}function CN(){_n(!Jx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${tT}`)}function tl(c){c!=null&&c.cancel&&c.cancel()}function Wb(c,t){return Object.defineProperty(c,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(c,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(c,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(c,"originalHeight",{get(){return this.view[3]},configurable:!0}),c}function RN(c){return c.name==="RenderingCancelledException"}function MN(c){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(c)})}function LN(c,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return c}}function iu(){return z.useReducer(LN,{value:void 0,error:void 0})}var DN=function(c,t,e,s){function r(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function d(m){try{g(s.next(m))}catch(y){u(y)}}function f(m){try{g(s.throw(m))}catch(y){u(y)}}function g(m){m.done?o(m.value):r(m.value).then(d,f)}g((s=s.apply(c,t||[])).next())})},d1=function(c,t){var e={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&t.indexOf(s)<0&&(e[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(c);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(c,s[r])&&(e[s[r]]=c[s[r]]);return e};const{PDFDataRangeTransport:ON}=QO,NN=(c,t)=>{switch(t){case c1.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");c(e);break}case c1.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");c(e);break}}};function f1(c){return typeof c=="object"&&c!==null&&("data"in c||"range"in c||"url"in c)}const kN=z.forwardRef(function(t,e){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:g,imageResourcesPath:m,loading:y="Loading PDF",noData:b="No PDF file specified.",onItemClick:A,onLoadError:E,onLoadProgress:w,onLoadSuccess:M,onPassword:T=NN,onSourceError:D,onSourceSuccess:N,options:k,renderMode:j,rotate:q}=t,K=d1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Z,nt]=iu(),{value:at,error:st}=Z,[mt,ft]=iu(),{value:pt,error:dt}=mt,F=z.useRef(new SN),X=z.useRef([]),et=z.useRef(void 0),At=z.useRef(void 0);f&&f!==et.current&&f1(f)&&(_n(!ic(f,et.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),et.current=f),k&&k!==At.current&&(_n(!ic(k,At.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),At.current=k);const L=z.useRef({scrollPageIntoView:Bt=>{const{dest:he,pageNumber:Ye,pageIndex:Me=Ye-1}=Bt;if(A){A({dest:he,pageIndex:Me,pageNumber:Ye});return}const an=X.current[Me];if(an){an.scrollIntoView();return}_n(!1,`An internal link leading to page ${Ye} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(e,()=>({linkService:F,pages:X,viewer:L}),[]);function I(){N&&N()}function $(){st&&(_n(!1,st.toString()),D&&D(st))}function W(){nt({type:"RESET"})}z.useEffect(W,[f,nt]);const it=z.useCallback(()=>DN(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return $b(f)?{data:u1(f)}:(h1(),{url:f});if(f instanceof ON)return{range:f};if(wN(f))return{data:f};if(Bg&&xN(f))return{data:yield MN(f)};if(re(typeof f=="object"),re(f1(f)),"url"in f&&typeof f.url=="string"){if($b(f.url)){const{url:Bt}=f,he=d1(f,["url"]),Ye=u1(Bt);return Object.assign({data:Ye},he)}h1()}return f}),[f]);z.useEffect(()=>{const Bt=Jd(it());return Bt.promise.then(he=>{nt({type:"RESOLVE",value:he})}).catch(he=>{nt({type:"REJECT",error:he})}),()=>{tl(Bt)}},[it,nt]),z.useEffect(()=>{if(!(typeof at>"u")){if(at===!1){$();return}I()}},[at]);function gt(){pt&&(M&&M(pt),X.current=new Array(pt.numPages),F.current.setDocument(pt))}function ot(){dt&&(_n(!1,dt.toString()),E&&E(dt))}z.useEffect(function(){ft({type:"RESET"})},[ft,at]),z.useEffect(function(){if(!at)return;const he=k?Object.assign(Object.assign({},at),k):at,Ye=$x(he);w&&(Ye.onProgress=w),T&&(Ye.onPassword=T);const Me=Ye,an=Me.promise.then(Cr=>{ft({type:"RESOLVE",value:Cr})}).catch(Cr=>{Me.destroyed||ft({type:"REJECT",error:Cr})});return()=>{an.finally(()=>Me.destroy())}},[k,ft,at]),z.useEffect(()=>{if(!(typeof pt>"u")){if(pt===!1){ot();return}gt()}},[pt]),z.useEffect(function(){F.current.setViewer(L.current),F.current.setExternalLinkRel(u),F.current.setExternalLinkTarget(d)},[u,d]);const ct=z.useCallback((Bt,he)=>{X.current[Bt]=he},[]),Et=z.useCallback(Bt=>{delete X.current[Bt]},[]),se=z.useMemo(()=>({imageResourcesPath:m,linkService:F.current,onItemClick:A,pdf:pt,registerPage:ct,renderMode:j,rotate:q,unregisterPage:Et}),[m,A,pt,ct,j,q,Et]),jt=z.useMemo(()=>Wx(K,()=>pt),[K,pt]);function qt(){return V.jsx(Zx.Provider,{value:se,children:s})}function kn(){return f?pt==null?V.jsx(sc,{type:"loading",children:typeof y=="function"?y():y}):pt===!1?V.jsx(sc,{type:"error",children:typeof o=="function"?o():o}):qt():V.jsx(sc,{type:"no-data",children:typeof b=="function"?b():b})}return V.jsx("div",Object.assign({className:Ug("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},jt,{children:kn()}))});function eT(){return z.useContext(Zx)}function nT(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];var e=c.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){e.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const iT=z.createContext(null),sT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},PN=/^H(\d+)$/;function FN(c){return c in sT}function qg(c){return"children"in c}function aT(c){return qg(c)?c.children.length===1&&0 in c.children&&"id"in c.children[0]:!1}function zN(c){const t={};if(qg(c)){const{role:e}=c,s=e.match(PN);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(FN(e)){const r=sT[e];r&&(t.role=r)}}return t}function rT(c){const t={};if(qg(c)){if(c.alt!==void 0&&(t["aria-label"]=c.alt),c.lang!==void 0&&(t.lang=c.lang),aT(c)){const[e]=c.children;if(e){const s=rT(e);return Object.assign(Object.assign({},t),s)}}}else"id"in c&&(t["aria-owns"]=c.id);return t}function HN(c){return c?Object.assign(Object.assign({},zN(c)),rT(c)):null}function oT({className:c,node:t}){const e=z.useMemo(()=>HN(t),[t]),s=z.useMemo(()=>!qg(t)||aT(t)?null:t.children.map((r,o)=>V.jsx(oT,{node:r},o)),[t]);return V.jsx("span",Object.assign({className:c},e,{children:s}))}function Gg(){return z.useContext(iT)}function jN(){const c=Gg();re(c);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=c,[s,r]=iu(),{value:o,error:u}=s,{customTextRenderer:d,page:f}=c;function g(){o&&e&&e(o)}function m(){u&&(_n(!1,u.toString()),t&&t(u))}return z.useEffect(function(){r({type:"RESET"})},[r,f]),z.useEffect(function(){if(d||!f)return;const b=Jd(f.getStructTree()),A=b;return b.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>tl(A)},[d,f,r]),z.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}g()}},[o]),o?V.jsx(oT,{className:"react-pdf__Page__structTree structTree",node:o}):null}const p1=Xx;function IN(c){const t=Gg();re(t);const e=Object.assign(Object.assign({},t),c),{_className:s,canvasBackground:r,devicePixelRatio:o=TN(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:g,renderTextLayer:m,rotate:y,scale:b}=e,{canvasRef:A}=c;re(f);const E=z.useRef(null);function w(){f&&d&&d(Wb(f,b))}function M(k){RN(k)||(_n(!1,k.toString()),u&&u(k))}const T=z.useMemo(()=>f.getViewport({scale:b*o,rotation:y}),[o,f,y,b]),D=z.useMemo(()=>f.getViewport({scale:b,rotation:y}),[f,y,b]);z.useEffect(function(){if(!f)return;f.cleanup();const{current:j}=E;if(!j)return;j.width=T.width,j.height=T.height,j.style.width=`${Math.floor(D.width)}px`,j.style.height=`${Math.floor(D.height)}px`,j.style.visibility="hidden";const q={annotationMode:g?p1.ENABLE_FORMS:p1.ENABLE,canvasContext:j.getContext("2d",{alpha:!1}),viewport:T};r&&(q.background=r);const K=f.render(q),Z=K;return K.promise.then(()=>{j.style.visibility="",w()}).catch(M),()=>tl(Z)},[r,f,g,T,D]);const N=z.useCallback(()=>{const{current:k}=E;k&&(k.width=0,k.height=0)},[]);return z.useEffect(()=>N,[N]),V.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:nT(A,E),style:{display:"block",userSelect:"none"},children:m?V.jsx(jN,{}):null})}function UN(c){return"str"in c}function BN(){const c=Gg();re(c);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:u,pageIndex:d,pageNumber:f,rotate:g,scale:m}=c;re(u);const[y,b]=iu(),{value:A,error:E}=y,w=z.useRef(null);_n(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&s&&s(A)}function T(){E&&(_n(!1,E.toString()),e&&e(E))}z.useEffect(function(){b({type:"RESET"})},[u,b]),z.useEffect(function(){if(!u)return;const Z=Jd(u.getTextContent()),nt=Z;return Z.promise.then(at=>{b({type:"RESOLVE",value:at})}).catch(at=>{b({type:"REJECT",error:at})}),()=>tl(nt)},[u,b]),z.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}M()}},[A]);const D=z.useCallback(()=>{o&&o()},[o]),N=z.useCallback(K=>{_n(!1,K.toString()),r&&r(K)},[r]);function k(){const K=w.current;K&&K.classList.add("selecting")}function j(){const K=w.current;K&&K.classList.remove("selecting")}const q=z.useMemo(()=>u.getViewport({scale:m,rotation:g}),[u,g,m]);return z.useLayoutEffect(function(){if(!u||!A)return;const{current:Z}=w;if(!Z)return;Z.innerHTML="";const nt=u.streamTextContent({includeMarkedContent:!0}),at={container:Z,textContentSource:nt,viewport:q},st=new Kx(at),mt=st;return st.render().then(()=>{const ft=document.createElement("div");ft.className="endOfContent",Z.append(ft);const pt=Z.querySelectorAll('[role="presentation"]');if(t){let dt=0;A.items.forEach((F,X)=>{if(!UN(F))return;const et=pt[dt];if(!et)return;const At=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:X},F));et.innerHTML=At,dt+=F.str&&F.hasEOL?2:1})}D()}).catch(N),()=>tl(mt)},[t,N,D,u,d,f,A,q]),V.jsx("div",{className:Ug("react-pdf__Page__textContent","textLayer"),onMouseUp:j,onMouseDown:k,ref:w})}function qN(){const c=eT(),t=Gg();re(t);const e=Object.assign(Object.assign({},c),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:g,pdf:m,renderForms:y,rotate:b,scale:A=1}=e;re(m),re(g),re(r);const[E,w]=iu(),{value:M,error:T}=E,D=z.useRef(null);_n(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){M&&u&&u(M)}function k(){T&&(_n(!1,T.toString()),o&&o(T))}z.useEffect(function(){w({type:"RESET"})},[w,g]),z.useEffect(function(){if(!g)return;const nt=Jd(g.getAnnotations()),at=nt;return nt.promise.then(st=>{w({type:"RESOLVE",value:st})}).catch(st=>{w({type:"REJECT",error:st})}),()=>{tl(at)}},[w,g]),z.useEffect(()=>{if(M!==void 0){if(M===!1){k();return}N()}},[M]);function j(){f&&f()}function q(Z){_n(!1,`${Z}`),d&&d(Z)}const K=z.useMemo(()=>g.getViewport({scale:A,rotation:b}),[g,b,A]);return z.useEffect(function(){if(!m||!g||!r||!M)return;const{current:nt}=D;if(!nt)return;const at=K.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:nt,l10n:null,page:g,structTreeLayer:null,viewport:at},mt={annotations:M,annotationStorage:m.annotationStorage,div:nt,imageResourcesPath:s,linkService:r,page:g,renderForms:y,viewport:at};nt.innerHTML="";try{new Yx(st).render(mt),j()}catch(ft){q(ft)}return()=>{}},[M,s,r,g,m,y,K]),V.jsx("div",{className:Ug("react-pdf__Page__annotations","annotationLayer"),ref:D})}var GN=function(c,t){var e={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&t.indexOf(s)<0&&(e[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(c);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(c,s[r])&&(e[s[r]]=c[s[r]]);return e};const g1=1;function VN(c){const t=eT(),e=Object.assign(Object.assign({},t),c),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:u,children:d,className:f,customRenderer:g,customTextRenderer:m,devicePixelRatio:y,error:b="Failed to load the page.",height:A,inputRef:E,loading:w="Loading page",noData:M="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:D,onGetStructTreeError:N,onGetStructTreeSuccess:k,onGetTextError:j,onGetTextSuccess:q,onLoadError:K,onLoadSuccess:Z,onRenderAnnotationLayerError:nt,onRenderAnnotationLayerSuccess:at,onRenderError:st,onRenderSuccess:mt,onRenderTextLayerError:ft,onRenderTextLayerSuccess:pt,pageIndex:dt,pageNumber:F,pdf:X,registerPage:et,renderAnnotationLayer:At=!0,renderForms:L=!1,renderMode:I="canvas",renderTextLayer:$=!0,rotate:W,scale:it=g1,unregisterPage:gt,width:ot}=e,ct=GN(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Et,se]=iu(),{value:jt,error:qt}=Et,kn=z.useRef(null);re(X);const Bt=Xr(F)?F-1:dt??null,he=F??(Xr(dt)?dt+1:null),Ye=W??(jt?jt.rotate:null),Me=z.useMemo(()=>{if(!jt)return null;let Le=1;const Xn=it??g1;if(ot||A){const Xe=jt.getViewport({scale:1,rotation:Ye});ot?Le=ot/Xe.width:A&&(Le=A/Xe.height)}return Xn*Le},[A,jt,Ye,it,ot]);z.useEffect(function(){return()=>{Xr(Bt)&&r&&gt&&gt(Bt)}},[r,X,Bt,gt]);function an(){if(Z){if(!jt||!Me)return;Z(Wb(jt,Me))}if(r&&et){if(!Xr(Bt)||!kn.current)return;et(Bt,kn.current)}}function Cr(){qt&&(_n(!1,qt.toString()),K&&K(qt))}z.useEffect(function(){se({type:"RESET"})},[se,X,Bt]),z.useEffect(function(){if(!X||!he)return;const Xn=Jd(X.getPage(he)),Xe=Xn;return Xn.promise.then(ou=>{se({type:"RESOLVE",value:ou})}).catch(ou=>{se({type:"REJECT",error:ou})}),()=>tl(Xe)},[se,X,he]),z.useEffect(()=>{if(jt!==void 0){if(jt===!1){Cr();return}an()}},[jt,Me]);const tf=z.useMemo(()=>jt&&Xr(Bt)&&he&&Xr(Ye)&&Xr(Me)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:y,onGetAnnotationsError:T,onGetAnnotationsSuccess:D,onGetStructTreeError:N,onGetStructTreeSuccess:k,onGetTextError:j,onGetTextSuccess:q,onRenderAnnotationLayerError:nt,onRenderAnnotationLayerSuccess:at,onRenderError:st,onRenderSuccess:mt,onRenderTextLayerError:ft,onRenderTextLayerSuccess:pt,page:jt,pageIndex:Bt,pageNumber:he,renderForms:L,renderTextLayer:$,rotate:Ye,scale:Me}:null,[s,o,m,y,T,D,N,k,j,q,nt,at,st,mt,ft,pt,jt,Bt,he,L,$,Ye,Me]),ef=z.useMemo(()=>Wx(ct,()=>jt&&(Me?Wb(jt,Me):void 0)),[ct,jt,Me]),_s=`${Bt}@${Me}/${Ye}`;function Vg(){switch(I){case"custom":return re(g),V.jsx(g,{},`${_s}_custom`);case"none":return null;case"canvas":default:return V.jsx(IN,{canvasRef:u},`${_s}_canvas`)}}function nf(){return $?V.jsx(BN,{},`${_s}_text`):null}function Yg(){return At?V.jsx(qN,{},`${_s}_annotations`):null}function Xg(){return V.jsxs(iT.Provider,{value:tf,children:[Vg(),nf(),Yg(),d]})}function Rr(){return he?X===null||jt===void 0||jt===null?V.jsx(sc,{type:"loading",children:typeof w=="function"?w():w}):X===!1||jt===!1?V.jsx(sc,{type:"error",children:typeof b=="function"?b():b}):Xg():V.jsx(sc,{type:"no-data",children:typeof M=="function"?M():M})}return V.jsx("div",Object.assign({className:Ug(s,f),"data-page-number":he,ref:nT(E,kn),style:{"--scale-factor":`${Me}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ef,{children:Rr()}))}CN();m0.workerSrc="pdf.worker.mjs";const m1="/assets/cv-CpNtB6jK.pdf";m0.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function YN(){const[c,t]=z.useState(null);return V.jsxs("div",{className:"cv-container",children:[V.jsx("h1",{children:"Mon CV"}),V.jsx(kN,{file:m1,onLoadSuccess:({numPages:e})=>t(e),children:Array.from(new Array(c),(e,s)=>V.jsx(VN,{pageNumber:s+1},s))}),V.jsx("a",{href:m1,download:!0,className:"cv-download",children:"Tlcharger le CV"})]})}function XN(){return V.jsxs(C2,{children:[V.jsx(Ry,{path:"/",element:V.jsxs(V.Fragment,{children:[V.jsx(bM,{}),V.jsxs("main",{children:[V.jsx(AM,{}),V.jsx(SM,{}),V.jsx(_M,{}),V.jsx(TM,{}),V.jsx(RM,{}),V.jsx(LM,{}),V.jsx(cL,{})]}),V.jsx(uL,{})]})}),V.jsx(Ry,{path:"/cv",element:V.jsx(YN,{})})]})}PR.createRoot(document.getElementById("root")).render(V.jsx(Q2,{children:V.jsx(XN,{})}));
